<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>虚拟商品商店</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }

        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --accent: #4cc9f0;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #4ade80;
            --warning: #f59e0b;
            --danger: #ef4444;
            --gray: #6c757d;
            --border-radius: 12px;
            --box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark);
            min-height: 100vh;
            position: relative;
            padding-bottom: 80px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* 语言和货币选择器 */
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .language-selector, .currency-selector {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .selector-btn {
            padding: 8px 16px;
            border-radius: 50px;
            background: white;
            border: 1px solid #ddd;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .selector-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .selector-btn:hover:not(.active) {
            background: #f0f0f0;
        }

        /* 头部样式 */
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            position: relative;
        }

        .discord-link {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #5865F2;
            color: white;
            padding: 8px 16px;
            border-radius: 50px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            transition: var(--transition);
        }

        .discord-link:hover {
            background: #4752C4;
            transform: translateY(-2px);
        }

        header h1 {
            color: var(--primary);
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        header p {
            color: var(--gray);
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        /* 商品展示区 */
        .products {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .product-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .product-header {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }

        .product-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .product-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .product-desc {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .product-options {
            padding: 20px;
        }

        .option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px dashed #eee;
        }

        .option:last-child {
            border-bottom: none;
        }

        .option-name {
            font-weight: 500;
        }

        .option-price {
            font-weight: 700;
            color: var(--primary);
        }

        .add-to-cart {
            width: 100%;
            padding: 15px;
            background: var(--primary);
            color: white;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .add-to-cart:hover {
            background: var(--secondary);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 语言和货币选择器 -->
        <div class="top-bar">
            <div class="language-selector">
                <span id="lang-label">语言:</span>
                <button class="selector-btn active" data-lang="zh">华文</button>
                <button class="selector-btn" data-lang="en">English</button>
            </div>
            <div class="currency-selector">
                <span id="currency-label">货币:</span>
                <button class="selector-btn" data-currency="MYR">MYR</button>
                <button class="selector-btn" data-currency="TWD">TWD</button>
                <button class="selector-btn active" data-currency="USD">USD</button>
            </div>
        </div>

        <!-- 头部 -->
        <header>
            <a href="https://discord.gg/3BRcSV5Jvf" target="_blank" class="discord-link">
                <i class="fab fa-discord"></i> Discord 客服
            </a>
            <h1 id="site-title">虚拟商品商店</h1>
            <p id="site-desc">购买您喜欢的虚拟商品，包括 Discord Nitro、Robux、Spotify Premium 和 Canva Pro</p>
            <div class="contact-info">
                <p><i class="fab fa-whatsapp"></i> WhatsApp: <strong>+60 11-6243 0710</strong></p>
            </div>
        </header>
<!-- 商品展示 -->
<section id="products-section">
    <h2 class="section-title"><i class="fas fa-store"></i> <span id="products-title">精选商品</span></h2>
    <div class="products" id="products-container">
        <!-- 产品会通过JavaScript动态生成 -->
    </div>
</section>

/* 购物车样式 */
.cart-section {
    background: white;
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    padding: 25px;
    margin-bottom: 40px;
}

.section-title {
    font-size: 1.8rem;
    margin-bottom: 20px;
    color: var(--primary);
    display: flex;
    align-items: center;
    gap: 10px;
}

.cart-items {
    margin-bottom: 20px;
}

.cart-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 10px;
    margin-bottom: 10px;
}

.cart-item-info h4 {
    margin-bottom: 5px;
}

.cart-item-info p {
    color: var(--gray);
    font-size: 0.9rem;
}

.cart-item-price {
    font-weight: 700;
    color: var(--primary);
}

.cart-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 20px;
    border-top: 1px solid #eee;
}

.cart-total {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--primary);
}

.checkout-btn {
    padding: 15px 30px;
    background: var(--success);
    color: white;
    border: none;
    border-radius: 50px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
}

.checkout-btn:hover {
    background: #22c55e;
    transform: scale(1.05);
}

/* 付款页面样式 */
.payment-section {
    background: white;
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    padding: 25px;
    margin-bottom: 40px;
    display: none;
}

.payment-methods {
    display: flex;
    gap: 15px;
    margin-bottom: 30px;
    flex-wrap: wrap;
}

.payment-method {
    flex: 1;
    min-width: 200px;
    padding: 20px;
    border: 2px solid #eee;
    border-radius: var(--border-radius);
    text-align: center;
    cursor: pointer;
    transition: var(--transition);
}

.payment-method:hover, .payment-method.active {
    border-color: var(--primary);
    background: rgba(67, 97, 238, 0.05);
}

.payment-method i {
    font-size: 2rem;
    margin-bottom: 10px;
    color: var(--primary);
}

<!-- 购物车 -->
<section class="cart-section" id="cart-section">
    <h2 class="section-title"><i class="fas fa-shopping-cart"></i> <span id="cart-title">购物车</span></h2>
    <div class="cart-items" id="cart-items">
        <!-- 购物车项目会动态生成 -->
        <div class="empty-cart" id="empty-cart">购物车是空的</div>
    </div>
    <div class="cart-actions">
        <div>
            <span id="total-label">总计:</span>
            <span class="cart-total" id="cart-total">$0.00</span>
        </div>
        <button class="checkout-btn" id="checkout-btn">前往付款</button>
    </div>
</section>
.payment-details {
    background: #f8f9fa;
    padding: 25px;
    border-radius: var(--border-radius);
    display: none;
}

.payment-details.active {
    display: block;
}

.payment-info {
    margin-bottom: 20px;
}

.payment-info h4 {
    margin-bottom: 15px;
    color: var(--primary);
}

.qr-code {
    width: 200px;
    height: 200px;
    background: #ddd;
    margin: 20px auto;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 10px;
    font-weight: 700;
    color: var(--gray);
    overflow: hidden;
}

.qr-code img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.payment-actions {
    display: flex;
    justify-content: space-between;
    margin-top: 30px;
}

.back-btn, .confirm-payment-btn {
    padding: 15px 30px;
    border-radius: 50px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    border: none;
}

.back-btn {
    background: #f1f5f9;
    color: var(--gray);
}

.confirm-payment-btn {
    background: var(--success);
    color: white;
}

.back-btn:hover {
    background: #e2e8f0;
}

.confirm-payment-btn:hover {
    background: #22c55e;
}

/* 完成页面样式 */
.complete-section {
    background: white;
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    padding: 40px;
    text-align: center;
    display: none;
    margin-bottom: 40px;
}

.complete-icon {
    font-size: 4rem;
    color: var(--success);
    margin-bottom: 20px;
}

.complete-section h2 {
    color: var(--primary);
    margin-bottom: 15px;
}

.complete-section p {
    color: var(--gray);
    margin-bottom: 30px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.continue-shopping-btn {
    padding: 15px 40px;
    background: var(--primary);
    color: white;
    border: none;
    border-radius: 50px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
}

.continue-shopping-btn:hover {
    background: var(--secondary);
    transform: scale(1.05);
}
    <!-- 付款页面 -->
    <section class="payment-section" id="payment-section">
        <h2 class="section-title"><i class="fas fa-credit-card"></i> <span id="payment-title">付款</span></h2>
        <div class="payment-methods">
            <div class="payment-method" data-method="tng">
                <i class="fas fa-mobile-alt"></i>
                <h3>TNG</h3>
                <p id="tng-desc">使用Touch 'n Go电子钱包付款</p>
            </div>
            <div class="payment-method" data-method="ltc">
                <i class="fab fa-bitcoin"></i>
                <h3>LTC</h3>
                <p id="ltc-desc">使用Litecoin加密货币付款</p>
            </div>
        </div>

        <div class="payment-details" id="tng-details">
            <div class="payment-info">
                <h4 id="tng-instructions">TNG付款说明</h4>
                <p id="tng-step1">1. 打开您的TNG电子钱包应用</p>
                <p id="tng-step2">2. 扫描下面的QR码或使用手机号码付款</p>
                <p id="tng-step3">3. 付款后请点击"确认付款"按钮</p>
                
                <div class="qr-code">
                    <img src="https://i.ibb.co/mFC45kFx/IMG-20251215-184553-1.jpg" alt="TNG QR Code">
                </div>
                
                <p><strong id="tng-phone-label">付款手机号码:</strong> +60 11-6243 0710</p>
                <p><strong>WhatsApp:</strong> +60 11-6243 0710</p>
            </div>
            
            <div class="payment-actions">
                <button class="back-btn" id="back-to-cart-btn"><i class="fas fa-arrow-left"></i> <span id="back-to-cart">返回购物车</span></button>
                <button class="confirm-payment-btn" id="confirm-tng-btn"><i class="fas fa-check"></i> <span id="confirm-tng">确认TNG付款</span></button>
            </div>
        </div>

        <div class="payment-details" id="ltc-details">
            <div class="payment-info">
                <h4 id="ltc-instructions">LTC付款说明</h4>
                <p id="ltc-step1">1. 打开您的加密货币钱包</p>
                <p id="ltc-step2">2. 发送LTC到以下地址或扫描QR码</p>
                <p id="ltc-step3">3. 付款后请点击"确认付款"按钮</p>
                
                <div class="qr-code">
                    <img src="https://i.ibb.co/JjqdbnSn/IMG-20260102-WA0000.jpg" alt="LTC QR Code">
                </div>
                
                <p><strong id="ltc-address-label">LTC地址:</strong> ltc1qq7ra3uhka9sf38tq4m5elp0mawn99ytxkk0xvw</p>
                <p><strong>付款后请WhatsApp截图确认:</strong> +60 11-6243 0710</p>
            </div>
            
            <div class="payment-actions">
                <button class="back-btn" id="back-to-cart-btn2"><i class="fas fa-arrow-left"></i> <span id="back-to-cart2">返回购物车</span></button>
                <button class="confirm-payment-btn" id="confirm-ltc-btn"><i class="fas fa-check"></i> <span id="confirm-ltc">确认LTC付款</span></button>
            </div>
        </div>
    </section>

    <!-- 付款完成页面 -->
    <section class="complete-section" id="complete-section">
        <div class="complete-icon">
            <i class="fas fa-check-circle"></i>
        </div>
        <h2 id="complete-title">付款成功!</h2>
        <p id="complete-message">感谢您的购买! 您的订单已确认，商品将很快发送到您的电子邮件。如有任何问题，请联系我们的客服。</p>
        <div class="contact-after-payment">
            <p><i class="fab fa-whatsapp"></i> WhatsApp: <strong>+60 11-6243 0710</strong></p>
            <p><i class="fab fa-discord"></i> Discord: <a href="https://discord.gg/3BRcSV5Jvf" target="_blank">https://discord.gg/3BRcSV5Jvf</a></p>
        </div>
        <button class="continue-shopping-btn" id="continue-shopping-btn"><i class="fas fa-shopping-cart"></i> <span id="continue-shopping">继续购物</span></button>
    </section>
</div>
    /* 音乐播放器 */
    .music-player {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: white;
        border-radius: 50px;
        box-shadow: var(--box-shadow);
        padding: 10px 20px;
        display: flex;
        align-items: center;
        gap: 15px;
        z-index: 100;
    }

    .music-controls {
        display: flex;
        gap: 10px;
    }

    .music-btn {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: var(--primary);
        color: white;
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: var(--transition);
    }

    .music-btn:hover {
        background: var(--secondary);
    }

    .music-info {
        font-size: 0.9rem;
    }

    .now-playing {
        font-weight: 600;
        color: var(--primary);
    }

    /* 响应式设计 */
    @media (max-width: 768px) {
        .products {
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        }
        
        .payment-methods {
            flex-direction: column;
        }
        
        .payment-method {
            min-width: 100%;
        }
        
        header h1 {
            font-size: 2.2rem;
        }
        
        .cart-actions {
            flex-direction: column;
            gap: 20px;
            align-items: flex-start;
        }
        
        .discord-link {
            position: static;
            margin-bottom: 15px;
            display: inline-flex;
        }
        
        .contact-info {
            margin-top: 15px;
        }
    }
    
    /* 动画 */
    @keyframes slideIn {
        from {
            transform: translateX(100%);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }
    
    @keyframes slideOut {
        from {
            transform: translateX(0);
            opacity: 1;
        }
        to {
            transform: translateX(100%);
            opacity: 0;
        }
    }
    
    .contact-info {
        margin-top: 15px;
        padding: 10px;
        background: rgba(67, 97, 238, 0.1);
        border-radius: 8px;
        display: inline-block;
    }
    
    .contact-after-payment {
        margin: 20px 0;
        padding: 15px;
        background: #f8f9fa;
        border-radius: 8px;
    }
    
    .contact-after-payment a {
        color: var(--primary);
        text-decoration: none;
    }
    
    .contact-after-payment a:hover {
        text-decoration: underline;
    }
</style>
<!-- 音乐播放器 -->
<div class="music-player">
    <div class="music-info">
        <div class="now-playing" id="now-playing">Now Playing: Chill Vibes</div>
    </div>
    <div class="music-controls">
        <button class="music-btn" id="prev-btn">
            <i class="fas fa-step-backward"></i>
        </button>
        <button class="music-btn" id="play-pause-btn">
            <i class="fas fa-play"></i>
        </button>
        <button class="music-btn" id="next-btn">
            <i class="fas fa-step-forward"></i>
        </button>
    </div>
</div>

<script>
    // 语言数据
    const translations = {
        zh: {
            siteTitle: "虚拟商品商店",
            siteDesc: "购买您喜欢的虚拟商品，包括 Discord Nitro、Robux、Spotify Premium 和 Canva Pro",
            productsTitle: "精选商品",
            cartTitle: "购物车",
            paymentTitle: "付款",
            completeTitle: "付款成功!",
            completeMessage: "感谢您的购买! 您的订单已确认，商品将很快发送到您的电子邮件。如有任何问题，请联系我们的客服。",
            continueShopping: "继续购物",
            totalLabel: "总计:",
            checkoutBtn: "前往付款",
            emptyCart: "购物车是空的",
            backToCart: "返回购物车",
            backToCart2: "返回购物车",
            confirmTng: "确认TNG付款",
            confirmLtc: "确认LTC付款",
            tngDesc: "使用Touch 'n Go电子钱包付款",
            ltcDesc: "使用Litecoin加密货币付款",
            tngInstructions: "TNG付款说明",
            tngStep1: "1. 打开您的TNG电子钱包应用",
            tngStep2: "2. 扫描下面的QR码或使用手机号码付款",
            tngStep3: "3. 付款后请点击'确认付款'按钮",
            tngPhoneLabel: "付款手机号码:",
            ltcInstructions: "LTC付款说明",
            ltcStep1: "1. 打开您的加密货币钱包",
            ltcStep2: "2. 发送LTC到以下地址或扫描QR码",
            ltcStep3: "3. 付款后请点击'确认付款'按钮",
            ltcAddressLabel: "LTC地址:",
            langLabel: "语言:",
            currencyLabel: "货币:",
            nitroName: "Discord Nitro",
            nitroDesc: "增强您的Discord体验",
            nitroLinkOption: "链接激活",
            nitroLoginOption: "账号登入",
            robuxName: "Robux",
            robuxDesc: "Roblox游戏货币",
            robuxTaxOption: "包税 (500 Robux)",
            robuxNoTaxOption: "不包税 (450 Robux)",
            robuxGiftOption: "代送服务",
            spotifyName: "Spotify Premium",
            spotifyDesc: "无广告音乐体验",
            spotify4Option: "4个月",
            spotify8Option: "8个月",
            spotify12Option: "12个月",
            canvaName: "Canva Pro",
            canvaDesc: "专业设计工具",
            canvaOption: "1年订阅"
        },
        en: {
            siteTitle: "Virtual Goods Store",
            siteDesc: "Purchase your favorite virtual goods including Discord Nitro, Robux, Spotify Premium, and Canva Pro",
            productsTitle: "Featured Products",
            cartTitle: "Shopping Cart",
            paymentTitle: "Payment",
            completeTitle: "Payment Successful!",
            completeMessage: "Thank you for your purchase! Your order has been confirmed and the goods will be sent to your email shortly. If you have any questions, please contact our customer service.",
            continueShopping: "Continue Shopping",
            totalLabel: "Total:",
            checkoutBtn: "Proceed to Checkout",
            emptyCart: "Your cart is empty",
            backToCart: "Back to Cart",
            backToCart2: "Back to Cart",
            confirmTng: "Confirm TNG Payment",
            confirmLtc: "Confirm LTC Payment",
            tngDesc: "Pay using Touch 'n Go e-wallet",
            ltcDesc: "Pay using Litecoin cryptocurrency",
            tngInstructions: "TNG Payment Instructions",
            tngStep1: "1. Open your TNG e-wallet app",
            tngStep2: "2. Scan the QR code below or pay using phone number",
            tngStep3: "3. Click 'Confirm Payment' after payment",
            tngPhoneLabel: "Payment Phone Number:",
            ltcInstructions: "LTC Payment Instructions",
            ltcStep1: "1. Open your cryptocurrency wallet",
            ltcStep2: "2. Send LTC to the address below or scan the QR code",
            ltcStep3: "3. Click 'Confirm Payment' after payment",
            ltcAddressLabel: "LTC Address:",
            langLabel: "Language:",
            currencyLabel: "Currency:",
            nitroName: "Discord Nitro",
            nitroDesc: "Enhance your Discord experience",
            nitroLinkOption: "Link Activation",
            nitroLoginOption: "Account Login",
            robuxName: "Robux",
            robuxDesc: "Roblox game currency",
            robuxTaxOption: "With Tax (500 Robux)",
            robuxNoTaxOption: "No Tax (450 Robux)",
            robuxGiftOption: "Gifting Service",
            spotifyName: "Spotify Premium",
            spotifyDesc: "Ad-free music experience",
            spotify4Option: "4 Months",
            spotify8Option: "8 Months",
            spotify12Option: "12 Months",
            canvaName: "Canva Pro",
            canvaDesc: "Professional design tool",
            canvaOption: "1 Year Subscription"
        }
    };

    // 货币汇率 (相对于USD)
    const exchangeRates = {
        USD: 1,
        MYR: 4.75,
        TWD: 30.5
    };

    // 货币符号
    const currencySymbols = {
        USD: "$",
        MYR: "RM",
        TWD: "NT$"
    };

    // 商品数据
    const products = [
        {
            id: 1,
            nameKey: "nitroName",
            descKey: "nitroDesc",
            icon: "fas fa-gamepad",
            options: [
                { nameKey: "nitroLinkOption", priceUSD: 9.99 },
                { nameKey: "nitroLoginOption", priceUSD: 8.99 }
            ]
        },
        {
            id: 2,
            nameKey: "robuxName",
            descKey: "robuxDesc",
            icon: "fas fa-gem",
            options: [
                { nameKey: "robuxTaxOption", priceUSD: 5.99 },
                { nameKey: "robuxNoTaxOption", priceUSD: 5.49 },
                { nameKey: "robuxGiftOption", priceUSD: 6.49 }
            ]
        },
        {
            id: 3,
            nameKey: "spotifyName",
            descKey: "spotifyDesc",
            icon: "fab fa-spotify",
            options: [
                { nameKey: "spotify4Option", priceUSD: 15.99 },
                { nameKey: "spotify8Option", priceUSD: 29.99 },
                { nameKey: "spotify12Option", priceUSD: 39.99 }
            ]
        },
        {
            id: 4,
            nameKey: "canvaName",
            descKey: "canvaDesc",
            icon: "fas fa-palette",
            options: [
                { nameKey: "canvaOption", priceUSD: 119.99 }
            ]
        }
    ];

    // 购物车数据
    let cart = [];
    let currentLanguage = 'zh';
    let currentCurrency = 'USD';
    let currentPaymentMethod = null;
    let isPlaying = false;
// 初始化页面
document.addEventListener('DOMContentLoaded', function() {
    // 设置初始语言和货币
    updateLanguage();
    updateCurrency();
    renderProducts();
    updateCartDisplay();
    
    // 语言切换事件
    document.querySelectorAll('.language-selector .selector-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            document.querySelectorAll('.language-selector .selector-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            currentLanguage = this.dataset.lang;
            updateLanguage();
            renderProducts();
            updateCartDisplay();
        });
    });
    
    // 货币切换事件
    document.querySelectorAll('.currency-selector .selector-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            document.querySelectorAll('.currency-selector .selector-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            currentCurrency = this.dataset.currency;
            updateCurrency();
            renderProducts();
            updateCartDisplay();
        });
    });
    
    // 付款方式选择事件
    document.querySelectorAll('.payment-method').forEach(method => {
        method.addEventListener('click', function() {
            document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('active'));
            this.classList.add('active');
            currentPaymentMethod = this.dataset.method;
            
            // 显示对应的付款详情
            document.querySelectorAll('.payment-details').forEach(detail => {
                detail.classList.remove('active');
            });
            document.getElementById(`${currentPaymentMethod}-details`).classList.add('active');
        });
    });
    
    // 添加到购物车事件（委托）
    document.getElementById('products-container').addEventListener('click', function(e) {
        if (e.target.classList.contains('add-to-cart')) {
            const productId = parseInt(e.target.dataset.productId);
            const optionIndex = parseInt(e.target.dataset.optionIndex);
            addToCart(productId, optionIndex);
        }
    });
    
    // 前往付款按钮
    document.getElementById('checkout-btn').addEventListener('click', function() {
        if (cart.length === 0) return;
        document.getElementById('cart-section').style.display = 'none';
        document.getElementById('payment-section').style.display = 'block';
        document.getElementById('products-section').style.display = 'none';
    });
    
    // 返回购物车按钮
    document.getElementById('back-to-cart-btn').addEventListener('click', goBackToCart);
    document.getElementById('back-to-cart-btn2').addEventListener('click', goBackToCart);
    
    // 确认付款按钮
    document.getElementById('confirm-tng-btn').addEventListener('click', completePayment);
    document.getElementById('confirm-ltc-btn').addEventListener('click', completePayment);
    
    // 继续购物按钮
    document.getElementById('continue-shopping-btn').addEventListener('click', function() {
        document.getElementById('complete-section').style.display = 'none';
        document.getElementById('products-section').style.display = 'block';
        document.getElementById('cart-section').style.display = 'block';
        cart = [];
        updateCartDisplay();
    });
    
    // 音乐控制
    document.getElementById('play-pause-btn').addEventListener('click', togglePlayPause);
    document.getElementById('prev-btn').addEventListener('click', prevSong);
    document.getElementById('next-btn').addEventListener('click', nextSong);
    
    // 初始化第一个付款方式为激活状态
    document.querySelector('.payment-method').click();
    
    // 添加WhatsApp点击事件
    document.querySelectorAll('.contact-info, .contact-after-payment').forEach(el => {
        const whatsappLink = el.querySelector('strong');
        if (whatsappLink) {
            whatsappLink.style.cursor = 'pointer';
            whatsappLink.style.color = 'var(--primary)';
            whatsappLink.addEventListener('click', function() {
                const phone = '+601162430710';
                const message = '你好，我想询问关于虚拟商品购买的事宜。';
                window.open(`https://wa.me/${phone}?text=${encodeURIComponent(message)}`, '_blank');
            });
        }
    });
});

// 更新语言
function updateLanguage() {
    // 更新所有带id的元素
    Object.keys(translations[currentLanguage]).forEach(key => {
        const element = document.getElementById(key);
        if (element) {
            element.textContent = translations[currentLanguage][key];
        }
    });
    
    // 更新WhatsApp显示
    const whatsappElements = document.querySelectorAll('.contact-info p, .contact-after-payment p');
    whatsappElements.forEach(el => {
        if (el.innerHTML.includes('WhatsApp')) {
            if (currentLanguage === 'zh') {
                el.innerHTML = `<i class="fab fa-whatsapp"></i> WhatsApp: <strong>+60 11-6243 0710</strong>`;
            } else {
                el.innerHTML = `<i class="fab fa-whatsapp"></i> WhatsApp: <strong>+60 11-6243 0710</strong>`;
            }
            
            // 重新绑定点击事件
            const strongEl = el.querySelector('strong');
            if (strongEl) {
                strongEl.style.cursor = 'pointer';
                strongEl.style.color = 'var(--primary)';
                strongEl.addEventListener('click', function() {
                    const phone = '+601162430710';
                    const message = currentLanguage === 'zh' ? 
                        '你好，我想询问关于虚拟商品购买的事宜。' : 
                        'Hello, I would like to inquire about purchasing virtual goods.';
                    window.open(`https://wa.me/${phone}?text=${encodeURIComponent(message)}`, '_blank');
                });
            }
        }
    });
}
        // 更新货币
        function updateCurrency() {
            // 更新货币标签
            document.getElementById('currency-label').textContent = translations[currentLanguage].currencyLabel;
        }

        // 渲染产品
        function renderProducts() {
            const container = document.getElementById('products-container');
            container.innerHTML = '';
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                
                let optionsHTML = '';
                product.options.forEach((option, index) => {
                    const price = convertCurrency(option.priceUSD);
                    optionsHTML += `
                        <div class="option">
                            <span class="option-name">${translations[currentLanguage][option.nameKey]}</span>
                            <span class="option-price">${price}</span>
                        </div>
                    `;
                });
                
                productCard.innerHTML = `
                    <div class="product-header">
                        <div class="product-icon">
                            <i class="${product.icon}"></i>
                        </div>
                        <h3 class="product-name">${translations[currentLanguage][product.nameKey]}</h3>
                        <p class="product-desc">${translations[currentLanguage][product.descKey]}</p>
                    </div>
                    <div class="product-options">
                        ${optionsHTML}
                    </div>
                    <button class="add-to-cart" data-product-id="${product.id}" data-option-index="0">
                        <i class="fas fa-cart-plus"></i> ${translations[currentLanguage].checkoutBtn}
                    </button>
                `;
                
                // 为每个选项添加添加到购物车按钮
                const optionsContainer = productCard.querySelector('.product-options');
                product.options.forEach((option, index) => {
                    const optionElement = optionsContainer.children[index];
                    const addButton = document.createElement('button');
                    addButton.className = 'add-to-cart';
                    addButton.setAttribute('data-product-id', product.id);
                    addButton.setAttribute('data-option-index', index);
                    addButton.innerHTML = `<i class="fas fa-cart-plus"></i>`;
                    optionElement.appendChild(addButton);
                });
                
                container.appendChild(productCard);
            });
        }

        // 货币转换
        function convertCurrency(usdAmount) {
            const convertedAmount = usdAmount * exchangeRates[currentCurrency];
            return `${currencySymbols[currentCurrency]}${convertedAmount.toFixed(2)}`;
        }

        // 添加到购物车
        function addToCart(productId, optionIndex) {
            const product = products.find(p => p.id === productId);
            const option = product.options[optionIndex];
            
            const cartItem = {
                id: Date.now(), // 唯一ID
                productId: productId,
                optionIndex: optionIndex,
                name: translations[currentLanguage][product.nameKey],
                optionName: translations[currentLanguage][option.nameKey],
                priceUSD: option.priceUSD
            };
            
            cart.push(cartItem);
            updateCartDisplay();
            
            // 显示添加成功的反馈
            showNotification(`${translations[currentLanguage][product.nameKey]} - ${translations[currentLanguage][option.nameKey]} 已添加到购物车`);
        }

        // 更新购物车显示
        function updateCartDisplay() {
            const cartItemsContainer = document.getElementById('cart-items');
            const cartTotalElement = document.getElementById('cart-total');
            
            // 清空购物车容器
            cartItemsContainer.innerHTML = '';
            
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `<div class="empty-cart">${translations[currentLanguage].emptyCart}</div>`;
                cartTotalElement.textContent = `${currencySymbols[currentCurrency]}0.00`;
                return;
            }
            
            // 计算总价
            let totalUSD = 0;
            
            // 添加购物车项目
            cart.forEach(item => {
                totalUSD += item.priceUSD;
                
                const cartItemElement = document.createElement('div');
                cartItemElement.className = 'cart-item';
                cartItemElement.innerHTML = `
                    <div class="cart-item-info">
                        <h4>${item.name}</h4>
                        <p>${item.optionName}</p>
                    </div>
                    <div class="cart-item-price">
                        ${convertCurrency(item.priceUSD)}
                    </div>
                `;
                
                cartItemsContainer.appendChild(cartItemElement);
            });
            
            // 更新总价
            cartTotalElement.textContent = convertCurrency(totalUSD);
        }

        // 返回购物车
        function goBackToCart() {
            document.getElementById('payment-section').style.display = 'none';
            document.getElementById('cart-section').style.display = 'block';
            document.getElementById('products-section').style.display = 'block';
        }

        // 完成付款
        function completePayment() {
            document.getElementById('payment-section').style.display = 'none';
            document.getElementById('complete-section').style.display = 'block';
            
            // 在真实应用中，这里会发送支付确认到服务器
            console.log(`付款完成，使用 ${currentPaymentMethod.toUpperCase()} 支付，总额: ${document.getElementById('cart-total').textContent}`);
            
            // 显示付款后的联系信息
            const completeMessage = document.getElementById('complete-message');
            if (currentLanguage === 'zh') {
                completeMessage.innerHTML = `
                    感谢您的购买! 您的订单已确认，商品将很快发送到您的电子邮件。
                    <br><br>
                    <strong>重要:</strong> 付款后请务必通过以下方式联系我们确认付款：
                    <br><br>
                    <i class="fab fa-whatsapp"></i> WhatsApp: <strong style="color: var(--primary); cursor: pointer;">+60 11-6243 0710</strong>
                    <br>
                    <i class="fab fa-discord"></i> Discord: <a href="https://discord.gg/3BRcSV5Jvf" target="_blank">https://discord.gg/3BRcSV5Jvf</a>
                `;
            } else {
                completeMessage.innerHTML = `
                    Thank you for your purchase! Your order has been confirmed and the goods will be sent to your email shortly.
                    <br><br>
                    <strong>Important:</strong> Please contact us after payment to confirm:
                    <br><br>
                    <i class="fab fa-whatsapp"></i> WhatsApp: <strong style="color: var(--primary); cursor: pointer;">+60 11-6243 0710</strong>
                    <br>
                    <i class="fab fa-discord"></i> Discord: <a href="https://discord.gg/3BRcSV5Jvf" target="_blank">https://discord.gg/3BRcSV5Jvf</a>
                `;
            }
            
            // 绑定WhatsApp点击事件
            const whatsappEl = completeMessage.querySelector('strong');
            if (whatsappEl) {
                whatsappEl.addEventListener('click', function() {
                    const phone = '+601162430710';
                    const message = currentLanguage === 'zh' ? 
                        '你好，我已经完成付款，订单详情如下：' : 
                        'Hello, I have completed the payment. Order details:';
                    window.open(`https://wa.me/${phone}?text=${encodeURIComponent(message)}`, '_blank');
                });
            }
        }

        // 显示通知
        function showNotification(message) {
            // 创建通知元素
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--success);
                color: white;
                padding: 15px 25px;
                border-radius: var(--border-radius);
                box-shadow: var(--box-shadow);
                z-index: 1000;
                animation: slideIn 0.3s ease;
            `;
            
            document.body.appendChild(notification);
            
            // 3秒后移除通知
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // 音乐控制函数
        function togglePlayPause() {
            const btn = document.getElementById('play-pause-btn');
            const icon = btn.querySelector('i');
            
            isPlaying = !isPlaying;
            
            if (isPlaying) {
                icon.className = 'fas fa-pause';
                document.getElementById('now-playing').textContent = currentLanguage === 'zh' ? '正在播放: 轻松氛围' : 'Now Playing: Chill Vibes';
                
                // 在实际应用中，这里会播放音乐
                // 现在使用简单的音频提示
                playSound();
            } else {
                icon.className = 'fas fa-play';
                document.getElementById('now-playing').textContent = currentLanguage === 'zh' ? '已暂停' : 'Paused';
            }
        }

        function playSound() {
            // 创建简单的音频上下文播放提示音
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = 440;
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.5);
            } catch (e) {
                console.log('音频播放失败:', e);
            }
        }

        function prevSong() {
            showNotification(currentLanguage === 'zh' ? '上一首歌曲' : 'Previous Song');
        }

        function nextSong() {
            showNotification(currentLanguage === 'zh' ? '下一首歌曲' : 'Next Song');
        }
    </script>
</body>
</html>
