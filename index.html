<!doctype html>
<html lang="zh-CN" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nyaaastore - Luxury Digital Store</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  
  <style>
    body {
      box-sizing: border-box;
    }
    
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&family=Montserrat:wght@100;200;300;400;500;600;700;800&display=swap');
    
    * {
      font-family: 'Montserrat', sans-serif;
    }
    
    .luxury-title {
      font-family: 'Playfair Display', serif;
    }
    
    .animated-bg {
      background: linear-gradient(180deg, #0a0014 0%, #1a0a2e 50%, #000000 100%);
      position: relative;
      overflow: hidden;
    }
    
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }
    
    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: white;
      border-radius: 50%;
      animation: twinkle 3s infinite ease-in-out;
    }
    
    @keyframes twinkle {
      0%, 100% { opacity: 0.3; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.5); }
    }
    
    .glass-card {
      background: rgba(15, 15, 35, 0.7);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 
        0 8px 32px 0 rgba(138, 43, 226, 0.2),
        inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
    }
    
    .product-card {
      background: linear-gradient(135deg, rgba(15, 15, 35, 0.95) 0%, rgba(25, 25, 60, 0.9) 100%);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(138, 43, 226, 0.5);
      position: relative;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      overflow: hidden;
    }
    
    .product-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 60px rgba(138, 43, 226, 0.4);
    }
    
    .icon-container {
      position: relative;
    }
    
    .holographic-text {
      background: linear-gradient(135deg, #d4af37, #ffd700, #d4af37);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 0 20px rgba(212, 175, 55, 0.4);
    }
    
    .neon-text {
      color: #fff;
      text-shadow: 0 0 10px rgba(138, 43, 226, 0.8);
    }
    
    .luxury-button {
      position: relative;
      overflow: hidden;
      background: linear-gradient(135deg, #8a2be2 0%, #00bfff 100%);
      border: 2px solid rgba(255, 255, 255, 0.3);
      transition: all 0.3s ease;
      box-shadow: 0 5px 20px rgba(138, 43, 226, 0.4);
    }
    
    .luxury-button:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 40px rgba(138, 43, 226, 0.7);
    }
    
    .cart-badge {
      background: linear-gradient(135deg, #ff1493, #ff6347);
      box-shadow: 0 0 15px rgba(255, 20, 147, 0.6);
    }
    
    .popular-badge {
      background: linear-gradient(135deg, #ffd700, #ffA500);
      box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
    }

    .modal-overlay {
      backdrop-filter: blur(10px);
      background: rgba(0, 0, 0, 0.8);
    }
    
    .modal-content {
      background: linear-gradient(135deg, rgba(15, 15, 35, 0.95) 0%, rgba(30, 30, 60, 0.95) 100%);
      border: 2px solid rgba(138, 43, 226, 0.5);
      box-shadow: 0 20px 60px rgba(138, 43, 226, 0.5);
    }
    
    .success-toast {
      background: linear-gradient(135deg, #00ff88, #00d4ff);
      box-shadow: 0 10px 30px rgba(0, 255, 136, 0.5);
    }

    .payment-option, .delivery-option {
      transition: all 0.2s ease;
      cursor: pointer;
      border: 2px solid rgba(138, 43, 226, 0.3);
      background: rgba(15, 15, 35, 0.6);
      backdrop-filter: blur(10px);
    }
    
    .payment-option:hover, .delivery-option:hover {
      transform: translateY(-3px);
      border-color: rgba(138, 43, 226, 0.6);
    }
    
    .payment-option.selected {
      border-color: #8a2be2;
      background: linear-gradient(135deg, rgba(138, 43, 226, 0.3) 0%, rgba(0, 191, 255, 0.2) 100%);
      transform: scale(1.03);
    }
    
    .payment-icon {
      transition: transform 0.2s ease;
    }
    
    .payment-option:hover .payment-icon {
      transform: scale(1.1);
    }
    
    .feature-card {
      background: rgba(15, 15, 35, 0.5);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(138, 43, 226, 0.3);
      transition: all 0.3s ease;
    }
    
    .feature-card:hover {
      transform: translateY(-5px);
      border-color: rgba(138, 43, 226, 0.6);
    }

    .loading-spinner {
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-top: 3px solid white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .luxury-header {
      background: linear-gradient(135deg, rgba(10, 10, 30, 0.98) 0%, rgba(20, 20, 50, 0.95) 100%);
      backdrop-filter: blur(20px);
      border-bottom: 2px solid rgba(138, 43, 226, 0.4);
      box-shadow: 0 5px 30px rgba(138, 43, 226, 0.3);
    }
    
    .premium-glow {
      text-shadow: 
        0 0 20px rgba(255, 255, 255, 0.8),
        0 0 40px rgba(138, 43, 226, 0.6),
        0 0 60px rgba(0, 191, 255, 0.4);
    }
    
    .gold-accent {
      color: #d4af37;
      text-shadow: 0 0 20px rgba(212, 175, 55, 0.6);
    }
    
    /* æœç´¢æ¡†æ ·å¼ */
    .search-container {
      background: rgba(15, 15, 35, 0.8);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(138, 43, 226, 0.5);
      border-radius: 50px;
      padding: 8px 20px;
    }
    
    .search-input {
      background: transparent;
      border: none;
      outline: none;
      width: 100%;
      color: white;
    }
    
    .search-input::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }
    
    /* ä¿ƒé”€å€’è®¡æ—¶æ ·å¼ */
    .countdown-timer {
      background: linear-gradient(135deg, #ff1493, #8a2be2);
      border-radius: 15px;
      padding: 15px;
      text-align: center;
      margin: 20px 0;
    }
    
    .countdown-item {
      display: inline-block;
      margin: 0 10px;
      background: rgba(0, 0, 0, 0.3);
      padding: 10px 15px;
      border-radius: 10px;
      min-width: 60px;
    }
    
    .countdown-number {
      font-size: 2rem;
      font-weight: bold;
      color: white;
    }
    
    .countdown-label {
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.7);
    }
    
    /* äº§å“æ¯”è¾ƒè¡¨æ ¼æ ·å¼ */
    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      background: rgba(15, 15, 35, 0.8);
      backdrop-filter: blur(10px);
      border-radius: 10px;
      overflow: hidden;
    }
    
    .comparison-table th {
      background: linear-gradient(135deg, #8a2be2, #00bfff);
      color: white;
      padding: 15px;
      text-align: left;
    }
    
    .comparison-table td {
      padding: 12px 15px;
      border-bottom: 1px solid rgba(138, 43, 226, 0.2);
      color: rgba(255, 255, 255, 0.9);
    }
    
    .comparison-table tr:hover {
      background: rgba(138, 43, 226, 0.1);
    }
    
    /* åº“å­˜æ˜¾ç¤ºæ ·å¼ */
    .stock-badge {
      position: absolute;
      top: 15px;
      left: 15px;
      background: linear-gradient(135deg, #ff6347, #ff1493);
      color: white;
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: bold;
      z-index: 10;
    }
    
    /* ç”¨æˆ·ç™»å½•æ¨¡æ€æ¡†æ ·å¼ */
    .auth-modal {
      max-width: 400px;
      margin: 0 auto;
    }
    
    .auth-tab {
      display: flex;
      justify-content: center;
      margin-bottom: 30px;
    }
    
    .auth-tab-btn {
      padding: 10px 30px;
      background: transparent;
      border: none;
      color: rgba(255, 255, 255, 0.6);
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .auth-tab-btn.active {
      color: white;
    }
    
    .auth-tab-btn.active::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(135deg, #8a2be2, #00bfff);
      border-radius: 3px;
    }
    
    .auth-form {
      display: none;
    }
    
    .auth-form.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .form-input {
      width: 100%;
      padding: 12px 15px;
      margin-bottom: 20px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      color: white;
      outline: none;
      transition: all 0.3s ease;
    }
    
    .form-input:focus {
      border-color: #8a2be2;
      background: rgba(138, 43, 226, 0.1);
    }
    
    /* å¿ƒæ„¿å•æ ·å¼ */
    .wishlist-btn {
      position: absolute;
      top: 15px;
      right: 15px;
      background: rgba(0, 0, 0, 0.5);
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 10;
    }
    
    .wishlist-btn:hover {
      background: rgba(255, 20, 147, 0.3);
      transform: scale(1.1);
    }
    
    .wishlist-btn.active {
      background: rgba(255, 20, 147, 0.5);
    }
    
    .wishlist-btn.active i {
      color: #ff1493;
    }
    
    /* å®¢æœèŠå¤©æœºå™¨äººæ ·å¼ */
    .chatbot-container {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 1000;
    }
    
    .chatbot-toggle {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, #8a2be2, #00bfff);
      border: none;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      box-shadow: 0 5px 20px rgba(138, 43, 226, 0.5);
      transition: all 0.3s ease;
    }
    
    .chatbot-toggle:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 30px rgba(138, 43, 226, 0.7);
    }
    
    .chatbot-window {
      position: absolute;
      bottom: 80px;
      right: 0;
      width: 350px;
      height: 500px;
      background: linear-gradient(135deg, rgba(15, 15, 35, 0.95) 0%, rgba(30, 30, 60, 0.95) 100%);
      border-radius: 20px;
      border: 2px solid rgba(138, 43, 226, 0.5);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
      display: none;
      flex-direction: column;
      overflow: hidden;
    }
    
    .chatbot-window.active {
      display: flex;
    }
    
    .chatbot-header {
      background: linear-gradient(135deg, #8a2be2 0%, #00bfff 100%);
      padding: 15px;
      color: white;
      text-align: center;
      font-weight: bold;
    }
    
    .chatbot-messages {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }
    
    .chat-message {
      margin-bottom: 15px;
      max-width: 80%;
      padding: 10px 15px;
      border-radius: 15px;
    }
    
    .bot-message {
      background: rgba(138, 43, 226, 0.2);
      align-self: flex-start;
      border-bottom-left-radius: 5px;
    }
    
    .user-message {
      background: rgba(0, 191, 255, 0.2);
      align-self: flex-end;
      margin-left: auto;
      border-bottom-right-radius: 5px;
    }
    
    .chatbot-input-container {
      padding: 15px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .chatbot-input {
      width: 100%;
      padding: 10px 15px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 25px;
      color: white;
      outline: none;
    }
    
    /* å¤šæ­¥ç»“è´¦æµç¨‹æ ·å¼ */
    .checkout-steps {
      display: flex;
      justify-content: space-between;
      margin-bottom: 30px;
      position: relative;
    }
    
    .checkout-steps::before {
      content: '';
      position: absolute;
      top: 15px;
      left: 10%;
      right: 10%;
      height: 2px;
      background: rgba(255, 255, 255, 0.2);
      z-index: 1;
    }
    
    .checkout-step {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      z-index: 2;
      width: 25%;
    }
    
    .step-circle {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      margin-bottom: 10px;
      transition: all 0.3s ease;
    }
    
    .checkout-step.active .step-circle {
      background: linear-gradient(135deg, #8a2be2, #00bfff);
      transform: scale(1.2);
    }
    
    .step-label {
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.6);
    }
    
    .checkout-step.active .step-label {
      color: white;
      font-weight: bold;
    }
    
    /* è®¢å•è·Ÿè¸ªæ ·å¼ */
    .tracking-container {
      background: rgba(15, 15, 35, 0.8);
      backdrop-filter: blur(10px);
      border-radius: 15px;
      padding: 30px;
      margin: 20px 0;
    }
    
    .tracking-status {
      display: flex;
      justify-content: space-between;
      position: relative;
      margin-top: 30px;
    }
    
    .status-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      flex: 1;
    }
    
    .status-dot {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
      margin-bottom: 10px;
      transition: all 0.3s ease;
    }
    
    .status-item.completed .status-dot {
      background: linear-gradient(135deg, #00ff88, #00d4ff);
      box-shadow: 0 0 15px rgba(0, 255, 136, 0.5);
    }
    
    .status-item.current .status-dot {
      background: linear-gradient(135deg, #ffd700, #ffa500);
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
      animation: pulse 1.5s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }
    
    .status-label {
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.7);
      text-align: center;
    }
    
    .status-item.completed .status-label {
      color: #00ff88;
    }
    
    .status-item.current .status-label {
      color: #ffd700;
      font-weight: bold;
    }
    
    @media (max-width: 640px) {
      .product-card:hover {
        transform: none;
      }
      
      .chatbot-window {
        width: 90vw;
        height: 70vh;
        right: 5vw;
      }
      
      .comparison-table {
        font-size: 0.9rem;
      }
      
      .checkout-steps {
        flex-wrap: wrap;
      }
      
      .checkout-step {
        width: 50%;
        margin-bottom: 20px;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
</head>
<body class="h-full">
<div class="w-full h-full overflow-auto animated-bg">
  <!-- æ˜Ÿæ˜ŸèƒŒæ™¯ -->
  <div class="stars" id="stars"></div>
  
  <!-- å®¢æœèŠå¤©æœºå™¨äºº -->
  <div class="chatbot-container">
    <button class="chatbot-toggle" id="chatbot-toggle">
      <i class="fas fa-comment-dots"></i>
    </button>
    <div class="chatbot-window" id="chatbot-window">
      <div class="chatbot-header">
        <span class="chatbot-title">åœ¨çº¿å®¢æœ</span>
        <button class="close-chatbot" id="close-chatbot" style="float: right; background: none; border: none; color: white; cursor: pointer;">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="chatbot-messages" id="chatbot-messages">
        <div class="chat-message bot-message">
          æ‚¨å¥½ï¼æˆ‘æ˜¯Nyaaastoreçš„å®¢æœåŠ©æ‰‹ã€‚æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼Ÿ
        </div>
        <div class="chat-message bot-message">
          æ‚¨å¯ä»¥è¯¢é—®å…³äºäº§å“ã€è®¢å•ã€ä»˜æ¬¾ç­‰é—®é¢˜ã€‚
        </div>
      </div>
      <div class="chatbot-input-container">
        <input type="text" class="chatbot-input" id="chatbot-input" placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜...">
      </div>
    </div>
  </div>
  
  <!-- å¤´éƒ¨ -->
  <header class="w-full luxury-header sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-3 sm:py-8 relative">
      <div class="flex justify-between items-center relative z-10">
        <div class="flex items-center space-x-2 sm:space-x-6">
          <div class="relative">
            <!-- Logo -->
            <svg width="45" height="45" viewBox="0 0 70 70" fill="none" class="icon-container sm:w-[70px] sm:h-[70px]">
              <defs>
                <linearGradient id="logoGradient" x1="0" y1="0" x2="70" y2="70">
                  <stop offset="0%" style="stop-color:#d4af37" />
                  <stop offset="50%" style="stop-color:#ffd700" />
                  <stop offset="100%" style="stop-color:#d4af37" />
                </linearGradient>
                <filter id="glow">
                  <feGaussianBlur stdDeviation="4" result="coloredBlur" />
                  <feMerge>
                    <feMergeNode in="coloredBlur" />
                    <feMergeNode in="SourceGraphic" />
                  </feMerge>
                </filter>
              </defs>
              <circle cx="35" cy="35" r="32" fill="url(#logoGradient)" filter="url(#glow)" opacity="0.9" />
              <circle cx="35" cy="35" r="28" fill="rgba(0, 0, 0, 0.6)" />
              <path d="M23 35L31 43L47 25" stroke="url(#logoGradient)" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" filter="url(#glow)" />
            </svg>
          </div>
          <div>
            <h1 id="store-name" class="text-xl sm:text-5xl font-black text-white luxury-title tracking-wider sm:tracking-widest premium-glow" style="letter-spacing: 0.1em;">Nyaaastore</h1>
            <p id="store-tagline" class="text-[0.45rem] sm:text-xs font-light gold-accent tracking-wider sm:tracking-widest mt-0.5 sm:mt-2 hidden sm:block" style="letter-spacing: 0.2em; opacity: 0.95;">LUXURY DIGITAL BOUTIQUE</p>
          </div>
        </div>
        
        <!-- æœç´¢æ¡† -->
        <div class="hidden md:flex items-center mx-4 flex-1 max-w-md">
          <div class="search-container w-full">
            <div class="flex items-center">
              <i class="fas fa-search text-gray-400 mr-3"></i>
              <input type="text" id="search-input" class="search-input" placeholder="æœç´¢å•†å“...">
            </div>
          </div>
        </div>
        
        <!-- ç”¨æˆ·æ“ä½œæŒ‰é’® -->
        <div class="flex items-center space-x-1.5 sm:space-x-4">
          <!-- ç”¨æˆ·ç™»å½•/æ³¨å†ŒæŒ‰é’® -->
          <button id="user-auth-button" class="px-2 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl text-xs sm:text-base font-semibold transition-all glass-card hover:scale-105 text-white">
            <i class="fas fa-user mr-2"></i>
            <span id="user-auth-text" class="hidden sm:inline">ç™»å½•</span>
          </button>
          
          <!-- è®¢å•è·Ÿè¸ªæŒ‰é’® -->
          <button id="track-order-button" class="px-2 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl text-xs sm:text-base font-semibold transition-all glass-card hover:scale-105 text-white">
            <i class="fas fa-box mr-2"></i>
            <span class="hidden sm:inline">è®¢å•è·Ÿè¸ª</span>
          </button>
          
          <!-- å¿ƒæ„¿å•æŒ‰é’® -->
          <button id="wishlist-button" class="px-2 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl text-xs sm:text-base font-semibold transition-all glass-card hover:scale-105 text-white relative">
            <i class="fas fa-heart mr-2"></i>
            <span class="hidden sm:inline">å¿ƒæ„¿å•</span>
            <span id="wishlist-count" class="absolute -top-1 -right-1 cart-badge text-white text-[0.6rem] font-bold rounded-full w-5 h-5 flex items-center justify-center">0</span>
          </button>
          
          <button id="currency-toggle" class="px-2 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl text-xs sm:text-base font-semibold transition-all glass-card hover:scale-105 text-white">
            <span id="currency-text" class="font-bold">ğŸ’° MYR</span>
          </button>
          <button id="lang-toggle" class="px-2 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl text-xs sm:text-base font-semibold transition-all glass-card hover:scale-105 text-white">
            <span id="lang-text" class="font-bold">EN</span>
          </button>
          <button id="cart-button" class="relative px-3 sm:px-8 py-2 sm:py-3 rounded-lg sm:rounded-xl text-xs sm:text-base font-semibold luxury-button">
            <span class="relative z-10 flex items-center font-bold">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" class="mr-1 sm:mr-2 sm:w-6 sm:h-6">
                <path d="M9 2L7.17 4H3C1.9 4 1 4.9 1 6V18C1 19.1 1.9 20 3 20H21C22.1 20 23 19.1 23 18V6C23 4.9 22.1 4 21 4H16.83L15 2H9Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
              <span id="cart-button-text" class="hidden sm:inline">è´­ç‰©è½¦</span>
            </span>
            <span id="cart-count" class="absolute -top-1 -right-1 sm:-top-2 sm:-right-2 cart-badge text-white text-[0.6rem] sm:text-xs font-bold rounded-full w-5 h-5 sm:w-8 sm:h-8 flex items-center justify-center">0</span>
          </button>
        </div>
      </div>
      
      <!-- ç§»åŠ¨ç«¯æœç´¢æ¡† -->
      <div class="md:hidden mt-4">
        <div class="search-container">
          <div class="flex items-center">
            <i class="fas fa-search text-gray-400 mr-3"></i>
            <input type="text" id="mobile-search-input" class="search-input" placeholder="æœç´¢å•†å“...">
          </div>
        </div>
      </div>
    </div>
  </header>
<!-- ä¿ƒé”€å€’è®¡æ—¶ -->
<div class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 mt-6 sm:mt-8">
  <div class="countdown-timer">
    <h3 class="text-lg sm:text-xl font-bold text-white mb-4">ğŸ‰ é™æ—¶ä¿ƒé”€ç»“æŸå€’è®¡æ—¶ ğŸ‰</h3>
    <div class="flex justify-center">
      <div class="countdown-item">
        <div id="countdown-days" class="countdown-number">00</div>
        <div class="countdown-label">å¤©</div>
      </div>
      <div class="countdown-item">
        <div id="countdown-hours" class="countdown-number">00</div>
        <div class="countdown-label">å°æ—¶</div>
      </div>
      <div class="countdown-item">
        <div id="countdown-minutes" class="countdown-number">00</div>
        <div class="countdown-label">åˆ†é’Ÿ</div>
      </div>
      <div class="countdown-item">
        <div id="countdown-seconds" class="countdown-number">00</div>
        <div class="countdown-label">ç§’</div>
      </div>
    </div>
    <p class="text-white text-sm mt-4">ğŸ”¥ æ‰€æœ‰å•†å“äº«å—9æŠ˜ä¼˜æƒ ï¼Œèµ¶å¿«ä¸‹å•ï¼</p>
  </div>
</div>

<!-- æœç´¢ç»“æœæ˜¾ç¤ºåŒºåŸŸ -->
<div id="search-results" class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 mt-6 hidden">
  <div class="glass-card rounded-2xl p-6">
    <h3 class="text-xl font-bold text-white mb-4">æœç´¢ç»“æœ</h3>
    <div id="search-results-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- æœç´¢ç»“æœå°†åŠ¨æ€æ˜¾ç¤ºåœ¨è¿™é‡Œ -->
    </div>
  </div>
</div>

<!-- ä¸»å†…å®¹ -->
<main class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-8 sm:py-20 relative z-10">
  <div class="text-center mb-12 sm:mb-24">
    <h2 id="featured-title" class="text-3xl sm:text-7xl font-black neon-text mb-3 sm:mb-6 luxury-title" style="letter-spacing: 0.1em;">FEATURED COLLECTION</h2>
    <p id="featured-subtitle" class="text-gray-300 text-sm sm:text-xl font-light tracking-widest gold-accent" style="letter-spacing: 0.2em;">AUTHENTIC Â· INSTANT Â· EXCLUSIVE</p>
  </div>
  
  <!-- äº§å“æ¯”è¾ƒåŒºåŸŸ -->
  <div id="product-comparison-section" class="mb-12 sm:mb-24 hidden">
    <div class="glass-card rounded-2xl sm:rounded-3xl p-6 sm:p-8">
      <div class="flex justify-between items-center mb-6">
        <h3 class="text-2xl sm:text-3xl font-bold neon-text luxury-title">äº§å“æ¯”è¾ƒ</h3>
        <button id="clear-comparison" class="px-4 py-2 luxury-button rounded-lg hover:scale-105 transition-all text-sm">
          æ¸…ç©ºæ¯”è¾ƒ
        </button>
      </div>
      <div id="comparison-table-container">
        <!-- æ¯”è¾ƒè¡¨æ ¼å°†åŠ¨æ€æ˜¾ç¤ºåœ¨è¿™é‡Œ -->
      </div>
    </div>
  </div>
  
  <!-- å•†å“åˆ—è¡¨ -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-12">
    <!-- å•†å“1: DISCORD NITRO BASIC -->
    <div class="product-card rounded-2xl sm:rounded-3xl overflow-hidden shadow-2xl relative">
      <!-- åº“å­˜æ˜¾ç¤º -->
      <div class="stock-badge">
        <i class="fas fa-box mr-1"></i>
        <span class="stock-count">åº“å­˜: 15</span>
      </div>
      
      <!-- å¿ƒæ„¿å•æŒ‰é’® -->
      <button class="wishlist-btn" data-product-id="nitro-basic" data-product-name="DISCORD NITRO BASIC">
        <i class="far fa-heart"></i>
      </button>
      
      <!-- æ¯”è¾ƒå¤é€‰æ¡† -->
      <div class="absolute top-4 left-4 z-10">
        <input type="checkbox" class="compare-checkbox" data-product-id="nitro-basic" data-product-name="DISCORD NITRO BASIC">
        <label class="text-white text-sm ml-1">æ¯”è¾ƒ</label>
      </div>
      
      <div class="p-6 sm:p-10 relative" style="background: linear-gradient(135deg, #5865F2 0%, #3b49df 100%);">
        <div class="icon-container mx-auto w-20 h-20 sm:w-32 sm:h-32 mb-4 sm:mb-6">
          <!-- Discord Logo -->
          <svg width="100%" height="100%" viewBox="0 0 128 128" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="64" cy="64" r="60" fill="rgba(255,255,255,0.2)" />
            <path d="M64 24C41.9 24 24 41.9 24 64C24 86.1 41.9 104 64 104C86.1 104 104 86.1 104 86C104 63.9 86.1 46 64 46V24Z" fill="white" />
            <circle cx="64" cy="64" r="20" fill="#5865F2" />
          </svg>
        </div>
        <h3 class="product-name text-xl sm:text-3xl font-bold text-white text-center luxury-title">DISCORD NITRO BASIC</h3>
        <p class="product-desc text-white text-center mt-1 sm:mt-2 font-light text-xs sm:text-sm tracking-wide" data-zh="åŸºç¡€å‡çº§è®¢é˜…" data-en="Basic Upgrade">åŸºç¡€å‡çº§è®¢é˜…</p>
      </div>
      <div class="p-4 sm:p-8">
        <div class="mb-4 sm:mb-6 space-y-2 sm:space-y-3">
          <div class="flex items-center text-gray-300">
            <svg width="16" height="16" viewBox="0 0 20 20" fill="none" class="mr-2 sm:mr-3 sm:w-5 sm:h-5">
              <circle cx="10" cy="10" r="10" fill="#5865F2" />
              <path d="M6 10L9 13L14 7" stroke="white" stroke-width="2" stroke-linecap="round" />
            </svg>
            <span class="feature-text text-xs sm:text-sm" data-zh="è‡ªå®šä¹‰è¡¨æƒ…ç¬¦å·" data-en="Custom Emojis">è‡ªå®šä¹‰è¡¨æƒ…ç¬¦å·</span>
          </div>
          <div class="flex items-center text-gray-300">
            <svg width="16" height="16" viewBox="0 0 20 20" fill="none" class="mr-2 sm:mr-3 sm:w-5 sm:h-5">
              <circle cx="10" cy="10" r="10" fill="#5865F2" />
              <path d="M6 10L9 13L14 7" stroke="white" stroke-width="2" stroke-linecap="round" />
            </svg>
            <span class="feature-text text-xs sm:text-sm" data-zh="50MB æ–‡ä»¶ä¸Šä¼ " data-en="50MB Upload">50MB æ–‡ä»¶ä¸Šä¼ </span>
          </div>
          <div class="flex items-center text-gray-300">
            <svg width="16" height="16" viewBox="0 0 20 20" fill="none" class="mr-2 sm:mr-3 sm:w-5 sm:h-5">
              <circle cx="10" cy="10" r="10" fill="#5865F2" />
              <path d="M6 10L9 13L14 7" stroke="white" stroke-width="2" stroke-linecap="round" />
            </svg>
            <span class="feature-text text-xs sm:text-sm" data-zh="é«˜æ¸…è§†é¢‘é€šè¯" data-en="HD Video">é«˜æ¸…è§†é¢‘é€šè¯</span>
          </div>
        </div>
        <div class="mb-4 sm:mb-6 space-y-2 sm:space-y-3">
          <div class="delivery-option border-2 border-purple-500 rounded-xl p-3 sm:p-4 cursor-pointer transition-all hover:bg-purple-900/30" data-type="ç™»å…¥" data-price="9">
            <div class="flex justify-between items-center">
              <div>
                <span class="text-white font-bold text-xs sm:text-sm delivery-option-name" data-zh="ğŸ” ç™»å…¥" data-en="ğŸ” LOGIN">ğŸ” ç™»å…¥</span>
                <p class="text-[0.65rem] sm:text-xs text-gray-400 mt-1 delivery-option-desc" data-zh="æˆ‘ä»¬ä»£ä¸ºç™»å½•" data-en="We login for you">æˆ‘ä»¬ä»£ä¸ºç™»å½•</p>
              </div>
              <span class="text-xl sm:text-2xl font-bold holographic-text delivery-price">RM9</span>
            </div>
          </div>
          <div class="delivery-option border-2 border-purple-500/50 rounded-xl p-3 sm:p-4 cursor-pointer transition-all hover:bg-purple-900/30" data-type="é“¾æ¥" data-price="9">
            <div class="flex justify-between items-center">
              <div>
                <span class="text-white font-bold text-xs sm:text-sm delivery-option-name" data-zh="ğŸ”— é“¾æ¥" data-en="ğŸ”— LINK">ğŸ”— é“¾æ¥</span>
                <p class="text-[0.65rem] sm:text-xs text-gray-400 mt-1 delivery-option-desc" data-zh="è´­ä¹°é“¾æ¥" data-en="Purchase link">è´­ä¹°é“¾æ¥</p>
              </div>
              <span class="text-xl sm:text-2xl font-bold holographic-text delivery-price">RM9</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- å•†å“2: DISCORD NITRO PREMIUM -->
    <div class="product-card rounded-2xl sm:rounded-3xl overflow-hidden shadow-2xl relative">
      <!-- åº“å­˜æ˜¾ç¤º -->
      <div class="stock-badge">
        <i class="fas fa-box mr-1"></i>
        <span class="stock-count">åº“å­˜: 8</span>
      </div>
      
      <!-- å¿ƒæ„¿å•æŒ‰é’® -->
      <button class="wishlist-btn" data-product-id="nitro-premium" data-product-name="DISCORD NITRO">
        <i class="far fa-heart"></i>
      </button>
      
      <!-- æ¯”è¾ƒå¤é€‰æ¡† -->
      <div class="absolute top-4 left-4 z-10">
        <input type="checkbox" class="compare-checkbox" data-product-id="nitro-premium" data-product-name="DISCORD NITRO">
        <label class="text-white text-sm ml-1">æ¯”è¾ƒ</label>
      </div>
      
      <div class="popular-badge absolute top-3 right-3 sm:top-4 sm:right-4 px-3 py-1 sm:px-5 sm:py-2 rounded-full text-xs sm:text-sm font-bold z-10" style="color: #333;">
        <span class="hot-text">â­ PREMIUM</span>
      </div>
      <div class="p-6 sm:p-10 relative" style="background: linear-gradient(135deg, #FF73FA 0%, #5865F2 100%);">
        <div class="icon-container mx-auto w-20 h-20 sm:w-32 sm:h-32 mb-4 sm:mb-6">
          <!-- Premium Logo -->
          <svg width="100%" height="100%" viewBox="0 0 128 128" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="64" cy="64" r="60" fill="rgba(255,255,255,0.2)" />
            <path d="M64 20L75 48H105L81 65L91 93L64 75L37 93L47 65L23 48H53L64 20Z" fill="white" />
            <circle cx="64" cy="64" r="15" fill="#FF73FA" />
          </svg>
        </div>
        <h3 class="product-name text-xl sm:text-3xl font-bold text-white text-center luxury-title">DISCORD NITRO</h3>
        <p class="product-desc text-white text-center mt-1 sm:mt-2 font-light text-xs sm:text-sm tracking-wide" data-zh="å®Œæ•´å‡çº§ä½“éªŒ" data-en="Full Experience">å®Œæ•´å‡çº§ä½“éªŒ</p>
      </div>
      <div class="p-4 sm:p-8">
        <div class="mb-4 sm:mb-6 space-y-2 sm:space-y-3">
          <div class="flex items-center text-gray-300">
            <svg width="16" height="16" viewBox="0 0 20 20" fill="none" class="mr-2 sm:mr-3 sm:w-5 sm:h-5">
              <circle cx="10" cy="10" r="10" fill="#FF73FA" />
              <path d="M6 10L9 13L14 7" stroke="white" stroke-width="2" stroke-linecap="round" />
            </svg>
            <span class="feature-text text-xs sm:text-sm" data-zh="æ‰€æœ‰ Basic åŠŸèƒ½" data-en="All Basic Features">æ‰€æœ‰ Basic åŠŸèƒ½</span>
          </div>
          <div class="flex items-center text-gray-300">
            <svg width="16" height="16" viewBox="0 0 20 20" fill="none" class="mr-2 sm:mr-3 sm:w-5 sm:h-5">
              <circle cx="10" cy="10" r="10" fill="#FF73FA" />
              <path d="M6 10L9 13L14 7" stroke="white" stroke-width="2" stroke-linecap="round" />
            </svg>
            <span class="feature-text text-xs sm:text-sm" data-zh="2 æ¬¡æœåŠ¡å™¨åŠ æˆ" data-en="2 Server Boosts">2 æ¬¡æœåŠ¡å™¨åŠ æˆ</span>
          </div>
          <div class="flex items-center text-gray-300">
            <svg width="16" height="16" viewBox="0 0 20 20" fill="none" class="mr-2 sm:mr-3 sm:w-5 sm:h-5">
              <circle cx="10" cy="10" r="10" fill="#FF73FA" />
              <path d="M6 10L9 13L14 7" stroke="white" stroke-width="2" stroke-linecap="round" />
            </svg>
            <span class="feature-text text-xs sm:text-sm" data-zh="500MB æ–‡ä»¶ä¸Šä¼ " data-en="500MB Upload">500MB æ–‡ä»¶ä¸Šä¼ </span>
          </div>
        </div>
        <div class="mb-4 sm:mb-6 space-y-2 sm:space-y-3">
          <div class="delivery-option border-2 border-pink-500 rounded-xl p-3 sm:p-4 cursor-pointer transition-all hover:bg-pink-900/30" data-type="ç™»å…¥" data-price="21">
            <div class="flex justify-between items-center">
              <div>
                <span class="text-white font-bold text-xs sm:text-sm delivery-option-name" data-zh="ğŸ” ç™»å…¥" data-en="ğŸ” LOGIN">ğŸ” ç™»å…¥</span>
                <p class="text-[0.65rem] sm:text-xs text-gray-400 mt-1 delivery-option-desc" data-zh="æˆ‘ä»¬ä»£ä¸ºç™»å½•" data-en="We login for you">æˆ‘ä»¬ä»£ä¸ºç™»å½•</p>
              </div>
              <span class="text-xl sm:text-2xl font-bold holographic-text delivery-price">RM21</span>
            </div>
          </div>
          <div class="delivery-option border-2 border-pink-500/50 rounded-xl p-3 sm:p-4 cursor-pointer transition-all hover:bg-pink-900/30" data-type="é“¾æ¥" data-price="21">
            <div class="flex justify-between items-center">
              <div>
                <span class="text-white font-bold text-xs sm:text-sm delivery-option-name" data-zh="ğŸ”— é“¾æ¥" data-en="ğŸ”— LINK">ğŸ”— é“¾æ¥</span>
                <p class="text-[0.65rem] sm:text-xs text-gray-400 mt-1 delivery-option-desc" data-zh="è´­ä¹°é“¾æ¥" data-en="Purchase link">è´­ä¹°é“¾æ¥</p>
              </div>
              <span class="text-xl sm:text-2xl font-bold holographic-text delivery-price">RM21</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- å•†å“3: 100 ROBUX -->
    <div class="product-card rounded-2xl sm:rounded-3xl overflow-hidden shadow-2xl relative">
      <!-- åº“å­˜æ˜¾ç¤º -->
      <div class="stock-badge">
        <i class="fas fa-box mr-1"></i>
        <span class="stock-count">åº“å­˜: 50</span>
      </div>
      
      <!-- å¿ƒæ„¿å•æŒ‰é’® -->
      <button class="wishlist-btn" data-product-id="robux-100" data-product-name="100 ROBUX">
        <i class="far fa-heart"></i>
      </button>
      
      <!-- æ¯”è¾ƒå¤é€‰æ¡† -->
      <div class="absolute top-4 left-4 z-10">
        <input type="checkbox" class="compare-checkbox" data-product-id="robux-100" data-product-name="100 ROBUX">
        <label class="text-white text-sm ml-1">æ¯”è¾ƒ</label>
      </div>
      
      <div class="p-6 sm:p-10 relative" style="background: linear-gradient(135deg, #60A5FA 0%, #3B82F6 100%);">
        <div class="icon-container mx-auto w-20 h-20 sm:w-32 sm:h-32 mb-4 sm:mb-6">
          <!-- Robux Logo -->
          <svg width="100%" height="100%" viewBox="0 0 128 128" fill="none">
            <rect x="39" y="39" width="50" height="50" rx="8" fill="rgba(255,255,255,0.2)" transform="rotate(45 64 64)" />
            <rect x="47" y="47" width="34" height="34" rx="5" fill="white" transform="rotate(45 64 64)" />
            <circle cx="64" cy="64" r="10" fill="#60A5FA" />
          </svg>
        </div>
        <h3 class="product-name text-xl sm:text-3xl font-bold text-white text-center luxury-title">100 ROBUX</h3>
        <p class="product-desc text-white text-center mt-1 sm:mt-2 font-light text-xs sm:text-sm tracking-wide" data-zh="å…¥é—¨çº§å¥—é¤" data-en="Starter Pack">å…¥é—¨çº§å¥—é¤</p>
      </div>
      <div class="p-4 sm:p-8">
        <div class="mb-4 sm:mb-6 space-y-2 sm:space-y-3">
          <div class="flex items-center text-gray-300">
            <svg width="16" height="16" viewBox="0 0 20 20" fill="none" class="mr-2 sm:mr-3 sm:w-5 sm:h-5">
              <circle cx="10" cy="10" r="10" fill="#60A5FA" />
              <path d="M6 10L9 13L14 7" stroke="white" stroke-width="2" stroke-linecap="round" />
            </svg>
            <span class="feature-text text-xs sm:text-sm" data-zh="100 Robux åˆ°è´¦" data-en="100 Robux">100 Robux åˆ°è´¦</span>
          </div>
          <div class="flex items-center text-gray-300">
            <svg width="16" height="16" viewBox="0 0 20 20" fill="none" class="mr-2 sm:mr-3 sm:w-5 sm:h-5">
              <circle cx="10" cy="10" r="10" fill="#60A5FA" />
              <path d="M6 10L9 13L14 7" stroke="white" stroke-width="2" stroke-linecap="round" />
            </svg>
            <span class="feature-text text-xs sm:text-sm" data-zh="5åˆ†é’Ÿå†…åˆ°è´¦" data-en="5 Min Delivery">5åˆ†é’Ÿå†…åˆ°è´¦</span>
          </div>
        </div>
        <div class="mb-4 sm:mb-6 space-y-2 sm:space-y-3">
          <div class="delivery-option border-2 border-purple-500 rounded-xl p-3 sm:p-4 cursor-pointer transition-all hover:bg-purple-900/30" data-type="ä»£é€" data-price="2.40">
            <div class="flex justify-between items-center">
              <div>
                <span class="text-white font-bold text-xs sm:text-sm delivery-option-name" data-zh="ğŸš€ ä»£é€" data-en="ğŸš€ DELIVERY">ğŸš€ ä»£é€</span>
                <p class="text-[0.65rem] sm:text-xs text-gray-400 mt-1 delivery-option-desc" data-zh="æˆ‘ä»¬ä»£ä¸ºå……å€¼" data-en="We deliver for you">æˆ‘ä»¬ä»£ä¸ºå……å€¼</p>
              </div>
              <span class="text-xl sm:text-2xl font-bold holographic-text delivery-price">RM2.40</span>
            </div>
          </div>
          <div class="delivery-option border-2 border-purple-500/50 rounded-xl p-3 sm:p-4 cursor-pointer transition-all hover:bg-purple-900/30" data-type="åŒ…ç¨" data-price="2.90">
            <div class="flex justify-between items-center">
              <div>
                <span class="text-white font-bold text-xs sm:text-sm delivery-option-name" data-zh="âœ“ åŒ…ç¨" data-en="âœ“ TAX INCL">âœ“ åŒ…ç¨</span>
                <p class="text-[0.65rem] sm:text-xs text-gray-400 mt-1 delivery-option-desc" data-zh="å«ç¨ä»·æ ¼" data-en="Tax included">å«ç¨ä»·æ ¼</p>
              </div>
              <span class="text-xl sm:text-2xl font-bold holographic-text delivery-price">RM2.90</span>
            </div>
          </div>
          <div class="delivery-option border-2 border-purple-500/50 rounded-xl p-3 sm:p-4 cursor-pointer transition-all hover:bg-purple-900/30" data-type="ä¸åŒ…ç¨" data-price="2.40">
            <div class="flex justify-between items-center">
              <div>
                <span class="text-white font-bold text-xs sm:text-sm delivery-option-name" data-zh="âœ— ä¸åŒ…ç¨" data-en="âœ— NO TAX">âœ— ä¸åŒ…ç¨</span>
                <p class="text-[0.65rem] sm:text-xs text-gray-400 mt-1 delivery-option-desc" data-zh="éœ€è‡ªä»˜ç¨è´¹" data-en="Tax excluded">éœ€è‡ªä»˜ç¨è´¹</p>
              </div>
              <span class="text-xl sm:text-2xl font-bold holographic-text delivery-price">RM2.40</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- å•†å“4: 1000 ROBUX -->
    <div class="product-card rounded-2xl sm:rounded-3xl overflow-hidden shadow-2xl relative">
      <!-- åº“å­˜æ˜¾ç¤º -->
      <div class="stock-badge">
        <i class="fas fa-box mr-1"></i>
        <span class="stock-count">åº“å­˜: 25</span>
      </div>
      
      <!-- å¿ƒæ„¿å•æŒ‰é’® -->
      <button class="wishlist-btn" data-product-id="robux-1000" data-product-name="1000 ROBUX">
        <i class="far fa-heart"></i>
      </button>
      
      <!-- æ¯”è¾ƒå¤é€‰æ¡† -->
      <div class="absolute top-4 left-4 z-10">
        <input type="checkbox" class="compare-checkbox" data-product-id="robux-1000" data-product-name="1000 ROBUX">
        <label class="text-white text-sm ml-1">æ¯”è¾ƒ</label>
      </div>
      
      <div class="p-6 sm:p-10 relative" style="background: linear-gradient(135deg, #FF6B6B 0%, #CC5555 100%);">
        <div class="icon-container mx-auto w-20 h-20 sm:w-32 sm:h-32 mb-4 sm:mb-6">
          <!-- 1000 Robux Logo -->
          <svg width="100%" height="100%" viewBox="0 0 128 128" fill="none">
            <rect x="29" y="29" width="70" height="70" rx="12" fill="rgba(255,255,255,0.2)" transform="rotate(45 64 64)" />
            <rect x="39" y="39" width="50" height="50" rx="8" fill="white" transform="rotate(45 64 64)" />
            <circle cx="64" cy="64" r="15" fill="#FF6B6B" />
          </svg>
        </div>
        <h3 class="product-name text-xl sm:text-3xl font-bold text-white text-center luxury-title">1000 ROBUX</h3>
        <p class="product-desc text-white text-center mt-1 sm:mt-2 font-light text-xs sm:text-sm tracking-wide" data-zh="è¶…å€¼ä¼˜æƒ å¥—é¤" data-en="Best Value">è¶…å€¼ä¼˜æƒ å¥—é¤</p>
      </div>
      <div class="p-4 sm:p-8">
        <div class="mb-4 sm:mb-6 space-y-2 sm:space-y-3">
          <div class="flex items-center text-gray-300">
            <svg width="16" height="16" viewBox="0 0 20 20" fill="none" class="mr-2 sm:mr-3 sm:w-5 sm:h-5">
              <circle cx="10" cy="10" r="10" fill="#FF6B6B" />
              <path d="M6 10L9 13L14 7" stroke="white" stroke-width="2" stroke-linecap="round" />
            </svg>
            <span class="feature-text text-xs sm:text-sm" data-zh="1000 Robux åˆ°è´¦" data-en="1000 Robux">1000 Robux åˆ°è´¦</span>
          </div>
          <div class="flex items-center text-gray-300">
            <svg width="16" height="16" viewBox="0 0 20 20" fill="none" class="mr-2 sm:mr-3 sm:w-5 sm:h-5">
              <circle cx="10" cy="10" r="10" fill="#FF6B6B" />
              <path d="M6 10L9 13L14 7" stroke="white" stroke-width="2" stroke-linecap="round" />
            </svg>
            <span class="feature-text text-xs sm:text-sm" data-zh="æ€§ä»·æ¯”ä¹‹é€‰" data-en="Best Value">æ€§ä»·æ¯”ä¹‹é€‰</span>
          </div>
        </div>
        <div class="mb-4 sm:mb-6 space-y-2 sm:space-y-3">
          <div class="delivery-option border-2 border-red-500 rounded-xl p-3 sm:p-4 cursor-pointer transition-all hover:bg-red-900/30" data-type="ä»£é€" data-price="24.00">
            <div class="flex justify-between items-center">
              <div>
                <span class="text-white font-bold text-xs sm:text-sm delivery-option-name" data-zh="ğŸš€ ä»£é€" data-en="ğŸš€ DELIVERY">ğŸš€ ä»£é€</span>
                <p class="text-[0.65rem] sm:text-xs text-gray-400 mt-1 delivery-option-desc" data-zh="æˆ‘ä»¬ä»£ä¸ºå……å€¼" data-en="We deliver for you">æˆ‘ä»¬ä»£ä¸ºå……å€¼</p>
              </div>
              <span class="text-xl sm:text-2xl font-bold holographic-text delivery-price">RM24</span>
            </div>
          </div>
          <div class="delivery-option border-2 border-red-500/50 rounded-xl p-3 sm:p-4 cursor-pointer transition-all hover:bg-red-900/30" data-type="åŒ…ç¨" data-price="29.00">
            <div class="flex justify-between items-center">
              <div>
                <span class="text-white font-bold text-xs sm:text-sm delivery-option-name" data-zh="âœ“ åŒ…ç¨" data-en="âœ“ TAX INCL">âœ“ åŒ…ç¨</span>
                <p class="text-[0.65rem] sm:text-xs text-gray-400 mt-1 delivery-option-desc" data-zh="å«ç¨ä»·æ ¼" data-en="Tax included">å«ç¨ä»·æ ¼</p>
              </div>
              <span class="text-xl sm:text-2xl font-bold holographic-text delivery-price">RM29</span>
            </div>
          </div>
          <div class="delivery-option border-2 border-red-500/50 rounded-xl p-3 sm:p-4 cursor-pointer transition-all hover:bg-red-900/30" data-type="ä¸åŒ…ç¨" data-price="24.00">
            <div class="flex justify-between items-center">
              <div>
                <span class="text-white font-bold text-xs sm:text-sm delivery-option-name" data-zh="âœ— ä¸åŒ…ç¨" data-en="âœ— NO TAX">âœ— ä¸åŒ…ç¨</span>
                <p class="text-[0.65rem] sm:text-xs text-gray-400 mt-1 delivery-option-desc" data-zh="éœ€è‡ªä»˜ç¨è´¹" data-en="Tax excluded">éœ€è‡ªä»˜ç¨è´¹</p>
              </div>
              <span class="text-xl sm:text-2xl font-bold holographic-text delivery-price">RM24</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ç‰¹è‰²åŠŸèƒ½ -->
  <div class="mt-20 sm:mt-40 grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-12">
    <div class="text-center p-6 sm:p-12 feature-card rounded-2xl sm:rounded-3xl">
      <svg class="mx-auto mb-4 sm:mb-8" width="60" height="60" viewBox="0 0 90 90" fill="none">
        <circle cx="45" cy="45" r="45" fill="url(#feature1Gradient)" opacity="0.3" />
        <circle cx="45" cy="45" r="35" fill="url(#feature1Gradient)" />
        <path d="M28 45L40 57L62 35" stroke="black" stroke-width="5" stroke-linecap="round" />
        <defs>
          <linearGradient id="feature1Gradient" x1="0" y1="0" x2="90" y2="90">
            <stop offset="0%" style="stop-color:#d4af37" />
            <stop offset="100%" style="stop-color:#ffd700" />
          </linearGradient>
        </defs>
      </svg>
      <h3 class="text-xl sm:text-3xl font-bold neon-text mb-2 sm:mb-4 luxury-title feature-1-title">AUTHENTICITY</h3>
      <p class="text-gray-400 font-light text-sm sm:text-base feature-1-desc" data-zh="100% æ­£å“ä¿è¯ï¼Œäº¤æ˜“å®‰å…¨å¯é " data-en="100% authentic, safe transactions">100% æ­£å“ä¿è¯ï¼Œäº¤æ˜“å®‰å…¨å¯é </p>
    </div>
    <div class="text-center p-6 sm:p-12 feature-card rounded-2xl sm:rounded-3xl">
      <svg class="mx-auto mb-4 sm:mb-8" width="60" height="60" viewBox="0 0 90 90" fill="none">
        <circle cx="45" cy="45" r="45" fill="url(#feature2Gradient)" opacity="0.3" />
        <circle cx="45" cy="45" r="35" fill="url(#feature2Gradient)" />
        <path d="M45 23V45L62 62" stroke="black" stroke-width="5" stroke-linecap="round" />
        <defs>
          <linearGradient id="feature2Gradient" x1="0" y1="0" x2="90" y2="90">
            <stop offset="0%" style="stop-color:#8a2be2" />
            <stop offset="100%" style="stop-color:#00bfff" />
          </linearGradient>
        </defs>
      </svg>
      <h3 class="text-xl sm:text-3xl font-bold neon-text mb-2 sm:mb-4 luxury-title feature-2-title">INSTANT</h3>
      <p class="text-gray-400 font-light text-sm sm:text-base feature-2-desc" data-zh="5åˆ†é’Ÿå†…åˆ°è´¦ï¼Œå…¨å¤©å€™æœåŠ¡" data-en="5-minute delivery, 24/7 service">5åˆ†é’Ÿå†…åˆ°è´¦ï¼Œå…¨å¤©å€™æœåŠ¡</p>
    </div>
    <div class="text-center p-6 sm:p-12 feature-card rounded-2xl sm:rounded-3xl">
      <svg class="mx-auto mb-4 sm:mb-8" width="60" height="60" viewBox="0 0 90 90" fill="none">
        <circle cx="45" cy="45" r="45" fill="url(#feature3Gradient)" opacity="0.3" />
        <circle cx="45" cy="45" r="35" fill="url(#feature3Gradient)" />
        <circle cx="45" cy="45" r="6" fill="black" />
        <path d="M45 28C33 28 28 33 28 45C28 57 33 62 45 62C57 62 62 57 62 45" stroke="black" stroke-width="5" stroke-linecap="round" />
        <defs>
          <linearGradient id="feature3Gradient" x1="0" y1="0" x2="90" y2="90">
            <stop offset="0%" style="stop-color:#ff1493" />
            <stop offset="100%" style="stop-color:#d4af37" />
          </linearGradient>
        </defs>
      </svg>
      <h3 class="text-xl sm:text-3xl font-bold neon-text mb-2 sm:mb-4 luxury-title feature-3-title">SUPPORT 24/7</h3>
      <p class="text-gray-400 font-light text-sm sm:text-base feature-3-desc" data-zh="ä¸“ä¸šå®¢æœå›¢é˜Ÿéšæ—¶ä¸ºæ‚¨æœåŠ¡" data-en="Professional team always ready">ä¸“ä¸šå®¢æœå›¢é˜Ÿéšæ—¶ä¸ºæ‚¨æœåŠ¡</p>
    </div>
  </div>
  
  <!-- è”ç³»æˆ‘ä»¬ -->
  <div class="mt-20 sm:mt-40">
    <h2 class="text-3xl sm:text-6xl font-black neon-text text-center mb-8 sm:mb-16 luxury-title contact-title tracking-wider">CONTACT US</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-12 max-w-5xl mx-auto">
      <a href="https://wa.me/601162430710" target="_blank" rel="noopener noreferrer" class="feature-card rounded-2xl sm:rounded-3xl p-6 sm:p-12 hover:scale-105 transition-all">
        <div class="flex items-center space-x-4 sm:space-x-6">
          <div class="flex-shrink-0">
            <svg width="60" height="60" viewBox="0 0 90 90" fill="none" class="sm:w-[90px] sm:h-[90px]">
              <circle cx="45" cy="45" r="45" fill="url(#whatsappGradient)" />
              <path d="M45 22.5C31.5 22.5 22.5 31.5 22.5 45C22.5 48.9 23.6 52.6 25.6 55.7L22.8 65.3L33 62.5C36 64.4 39.6 65.6 43.6 65.6C57.1 65.6 66.1 56.6 66.1 43.1C66.1 29.6 57.1 20.6 43.6 20.6L45 22.5Z" fill="white" />
              <path d="M45 61.9C41.6 61.9 38.3 60.8 35.5 58.9L34.7 58.6L27.8 60.5L29.7 54L29.3 53.1C27.2 50.1 26 46.6 26 42.9C26 34.3 33 27.3 41.6 27.3C50.2 27.3 57.2 34.3 57.2 42.9C57.2 51.5 50.2 58.5 41.6 58.5L45 61.9Z" fill="white" />
              <defs>
                <linearGradient id="whatsappGradient" x1="0" y1="0" x2="90" y2="90">
                  <stop offset="0%" style="stop-color:#25D366" />
                  <stop offset="100%" style="stop-color:#128C7E" />
                </linearGradient>
              </defs>
            </svg>
          </div>
          <div class="flex-1">
            <h3 class="text-2xl sm:text-3xl font-bold neon-text mb-1 sm:mb-3 luxury-title whatsapp-title">WHATSAPP</h3>
            <p class="text-gray-400 font-light text-xs sm:text-sm whatsapp-desc" data-zh="å³æ—¶å®¢æœæ”¯æŒ" data-en="Instant support">å³æ—¶å®¢æœæ”¯æŒ</p>
            <p class="text-white font-mono mt-2 sm:mt-4 text-xs sm:text-sm">+60 11-6243 0710</p>
          </div>
          <svg width="25" height="25" viewBox="0 0 35 35" fill="none" class="flex-shrink-0 sm:w-[35px] sm:h-[35px]">
            <path d="M13 8L23 17.5L13 27" stroke="url(#arrowGradient)" stroke-width="3" stroke-linecap="round" />
            <defs>
              <linearGradient id="arrowGradient">
                <stop offset="0%" style="stop-color:#d4af37" />
                <stop offset="100%" style="stop-color:#ffd700" />
              </linearGradient>
            </defs>
          </svg>
        </div>
      </a>
      <a href="https://discord.gg/3BRcSV5Jvf" target="_blank" rel="noopener noreferrer" class="feature-card rounded-2xl sm:rounded-3xl p-6 sm:p-12 hover:scale-105 transition-all">
        <div class="flex items-center space-x-4 sm:space-x-6">
          <div class="flex-shrink-0">
            <svg width="60" height="60" viewBox="0 0 90 90" fill="none" class="sm:w-[90px] sm:h-[90px]">
              <circle cx="45" cy="45" r="45" fill="#5865F2" />
              <path d="M60.8 27.6C57.4 26.1 53.8 25.1 50 24.8C49.6 25.5 49.1 26.6 48.8 27.5C44.8 26.9 40.9 26.9 37 27.5C36.7 26.6 36.2 25.5 35.8 24.8C32 25.1 28.4 26.1 25 27.6C17.4 37.4 15.3 46.9 16.3 56.4C21 60.1 25.5 62.3 30 63.8C31.1 62.3 32.1 60.7 32.9 59C31.4 58.4 30 57.7 28.7 56.9C29 56.7 29.4 56.4 29.7 56.1C38.7 60.5 48.6 60.5 57.5 56.1C57.8 56.4 58.2 56.7 58.5 56.9C57.2 57.7 55.8 58.4 54.3 59C55.1 60.7 56.1 62.3 57.2 63.8C61.7 62.3 66.2 60.1 70.9 56.4C72.1 45.5 69.1 36 60.8 27.6ZM35.2 50.2C32.6 50.2 30.4 47.7 30.4 44.7C30.4 41.7 32.6 39.2 35.2 39.2C37.8 39.2 40.1 41.7 40 44.7C40 47.7 37.8 50.2 35.2 50.2ZM51 50.2C48.4 50.2 46.2 47.7 46.2 44.7C46.2 41.7 48.4 39.2 51 39.2C53.6 39.2 55.9 41.7 55.8 44.7C55.8 47.7 53.6 50.2 51 50.2Z" fill="white" />
            </svg>
          </div>
          <div class="flex-1">
            <h3 class="text-2xl sm:text-3xl font-bold neon-text mb-1 sm:mb-3 luxury-title discord-title">DISCORD</h3>
            <p class="text-gray-400 font-light text-xs sm:text-sm discord-desc" data-zh="åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒº" data-en="Join our community">åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒº</p>
            <p class="text-white font-mono mt-2 sm:mt-4 text-xs sm:text-sm">discord.gg/3BRcSV5Jvf</p>
          </div>
          <svg width="25" height="25" viewBox="0 0 35 35" fill="none" class="flex-shrink-0 sm:w-[35px] sm:h-[35px]">
            <path d="M13 8L23 17.5L13 27" stroke="url(#arrowGradient2)" stroke-width="3" stroke-linecap="round" />
            <defs>
              <linearGradient id="arrowGradient2">
                <stop offset="0%" style="stop-color:#d4af37" />
                <stop offset="100%" style="stop-color:#ffd700" />
              </linearGradient>
            </defs>
          </svg>
        </div>
      </a>
    </div>
  </div>
</main>
  <!-- é¡µè„š -->
  <footer class="w-full py-6 sm:py-12 mt-12 sm:mt-24 relative z-10" style="background: rgba(10, 10, 30, 0.9); backdrop-filter: blur(20px); border-top: 2px solid rgba(212, 175, 55, 0.3);">
    <div class="max-w-7xl mx-auto px-4 text-center text-gray-400">
      <p class="font-light footer-text text-xs sm:text-sm">Â© 2024 Nyaaastore. All rights reserved.</p>
    </div>
  </footer>
  
  <!-- ç”¨æˆ·ç™»å½•/æ³¨å†Œæ¨¡æ€æ¡† -->
  <div id="user-auth-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-80 hidden items-center justify-center z-50 p-3 sm:p-4">
    <div class="modal-content rounded-2xl sm:rounded-3xl shadow-2xl max-w-lg w-full max-h-[90%] overflow-auto">
      <div class="p-6 sm:p-10 border-b relative overflow-hidden" style="background: linear-gradient(135deg, #8a2be2 0%, #00bfff 100%); border-bottom: 2px solid rgba(255, 255, 255, 0.2);">
        <div class="flex justify-between items-center relative z-10">
          <h2 class="text-2xl sm:text-4xl font-bold text-white luxury-title" id="auth-modal-title">ç”¨æˆ·ç™»å½•</h2>
          <button id="close-auth-modal" class="text-white hover:text-gray-200 text-4xl sm:text-5xl font-light transition-transform hover:rotate-90 hover:scale-110" style="transition: all 0.3s;">Ã—</button>
        </div>
      </div>
      <div class="p-6 sm:p-10">
        <div class="auth-tab">
          <button class="auth-tab-btn active" data-tab="login">ç™»å½•</button>
          <button class="auth-tab-btn" data-tab="register">æ³¨å†Œ</button>
        </div>
        
        <form id="login-form" class="auth-form active">
          <input type="email" class="form-input" placeholder="é‚®ç®±åœ°å€" required>
          <input type="password" class="form-input" placeholder="å¯†ç " required>
          <button type="submit" class="w-full py-4 luxury-button rounded-xl font-bold text-lg hover:scale-105 transition-all">
            ç™»å½•
          </button>
        </form>
        
        <form id="register-form" class="auth-form">
          <input type="text" class="form-input" placeholder="ç”¨æˆ·å" required>
          <input type="email" class="form-input" placeholder="é‚®ç®±åœ°å€" required>
          <input type="password" class="form-input" placeholder="å¯†ç " required>
          <input type="password" class="form-input" placeholder="ç¡®è®¤å¯†ç " required>
          <button type="submit" class="w-full py-4 luxury-button rounded-xl font-bold text-lg hover:scale-105 transition-all">
            æ³¨å†Œ
          </button>
        </form>
      </div>
    </div>
  </div>
  
  <!-- è®¢å•è·Ÿè¸ªæ¨¡æ€æ¡† -->
  <div id="track-order-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-80 hidden items-center justify-center z-50 p-3 sm:p-4">
    <div class="modal-content rounded-2xl sm:rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90%] overflow-auto">
      <div class="p-6 sm:p-10 border-b relative overflow-hidden" style="background: linear-gradient(135deg, #8a2be2 0%, #00bfff 100%); border-bottom: 2px solid rgba(255, 255, 255, 0.2);">
        <div class="flex justify-between items-center relative z-10">
          <h2 class="text-2xl sm:text-4xl font-bold text-white luxury-title">è®¢å•è·Ÿè¸ª</h2>
          <button id="close-track-modal" class="text-white hover:text-gray-200 text-4xl sm:text-5xl font-light transition-transform hover:rotate-90 hover:scale-110" style="transition: all 0.3s;">Ã—</button>
        </div>
      </div>
      <div class="p-6 sm:p-10">
        <div class="mb-6">
          <input type="text" id="order-id-input" class="form-input" placeholder="è¯·è¾“å…¥è®¢å•å·">
          <button id="track-order-btn" class="w-full py-4 luxury-button rounded-xl font-bold text-lg mt-4 hover:scale-105 transition-all">
            æŸ¥è¯¢è®¢å•çŠ¶æ€
          </button>
        </div>
        
        <div id="tracking-results" class="hidden">
          <h3 class="text-xl font-bold text-white mb-4">è®¢å•çŠ¶æ€</h3>
          <div class="tracking-container">
            <div class="tracking-status">
              <div class="status-item completed">
                <div class="status-dot"></div>
                <span class="status-label">è®¢å•å·²ç¡®è®¤</span>
              </div>
              <div class="status-item completed">
                <div class="status-dot"></div>
                <span class="status-label">ä»˜æ¬¾æˆåŠŸ</span>
              </div>
              <div class="status-item current">
                <div class="status-dot"></div>
                <span class="status-label">å¤„ç†ä¸­</span>
              </div>
              <div class="status-item">
                <div class="status-dot"></div>
                <span class="status-label">å·²å®Œæˆ</span>
              </div>
            </div>
            
            <div class="mt-8 p-4 bg-gray-800/30 rounded-lg">
              <h4 class="text-lg font-bold text-white mb-2">è®¢å•è¯¦æƒ…</h4>
              <p class="text-gray-300 mb-1">è®¢å•å·: <span id="display-order-id" class="font-mono">NS-2024-00123</span></p>
              <p class="text-gray-300 mb-1">å•†å“: DISCORD NITRO BASIC</p>
              <p class="text-gray-300 mb-1">æ€»é‡‘é¢: RM9.00</p>
              <p class="text-gray-300 mb-1">ä¸‹å•æ—¶é—´: 2024-12-01 15:30</p>
              <p class="text-gray-300">é¢„è®¡å®Œæˆ: 2024-12-01 15:45</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- å¿ƒæ„¿å•æ¨¡æ€æ¡† -->
  <div id="wishlist-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-80 hidden items-center justify-center z-50 p-3 sm:p-4">
    <div class="modal-content rounded-2xl sm:rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90%] overflow-auto">
      <div class="p-6 sm:p-10 border-b relative overflow-hidden" style="background: linear-gradient(135deg, #ff1493 0%, #ff6347 100%); border-bottom: 2px solid rgba(255, 255, 255, 0.2);">
        <div class="flex justify-between items-center relative z-10">
          <h2 class="text-2xl sm:text-4xl font-bold text-white luxury-title">æˆ‘çš„å¿ƒæ„¿å•</h2>
          <button id="close-wishlist-modal" class="text-white hover:text-gray-200 text-4xl sm:text-5xl font-light transition-transform hover:rotate-90 hover:scale-110" style="transition: all 0.3s;">Ã—</button>
        </div>
      </div>
      <div class="p-6 sm:p-10">
        <div id="wishlist-items" class="space-y-4">
          <!-- å¿ƒæ„¿å•å†…å®¹å°†åŠ¨æ€æ˜¾ç¤ºåœ¨è¿™é‡Œ -->
          <div class="text-center py-12">
            <svg class="mx-auto mb-6" width="80" height="80" viewBox="0 0 100 100" fill="none">
              <circle cx="50" cy="50" r="50" fill="rgba(255, 20, 147, 0.2)" />
              <path d="M35 50L45 60L65 40" stroke="#ff1493" stroke-width="4" stroke-linecap="round" />
              <path d="M50 35L55 45L65 35L55 55L50 65L45 55L35 45L45 35L50 35Z" stroke="#ff1493" stroke-width="3" fill="none" />
            </svg>
            <p class="text-gray-400 text-lg">å¿ƒæ„¿å•æ˜¯ç©ºçš„</p>
            <p class="text-gray-500 text-sm mt-2">ç‚¹å‡»å•†å“ä¸Šçš„â¤ï¸æŒ‰é’®æ·»åŠ åˆ°å¿ƒæ„¿å•</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- å¤šæ­¥ç»“è´¦æ¨¡æ€æ¡† -->
  <div id="checkout-process-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-80 hidden items-center justify-center z-50 p-3 sm:p-4">
    <div class="modal-content rounded-2xl sm:rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90%] overflow-auto">
      <div class="p-6 sm:p-10 border-b relative overflow-hidden" style="background: linear-gradient(135deg, #8a2be2 0%, #00bfff 100%); border-bottom: 2px solid rgba(255, 255, 255, 0.2);">
        <div class="flex justify-between items-center relative z-10">
          <h2 class="text-2xl sm:text-4xl font-bold text-white luxury-title">ç»“è´¦æµç¨‹</h2>
          <button id="close-checkout-modal" class="text-white hover:text-gray-200 text-4xl sm:text-5xl font-light transition-transform hover:rotate-90 hover:scale-110" style="transition: all 0.3s;">Ã—</button>
        </div>
      </div>
      <div class="p-6 sm:p-10">
        <div class="checkout-steps">
          <div class="checkout-step active" data-step="1">
            <div class="step-circle">1</div>
            <span class="step-label">è´­ç‰©è½¦</span>
          </div>
          <div class="checkout-step" data-step="2">
            <div class="step-circle">2</div>
            <span class="step-label">é€è´§ä¿¡æ¯</span>
          </div>
          <div class="checkout-step" data-step="3">
            <div class="step-circle">3</div>
            <span class="step-label">æ”¯ä»˜æ–¹å¼</span>
          </div>
          <div class="checkout-step" data-step="4">
            <div class="step-circle">4</div>
            <span class="step-label">ç¡®è®¤è®¢å•</span>
          </div>
        </div>
        
        <div id="checkout-step-1" class="checkout-step-content active">
          <h3 class="text-xl font-bold text-white mb-4">è´­ç‰©è½¦å†…å®¹</h3>
          <div id="checkout-cart-items" class="space-y-3">
            <!-- è´­ç‰©è½¦å†…å®¹å°†åŠ¨æ€æ˜¾ç¤ºåœ¨è¿™é‡Œ -->
          </div>
        </div>
        
        <div id="checkout-step-2" class="checkout-step-content">
          <h3 class="text-xl font-bold text-white mb-4">é€è´§ä¿¡æ¯</h3>
          <input type="text" class="form-input mb-3" placeholder="æ”¶è´§äººå§“å">
          <input type="email" class="form-input mb-3" placeholder="é‚®ç®±åœ°å€">
          <input type="tel" class="form-input mb-3" placeholder="æ‰‹æœºå·ç ">
          <textarea class="form-input mb-3" placeholder="é€è´§åœ°å€" rows="3"></textarea>
        </div>
        
        <div id="checkout-step-3" class="checkout-step-content">
          <h3 class="text-xl font-bold text-white mb-4">æ”¯ä»˜æ–¹å¼</h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="payment-option" data-method="TNG">
              <div class="payment-icon mb-4 flex justify-center">
                <i class="fas fa-mobile-alt text-4xl text-white"></i>
              </div>
              <h4 class="text-center font-bold text-white">Touch 'N Go</h4>
            </div>
            <div class="payment-option" data-method="Litecoin">
              <div class="payment-icon mb-4 flex justify-center">
                <i class="fab fa-bitcoin text-4xl text-white"></i>
              </div>
              <h4 class="text-center font-bold text-white">Litecoin</h4>
            </div>
            <div class="payment-option" data-method="PayPal">
              <div class="payment-icon mb-4 flex justify-center">
                <i class="fab fa-paypal text-4xl text-white"></i>
              </div>
              <h4 class="text-center font-bold text-white">PayPal</h4>
            </div>
          </div>
        </div>
        
        <div id="checkout-step-4" class="checkout-step-content">
          <h3 class="text-xl font-bold text-white mb-4">è®¢å•ç¡®è®¤</h3>
          <div class="bg-gray-800/30 p-4 rounded-lg mb-4">
            <p class="text-gray-300">è¯·ç¡®è®¤æ‚¨çš„è®¢å•ä¿¡æ¯æ˜¯å¦æ­£ç¡®</p>
          </div>
        </div>
        
        <div class="flex justify-between mt-8">
          <button id="prev-step" class="px-6 py-3 glass-card rounded-lg text-white hover:scale-105 transition-all">
            ä¸Šä¸€æ­¥
          </button>
          <button id="next-step" class="px-6 py-3 luxury-button rounded-lg hover:scale-105 transition-all">
            ä¸‹ä¸€æ­¥
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- è´­ç‰©è½¦æ¨¡æ€æ¡† -->
  <div id="cart-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-80 hidden items-center justify-center z-50 p-3 sm:p-4">
    <div class="modal-content rounded-2xl sm:rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90%] overflow-auto">
      <div class="p-6 sm:p-10 border-b relative overflow-hidden" style="background: linear-gradient(135deg, #8a2be2 0%, #00bfff 100%); border-bottom: 2px solid rgba(255, 255, 255, 0.2);">
        <div class="flex justify-between items-center relative z-10">
          <h2 class="text-3xl sm:text-5xl font-bold text-white cart-title luxury-title">MY CART</h2>
          <button id="close-cart" class="text-white hover:text-gray-200 text-4xl sm:text-5xl font-light transition-transform hover:rotate-90 hover:scale-110" style="transition: all 0.3s;">Ã—</button>
        </div>
      </div>
      <div class="p-6 sm:p-10">
        <div id="cart-items" class="space-y-4 sm:space-y-6 mb-6 sm:mb-8">
          <div class="text-center py-12 sm:py-16">
            <svg class="mx-auto mb-4 sm:mb-6" width="80" height="80" viewBox="0 0 100 100" fill="none">
              <circle cx="50" cy="50" r="50" fill="rgba(138, 43, 226, 0.2)" />
              <circle cx="50" cy="50" r="35" fill="rgba(138, 43, 226, 0.3)" />
              <path d="M35 50L45 60L65 40" stroke="#8a2be2" stroke-width="4" stroke-linecap="round" />
            </svg>
            <p class="text-gray-400 text-lg sm:text-xl empty-cart-text">è´­ç‰©è½¦æ˜¯ç©ºçš„</p>
            <p class="text-gray-500 text-xs sm:text-sm mt-2 sm:mt-3 empty-cart-subtitle">å¿«å»æŒ‘é€‰ä½ å–œæ¬¢çš„å•†å“å§ï¼</p>
          </div>
        </div>
        <div id="payment-section" class="border-t pt-6 sm:pt-8 mb-6 sm:mb-8 hidden" style="border-color: rgba(138, 43, 226, 0.3);">
          <h3 class="text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 payment-method-title luxury-title">SELECT PAYMENT</h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6">
            <div class="payment-option rounded-xl sm:rounded-2xl p-6 sm:p-8" data-method="TNG">
              <div class="payment-icon mb-4 sm:mb-6 flex justify-center">
                <svg width="60" height="60" viewBox="0 0 80 80" fill="none" class="sm:w-[80px] sm:h-[80px]">
                  <circle cx="40" cy="40" r="40" fill="#1E3A8A" />
                  <path d="M25 35H55V45H25V35Z" fill="#60A5FA" />
                  <circle cx="40" cy="40" r="10" fill="white" />
                </svg>
              </div>
              <h4 class="text-center font-bold text-white mb-2 sm:mb-3 text-base sm:text-lg">TOUCH 'N GO</h4>
              <p class="text-center text-xs sm:text-sm text-gray-400 tng-desc">é©¬æ¥è¥¿äºšç”µå­é’±åŒ…</p>
            </div>
            <div class="payment-option rounded-xl sm:rounded-2xl p-6 sm:p-8" data-method="Litecoin">
              <div class="payment-icon mb-4 sm:mb-6 flex justify-center">
                <svg width="60" height="60" viewBox="0 0 80 80" fill="none" class="sm:w-[80px] sm:h-[80px]">
                  <circle cx="40" cy="40" r="40" fill="#345D9D" />
                  <path d="M35 25L30 47.5H22.5L20 55H50L52.5 45H32.5L37.5 27.5L35 25Z" fill="white" />
                </svg>
              </div>
              <h4 class="text-center font-bold text-white mb-2 sm:mb-3 text-base sm:text-lg">LITECOIN</h4>
              <p class="text-center text-xs sm:text-sm text-gray-400 ltc-desc">åŠ å¯†è´§å¸æ”¯ä»˜</p>
            </div>
            <div class="payment-option rounded-xl sm:rounded-2xl p-6 sm:p-8" data-method="PayPal">
              <div class="payment-icon mb-4 sm:mb-6 flex justify-center">
                <svg width="60" height="60" viewBox="0 0 80 80" fill="none" class="sm:w-[80px] sm:h-[80px]">
                  <circle cx="40" cy="40" r="40" fill="#003087" />
                  <path d="M35 22.5C35 22.5 47.5 22.5 50 31.25C52.5 40 45 47.5 40 47.5H35L32.5 57.5H27.5L35 22.5Z" fill="#009CDE" />
                </svg>
              </div>
              <h4 class="text-center font-bold text-white mb-2 sm:mb-3 text-base sm:text-lg">PAYPAL</h4>
              <p class="text-center text-xs sm:text-sm text-gray-400 paypal-desc">å…¨çƒåœ¨çº¿æ”¯ä»˜</p>
            </div>
          </div>
        </div>
        <div class="border-t pt-6 sm:pt-8" style="border-color: rgba(138, 43, 226, 0.3);">
          <div class="flex justify-between items-center mb-6 sm:mb-8">
            <span class="text-2xl sm:text-3xl font-bold text-white total-text luxury-title">TOTAL:</span>
            <span id="cart-total" class="text-3xl sm:text-5xl font-bold holographic-text">RM0</span>
          </div>
          <button id="checkout-button" class="w-full py-4 sm:py-5 rounded-xl font-bold text-base sm:text-lg luxury-button">
            <span id="checkout-btn-text" class="relative z-10">ç¡®è®¤è´­ä¹°å¹¶ä¿å­˜</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- æˆåŠŸæç¤º -->
  <div id="success-message" class="success-toast fixed top-4 right-4 sm:top-10 sm:right-10 px-6 py-3 sm:px-10 sm:py-5 rounded-xl sm:rounded-2xl shadow-2xl hidden items-center z-50">
    <svg width="24" height="24" viewBox="0 0 30 30" fill="none" class="mr-3 sm:mr-4 sm:w-[30px] sm:h-[30px]">
      <circle cx="15" cy="15" r="15" fill="rgba(255, 255, 255, 0.3)" />
      <path d="M9 15L13 19L21 11" stroke="white" stroke-width="3" stroke-linecap="round" />
    </svg>
    <span id="success-msg-text" class="font-semibold text-sm sm:text-lg">å·²æ·»åŠ åˆ°è´­ç‰©è½¦ï¼</span>
  </div>
</div>
<script>
// å…¨å±€å˜é‡
let cart = [];
let currentLang = 'zh';
let currentCurrency = 'MYR';
let selectedPaymentMethod = null;
let uploadedPaymentProof = null;
let wishlist = [];
let comparingProducts = [];
let currentUser = null;

// äº§å“æ•°æ®
const products = [
  {
    id: 'nitro-basic',
    name: 'DISCORD NITRO BASIC',
    description: 'åŸºç¡€å‡çº§è®¢é˜…',
    features: ['è‡ªå®šä¹‰è¡¨æƒ…ç¬¦å·', '50MB æ–‡ä»¶ä¸Šä¼ ', 'é«˜æ¸…è§†é¢‘é€šè¯'],
    price: 9,
    stock: 15,
    category: 'discord'
  },
  {
    id: 'nitro-premium',
    name: 'DISCORD NITRO',
    description: 'å®Œæ•´å‡çº§ä½“éªŒ',
    features: ['æ‰€æœ‰ Basic åŠŸèƒ½', '2 æ¬¡æœåŠ¡å™¨åŠ æˆ', '500MB æ–‡ä»¶ä¸Šä¼ '],
    price: 21,
    stock: 8,
    category: 'discord'
  },
  {
    id: 'robux-100',
    name: '100 ROBUX',
    description: 'å…¥é—¨çº§å¥—é¤',
    features: ['100 Robux åˆ°è´¦', '5åˆ†é’Ÿå†…åˆ°è´¦'],
    price: 2.40,
    stock: 50,
    category: 'robux'
  },
  {
    id: 'robux-1000',
    name: '1000 ROBUX',
    description: 'è¶…å€¼ä¼˜æƒ å¥—é¤',
    features: ['1000 Robux åˆ°è´¦', 'æ€§ä»·æ¯”ä¹‹é€‰'],
    price: 24.00,
    stock: 25,
    category: 'robux'
  }
];

// ä»·æ ¼æ˜ å°„
const priceMap = {
  'DISCORD NITRO BASIC (ç™»å…¥)': { MYR: 9, TWD: 100 },
  'DISCORD NITRO BASIC (é“¾æ¥)': { MYR: 9, TWD: 100 },
  'DISCORD NITRO (ç™»å…¥)': { MYR: 21, TWD: 200 },
  'DISCORD NITRO (é“¾æ¥)': { MYR: 21, TWD: 200 },
  '100 ROBUX (ä»£é€)': { MYR: 2.40, TWD: 19 },
  '100 ROBUX (åŒ…ç¨)': { MYR: 2.90, TWD: 23 },
  '100 ROBUX (ä¸åŒ…ç¨)': { MYR: 2.40, TWD: 19 },
  '1000 ROBUX (ä»£é€)': { MYR: 24.00, TWD: 190 },
  '1000 ROBUX (åŒ…ç¨)': { MYR: 29.00, TWD: 230 },
  '1000 ROBUX (ä¸åŒ…ç¨)': { MYR: 24.00, TWD: 190 }
};

// Telegramé…ç½®
const TELEGRAM_BOT_TOKEN = '8520089781:AAHPSCT8YZf9q6J43VKdDtdGwtRkzmyMoXM';
const TELEGRAM_CHAT_ID = '8313770381';
const TELEGRAM_API_URL = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
const TELEGRAM_SEND_PHOTO_URL = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendPhoto`;

const PAYPAL_EMAIL = 'zheruizhang6@gmail.com';
const QR_CODE_URLS = {
  LTC: 'https://i.ibb.co/ccBPmk7G/IMG-20260105-235120-630.jpg',
  TNG: 'https://i.ibb.co/WWdJQwRf/IMG-20251215-184553-1.jpg'
};

// ç¿»è¯‘æ–‡æœ¬
const translations = {
  zh: {
    // ... ä¿æŒåŸæœ‰çš„ç¿»è¯‘å†…å®¹ ...
    searchPlaceholder: 'æœç´¢å•†å“...',
    searchResults: 'æœç´¢ç»“æœ',
    noResults: 'æ²¡æœ‰æ‰¾åˆ°ç›¸å…³å•†å“',
    countdownTitle: 'é™æ—¶ä¿ƒé”€ç»“æŸå€’è®¡æ—¶',
    countdownEnded: 'ä¿ƒé”€å·²ç»“æŸ',
    compareProducts: 'äº§å“æ¯”è¾ƒ',
    addToCompare: 'æ·»åŠ åˆ°æ¯”è¾ƒ',
    removeFromCompare: 'ä»æ¯”è¾ƒä¸­ç§»é™¤',
    clearComparison: 'æ¸…ç©ºæ¯”è¾ƒ',
    compareFeatures: 'åŠŸèƒ½å¯¹æ¯”',
    comparePrices: 'ä»·æ ¼å¯¹æ¯”',
    login: 'ç™»å½•',
    register: 'æ³¨å†Œ',
    logout: 'ç™»å‡º',
    welcome: 'æ¬¢è¿å›æ¥',
    orderTracking: 'è®¢å•è·Ÿè¸ª',
    enterOrderId: 'è¯·è¾“å…¥è®¢å•å·',
    trackOrder: 'æŸ¥è¯¢è®¢å•çŠ¶æ€',
    orderStatus: 'è®¢å•çŠ¶æ€',
    orderDetails: 'è®¢å•è¯¦æƒ…',
    wishlist: 'å¿ƒæ„¿å•',
    addToWishlist: 'æ·»åŠ åˆ°å¿ƒæ„¿å•',
    removeFromWishlist: 'ä»å¿ƒæ„¿å•ç§»é™¤',
    emptyWishlist: 'å¿ƒæ„¿å•æ˜¯ç©ºçš„',
    checkoutProcess: 'ç»“è´¦æµç¨‹',
    step1: 'è´­ç‰©è½¦',
    step2: 'é€è´§ä¿¡æ¯',
    step3: 'æ”¯ä»˜æ–¹å¼',
    step4: 'ç¡®è®¤è®¢å•',
    prevStep: 'ä¸Šä¸€æ­¥',
    nextStep: 'ä¸‹ä¸€æ­¥',
    confirmOrder: 'ç¡®è®¤è®¢å•',
    chatbotTitle: 'åœ¨çº¿å®¢æœ',
    chatbotPlaceholder: 'è¾“å…¥æ‚¨çš„é—®é¢˜...',
    chatbotGreeting: 'æ‚¨å¥½ï¼æˆ‘æ˜¯Nyaaastoreçš„å®¢æœåŠ©æ‰‹ã€‚æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼Ÿ',
    chatbotHelp: 'æ‚¨å¯ä»¥è¯¢é—®å…³äºäº§å“ã€è®¢å•ã€ä»˜æ¬¾ç­‰é—®é¢˜ã€‚',
    stock: 'åº“å­˜',
    lowStock: 'åº“å­˜ç´§å¼ ',
    outOfStock: 'ç¼ºè´§'
  },
  en: {
    // ... ä¿æŒåŸæœ‰çš„ç¿»è¯‘å†…å®¹ ...
    searchPlaceholder: 'Search products...',
    searchResults: 'Search Results',
    noResults: 'No products found',
    countdownTitle: 'Limited Time Sale Countdown',
    countdownEnded: 'Sale has ended',
    compareProducts: 'Product Comparison',
    addToCompare: 'Add to Compare',
    removeFromCompare: 'Remove from Compare',
    clearComparison: 'Clear Comparison',
    compareFeatures: 'Feature Comparison',
    comparePrices: 'Price Comparison',
    login: 'Login',
    register: 'Register',
    logout: 'Logout',
    welcome: 'Welcome back',
    orderTracking: 'Order Tracking',
    enterOrderId: 'Enter order ID',
    trackOrder: 'Track Order',
    orderStatus: 'Order Status',
    orderDetails: 'Order Details',
    wishlist: 'Wishlist',
    addToWishlist: 'Add to Wishlist',
    removeFromWishlist: 'Remove from Wishlist',
    emptyWishlist: 'Wishlist is empty',
    checkoutProcess: 'Checkout Process',
    step1: 'Cart',
    step2: 'Shipping Info',
    step3: 'Payment Method',
    step4: 'Order Confirmation',
    prevStep: 'Previous',
    nextStep: 'Next',
    confirmOrder: 'Confirm Order',
    chatbotTitle: 'Customer Support',
    chatbotPlaceholder: 'Type your question...',
    chatbotGreeting: 'Hello! I am the Nyaaastore customer support assistant. How can I help you?',
    chatbotHelp: 'You can ask about products, orders, payments, etc.',
    stock: 'Stock',
    lowStock: 'Low Stock',
    outOfStock: 'Out of Stock'
  }
};

// åŠŸèƒ½1: äº§å“æœç´¢åŠŸèƒ½
class ProductSearch {
  constructor() {
    this.searchInput = document.getElementById('search-input');
    this.mobileSearchInput = document.getElementById('mobile-search-input');
    this.searchResults = document.getElementById('search-results');
    this.resultsContainer = document.getElementById('search-results-container');
    this.init();
  }

  init() {
    if (this.searchInput) {
      this.searchInput.addEventListener('input', (e) => this.search(e.target.value));
    }
    if (this.mobileSearchInput) {
      this.mobileSearchInput.addEventListener('input', (e) => this.search(e.target.value));
    }
  }

  search(query) {
    if (!query.trim()) {
      this.searchResults.classList.add('hidden');
      return;
    }

    const searchTerm = query.toLowerCase();
    const filteredProducts = products.filter(product => 
      product.name.toLowerCase().includes(searchTerm) ||
      product.description.toLowerCase().includes(searchTerm) ||
      product.features.some(feature => feature.toLowerCase().includes(searchTerm))
    );

    this.displayResults(filteredProducts, searchTerm);
  }

  displayResults(results, searchTerm) {
    this.resultsContainer.innerHTML = '';
    
    if (results.length === 0) {
      this.resultsContainer.innerHTML = `
        <div class="col-span-full text-center py-12">
          <i class="fas fa-search text-5xl text-gray-500 mb-4"></i>
          <p class="text-gray-400 text-lg">${translations[currentLang].noResults}</p>
          <p class="text-gray-500 text-sm mt-2">"${searchTerm}"</p>
        </div>
      `;
    } else {
      results.forEach(product => {
        const productCard = this.createProductCard(product);
        this.resultsContainer.appendChild(productCard);
      });
    }

    this.searchResults.classList.remove('hidden');
  }

  createProductCard(product) {
    const div = document.createElement('div');
    div.className = 'product-card rounded-2xl overflow-hidden';
    div.innerHTML = `
      <div class="p-6 relative" style="background: linear-gradient(135deg, #5865F2 0%, #3b49df 100%);">
        <h3 class="text-xl font-bold text-white text-center luxury-title">${product.name}</h3>
        <p class="text-white text-center mt-2 font-light text-sm">${product.description}</p>
      </div>
      <div class="p-6">
        <ul class="space-y-2 mb-4">
          ${product.features.map(feature => `
            <li class="flex items-center text-gray-300">
              <i class="fas fa-check-circle text-green-400 mr-2"></i>
              <span class="text-sm">${feature}</span>
            </li>
          `).join('')}
        </ul>
        <div class="flex justify-between items-center">
          <span class="text-2xl font-bold holographic-text">RM${product.price}</span>
          <button class="px-4 py-2 luxury-button rounded-lg text-sm hover:scale-105 transition-all add-to-cart-search" 
                  data-product="${product.name}" data-price="${product.price}">
            åŠ å…¥è´­ç‰©è½¦
          </button>
        </div>
      </div>
    `;
    return div;
  }
}

// åŠŸèƒ½2: è®¢å•è·Ÿè¸ªç³»ç»Ÿ
class OrderTracking {
  constructor() {
    this.trackingModal = document.getElementById('track-order-modal');
    this.trackButton = document.getElementById('track-order-button');
    this.trackBtn = document.getElementById('track-order-btn');
    this.orderIdInput = document.getElementById('order-id-input');
    this.trackingResults = document.getElementById('tracking-results');
    this.displayOrderId = document.getElementById('display-order-id');
    this.init();
  }

  init() {
    this.trackButton.addEventListener('click', () => this.openTrackingModal());
    this.trackBtn.addEventListener('click', () => this.trackOrder());
    
    document.getElementById('close-track-modal').addEventListener('click', () => {
      this.trackingModal.classList.add('hidden');
    });

    this.trackingModal.addEventListener('click', (e) => {
      if (e.target === this.trackingModal) {
        this.trackingModal.classList.add('hidden');
      }
    });
  }

  openTrackingModal() {
    this.trackingModal.classList.remove('hidden');
    this.trackingResults.classList.add('hidden');
    this.orderIdInput.value = '';
  }

  trackOrder() {
    const orderId = this.orderIdInput.value.trim();
    if (!orderId) {
      alert('è¯·è¾“å…¥è®¢å•å·');
      return;
    }

    // æ¨¡æ‹Ÿè®¢å•çŠ¶æ€æŸ¥è¯¢
    const orderStatus = this.getOrderStatus(orderId);
    if (orderStatus) {
      this.displayOrderId.textContent = orderId;
      this.trackingResults.classList.remove('hidden');
      
      // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
      this.trackingResults.scrollIntoView({ behavior: 'smooth' });
    } else {
      alert('æœªæ‰¾åˆ°è¯¥è®¢å•ï¼Œè¯·æ£€æŸ¥è®¢å•å·æ˜¯å¦æ­£ç¡®');
    }
  }

  getOrderStatus(orderId) {
    // æ¨¡æ‹Ÿè®¢å•æ•°æ®
    const orders = {
      'NS-2024-00123': {
        status: 'processing',
        product: 'DISCORD NITRO BASIC',
        amount: 9.00,
        orderTime: '2024-12-01 15:30',
        estimatedTime: '2024-12-01 15:45'
      },
      'NS-2024-00124': {
        status: 'completed',
        product: '100 ROBUX',
        amount: 2.40,
        orderTime: '2024-12-01 14:20',
        estimatedTime: '2024-12-01 14:25'
      }
    };

    return orders[orderId] || null;
  }
}

// åŠŸèƒ½3: ç”¨æˆ·ç™»å½•/æ³¨å†Œç³»ç»Ÿ
class UserAuth {
  constructor() {
    this.authModal = document.getElementById('user-auth-modal');
    this.authButton = document.getElementById('user-auth-button');
    this.authText = document.getElementById('user-auth-text');
    this.authModalTitle = document.getElementById('auth-modal-title');
    this.loginForm = document.getElementById('login-form');
    this.registerForm = document.getElementById('register-form');
    this.tabButtons = document.querySelectorAll('.auth-tab-btn');
    this.init();
  }

  init() {
    this.authButton.addEventListener('click', () => this.openAuthModal());
    document.getElementById('close-auth-modal').addEventListener('click', () => this.closeAuthModal());
    
    this.authModal.addEventListener('click', (e) => {
      if (e.target === this.authModal) {
        this.closeAuthModal();
      }
    });

    this.tabButtons.forEach(button => {
      button.addEventListener('click', (e) => this.switchTab(e.target.dataset.tab));
    });

    this.loginForm.addEventListener('submit', (e) => this.handleLogin(e));
    this.registerForm.addEventListener('submit', (e) => this.handleRegister(e));

    // æ£€æŸ¥æœ¬åœ°å­˜å‚¨ä¸­çš„ç™»å½•çŠ¶æ€
    this.checkLoginStatus();
  }

  checkLoginStatus() {
    const userData = localStorage.getItem('currentUser');
    if (userData) {
      currentUser = JSON.parse(userData);
      this.updateAuthButton();
    }
  }

  updateAuthButton() {
    const t = translations[currentLang];
    if (currentUser) {
      this.authText.textContent = currentUser.username || t.welcome;
      this.authButton.innerHTML = `<i class="fas fa-user-circle mr-2"></i><span class="hidden sm:inline">${currentUser.username || t.welcome}</span>`;
    } else {
      this.authText.textContent = t.login;
      this.authButton.innerHTML = `<i class="fas fa-user mr-2"></i><span class="hidden sm:inline">${t.login}</span>`;
    }
  }

  openAuthModal() {
    if (currentUser) {
      this.logout();
      return;
    }
    
    this.authModal.classList.remove('hidden');
    this.switchTab('login');
  }

  closeAuthModal() {
    this.authModal.classList.add('hidden');
  }

  switchTab(tab) {
    this.tabButtons.forEach(btn => {
      btn.classList.remove('active');
      if (btn.dataset.tab === tab) {
        btn.classList.add('active');
      }
    });

    const t = translations[currentLang];
    this.authModalTitle.textContent = tab === 'login' ? t.login : t.register;

    document.querySelectorAll('.auth-form').forEach(form => {
      form.classList.remove('active');
    });

    if (tab === 'login') {
      this.loginForm.classList.add('active');
    } else {
      this.registerForm.classList.add('active');
    }
  }

  async handleLogin(e) {
    e.preventDefault();
    const email = this.loginForm.querySelector('input[type="email"]').value;
    const password = this.loginForm.querySelector('input[type="password"]').value;

    // æ¨¡æ‹Ÿç™»å½•éªŒè¯
    const users = JSON.parse(localStorage.getItem('users') || '[]');
    const user = users.find(u => u.email === email && u.password === password);

    if (user) {
      currentUser = user;
      localStorage.setItem('currentUser', JSON.stringify(user));
      this.updateAuthButton();
      this.closeAuthModal();
      this.showSuccess('ç™»å½•æˆåŠŸï¼');
      
      // åŠ è½½ç”¨æˆ·çš„å¿ƒæ„¿å•
      this.loadUserWishlist();
    } else {
      this.showError('é‚®ç®±æˆ–å¯†ç é”™è¯¯');
    }
  }

  async handleRegister(e) {
    e.preventDefault();
    const username = this.registerForm.querySelector('input[type="text"]').value;
    const email = this.registerForm.querySelector('input[type="email"]').value;
    const password = this.registerForm.querySelectorAll('input[type="password"]')[0].value;
    const confirmPassword = this.registerForm.querySelectorAll('input[type="password"]')[1].value;

    if (password !== confirmPassword) {
      this.showError('ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´');
      return;
    }

    // æ£€æŸ¥é‚®ç®±æ˜¯å¦å·²æ³¨å†Œ
    let users = JSON.parse(localStorage.getItem('users') || '[]');
    if (users.some(u => u.email === email)) {
      this.showError('è¯¥é‚®ç®±å·²è¢«æ³¨å†Œ');
      return;
    }

    const newUser = {
      id: Date.now().toString(),
      username,
      email,
      password,
      createdAt: new Date().toISOString(),
      wishlist: []
    };

    users.push(newUser);
    localStorage.setItem('users', JSON.stringify(users));

    currentUser = newUser;
    localStorage.setItem('currentUser', JSON.stringify(newUser));

    this.updateAuthButton();
    this.closeAuthModal();
    this.showSuccess('æ³¨å†ŒæˆåŠŸï¼å·²è‡ªåŠ¨ç™»å½•');
    this.switchTab('login');
  }

  logout() {
    // ä¿å­˜ç”¨æˆ·æ•°æ®
    if (currentUser) {
      this.saveUserWishlist();
    }
    
    currentUser = null;
    localStorage.removeItem('currentUser');
    this.updateAuthButton();
    this.showSuccess('å·²é€€å‡ºç™»å½•');
  }

  saveUserWishlist() {
    if (currentUser) {
      currentUser.wishlist = wishlist;
      localStorage.setItem('currentUser', JSON.stringify(currentUser));
      
      // æ›´æ–°ç”¨æˆ·åˆ—è¡¨ä¸­çš„ç”¨æˆ·æ•°æ®
      let users = JSON.parse(localStorage.getItem('users') || '[]');
      users = users.map(user => 
        user.id === currentUser.id ? currentUser : user
      );
      localStorage.setItem('users', JSON.stringify(users));
    }
  }

  loadUserWishlist() {
    if (currentUser && currentUser.wishlist) {
      wishlist = currentUser.wishlist;
      updateWishlistCount();
    }
  }

  showSuccess(message) {
    const toast = document.createElement('div');
    toast.className = 'fixed top-4 right-4 px-6 py-3 rounded-lg bg-green-500 text-white shadow-lg z-50';
    toast.textContent = message;
    document.body.appendChild(toast);
    
    setTimeout(() => {
      document.body.removeChild(toast);
    }, 3000);
  }

  showError(message) {
    const toast = document.createElement('div');
    toast.className = 'fixed top-4 right-4 px-6 py-3 rounded-lg bg-red-500 text-white shadow-lg z-50';
    toast.textContent = message;
    document.body.appendChild(toast);
    
    setTimeout(() => {
      document.body.removeChild(toast);
    }, 3000);
  }
}

// åŠŸèƒ½6: å®æ—¶åº“å­˜æ˜¾ç¤º
class StockDisplay {
  constructor() {
    this.stockElements = document.querySelectorAll('.stock-count');
    this.init();
  }

  init() {
    this.updateStockDisplay();
    // æ¨¡æ‹Ÿåº“å­˜å˜åŒ–
    setInterval(() => this.simulateStockChange(), 30000);
  }

  updateStockDisplay() {
    this.stockElements.forEach((element, index) => {
      const product = products[index];
      if (product) {
        let statusClass = '';
        if (product.stock === 0) {
          statusClass = 'out-of-stock';
          element.textContent = translations[currentLang].outOfStock;
        } else if (product.stock < 5) {
          statusClass = 'low-stock';
          element.textContent = `${translations[currentLang].lowStock}: ${product.stock}`;
        } else {
          element.textContent = `${translations[currentLang].stock}: ${product.stock}`;
        }
        
        // æ›´æ–°çˆ¶å…ƒç´ çš„æ ·å¼
        const badge = element.closest('.stock-badge');
        if (badge) {
          badge.className = 'stock-badge';
          if (statusClass === 'out-of-stock') {
            badge.style.background = 'linear-gradient(135deg, #ff0000, #cc0000)';
          } else if (statusClass === 'low-stock') {
            badge.style.background = 'linear-gradient(135deg, #ffa500, #ff8c00)';
          }
        }
      }
    });
  }

  simulateStockChange() {
    // éšæœºå‡å°‘ä¸€äº›åº“å­˜
    products.forEach(product => {
      if (product.stock > 0 && Math.random() > 0.7) {
        product.stock -= Math.floor(Math.random() * 3) + 1;
        if (product.stock < 0) product.stock = 0;
      }
    });
    this.updateStockDisplay();
  }

  decreaseStock(productId, quantity = 1) {
    const product = products.find(p => p.id === productId);
    if (product && product.stock >= quantity) {
      product.stock -= quantity;
      this.updateStockDisplay();
      return true;
    }
    return false;
  }
}
// åŠŸèƒ½7: å¿ƒæ„¿å•åŠŸèƒ½
class WishlistManager {
  constructor() {
    this.wishlistModal = document.getElementById('wishlist-modal');
    this.wishlistButton = document.getElementById('wishlist-button');
    this.wishlistCount = document.getElementById('wishlist-count');
    this.wishlistItems = document.getElementById('wishlist-items');
    this.init();
  }

  init() {
    this.wishlistButton.addEventListener('click', () => this.openWishlistModal());
    document.getElementById('close-wishlist-modal').addEventListener('click', () => this.closeWishlistModal());
    
    this.wishlistModal.addEventListener('click', (e) => {
      if (e.target === this.wishlistModal) {
        this.closeWishlistModal();
      }
    });

    // åŠ è½½å¿ƒæ„¿å•
    this.loadWishlist();
  }

  loadWishlist() {
    const savedWishlist = localStorage.getItem('wishlist');
    if (savedWishlist) {
      wishlist = JSON.parse(savedWishlist);
    }
    this.updateWishlistCount();
    this.setupWishlistButtons();
  }

  saveWishlist() {
    localStorage.setItem('wishlist', JSON.stringify(wishlist));
    // å¦‚æœç”¨æˆ·å·²ç™»å½•ï¼Œä¿å­˜åˆ°ç”¨æˆ·æ•°æ®
    if (currentUser) {
      currentUser.wishlist = wishlist;
      localStorage.setItem('currentUser', JSON.stringify(currentUser));
    }
  }

  updateWishlistCount() {
    this.wishlistCount.textContent = wishlist.length;
    if (wishlist.length > 0) {
      this.wishlistCount.classList.remove('hidden');
    } else {
      this.wishlistCount.classList.add('hidden');
    }
  }

  setupWishlistButtons() {
    document.querySelectorAll('.wishlist-btn').forEach(button => {
      const productId = button.dataset.productId;
      const productName = button.dataset.productName;
      
      const isInWishlist = wishlist.some(item => item.id === productId);
      if (isInWishlist) {
        button.classList.add('active');
        button.innerHTML = '<i class="fas fa-heart"></i>';
      } else {
        button.classList.remove('active');
        button.innerHTML = '<i class="far fa-heart"></i>';
      }

      button.onclick = () => this.toggleWishlist(productId, productName, button);
    });
  }

  toggleWishlist(productId, productName, button) {
    const existingIndex = wishlist.findIndex(item => item.id === productId);
    
    if (existingIndex > -1) {
      // ä»å¿ƒæ„¿å•ç§»é™¤
      wishlist.splice(existingIndex, 1);
      button.classList.remove('active');
      button.innerHTML = '<i class="far fa-heart"></i>';
      this.showToast(`${productName} å·²ä»å¿ƒæ„¿å•ç§»é™¤`);
    } else {
      // æ·»åŠ åˆ°å¿ƒæ„¿å•
      const product = products.find(p => p.id === productId);
      if (product) {
        wishlist.push({
          id: productId,
          name: productName,
          price: product.price,
          addedAt: new Date().toISOString()
        });
        button.classList.add('active');
        button.innerHTML = '<i class="fas fa-heart"></i>';
        this.showToast(`${productName} å·²æ·»åŠ åˆ°å¿ƒæ„¿å•`);
      }
    }

    this.updateWishlistCount();
    this.saveWishlist();
  }

  openWishlistModal() {
    this.renderWishlistItems();
    this.wishlistModal.classList.remove('hidden');
  }

  closeWishlistModal() {
    this.wishlistModal.classList.add('hidden');
  }

  renderWishlistItems() {
    if (wishlist.length === 0) {
      this.wishlistItems.innerHTML = `
        <div class="text-center py-12">
          <svg class="mx-auto mb-6" width="80" height="80" viewBox="0 0 100 100" fill="none">
            <circle cx="50" cy="50" r="50" fill="rgba(255, 20, 147, 0.2)" />
            <path d="M35 50L45 60L65 40" stroke="#ff1493" stroke-width="4" stroke-linecap="round" />
            <path d="M50 35L55 45L65 35L55 55L50 65L45 55L35 45L45 35L50 35Z" stroke="#ff1493" stroke-width="3" fill="none" />
          </svg>
          <p class="text-gray-400 text-lg">${translations[currentLang].emptyWishlist}</p>
          <p class="text-gray-500 text-sm mt-2">ç‚¹å‡»å•†å“ä¸Šçš„â¤ï¸æŒ‰é’®æ·»åŠ åˆ°å¿ƒæ„¿å•</p>
        </div>
      `;
      return;
    }

    this.wishlistItems.innerHTML = wishlist.map(item => `
      <div class="flex justify-between items-center p-4 feature-card rounded-xl" data-product-id="${item.id}">
        <div class="flex-1">
          <h3 class="font-bold text-white">${item.name}</h3>
          <p class="text-sm holographic-text font-bold mt-1">RM${item.price}</p>
          <p class="text-xs text-gray-400 mt-1">æ·»åŠ æ—¶é—´: ${new Date(item.addedAt).toLocaleDateString()}</p>
        </div>
        <div class="flex items-center space-x-3">
          <button class="add-to-cart-from-wishlist px-4 py-2 luxury-button rounded-lg text-sm hover:scale-105 transition-all"
                  data-product="${item.name}" data-price="${item.price}">
            åŠ å…¥è´­ç‰©è½¦
          </button>
          <button class="remove-from-wishlist px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg text-white text-sm hover:scale-105 transition-all"
                  data-product-id="${item.id}">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </div>
    `).join('');

    // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
    document.querySelectorAll('.add-to-cart-from-wishlist').forEach(button => {
      button.addEventListener('click', (e) => {
        const productName = e.target.dataset.product;
        const price = parseFloat(e.target.dataset.price);
        this.addToCartFromWishlist(productName, price);
      });
    });

    document.querySelectorAll('.remove-from-wishlist').forEach(button => {
      button.addEventListener('click', (e) => {
        const productId = e.target.dataset.productId;
        this.removeFromWishlist(productId);
      });
    });
  }

  addToCartFromWishlist(productName, price) {
    const fullProductName = `${productName} (ç™»å…¥)`;
    const existingItem = cart.find(item => item.product === fullProductName);
    
    if (existingItem) {
      existingItem.quantity++;
    } else {
      cart.push({ 
        product: fullProductName, 
        price: price, 
        quantity: 1,
        selectedTime: new Date().toISOString()
      });
    }
    
    updateCartCount();
    showSuccessMessage('å·²æ·»åŠ åˆ°è´­ç‰©è½¦ï¼');
    this.closeWishlistModal();
  }

  removeFromWishlist(productId) {
    const index = wishlist.findIndex(item => item.id === productId);
    if (index > -1) {
      const productName = wishlist[index].name;
      wishlist.splice(index, 1);
      
      // æ›´æ–°æŒ‰é’®çŠ¶æ€
      const wishlistBtn = document.querySelector(`.wishlist-btn[data-product-id="${productId}"]`);
      if (wishlistBtn) {
        wishlistBtn.classList.remove('active');
        wishlistBtn.innerHTML = '<i class="far fa-heart"></i>';
      }
      
      this.updateWishlistCount();
      this.saveWishlist();
      this.renderWishlistItems();
      this.showToast(`${productName} å·²ä»å¿ƒæ„¿å•ç§»é™¤`);
    }
  }

  showToast(message) {
    const toast = document.createElement('div');
    toast.className = 'fixed bottom-4 right-4 px-6 py-3 rounded-lg bg-purple-600 text-white shadow-lg z-50';
    toast.textContent = message;
    document.body.appendChild(toast);
    
    setTimeout(() => {
      document.body.removeChild(toast);
    }, 3000);
  }
}

// åŠŸèƒ½8: å®¢æœèŠå¤©æœºå™¨äºº
class Chatbot {
  constructor() {
    this.chatbotToggle = document.getElementById('chatbot-toggle');
    this.chatbotWindow = document.getElementById('chatbot-window');
    this.chatbotMessages = document.getElementById('chatbot-messages');
    this.chatbotInput = document.getElementById('chatbot-input');
    this.closeChatbot = document.getElementById('close-chatbot');
    this.chatbotTitle = document.querySelector('.chatbot-title');
    this.init();
  }

  init() {
    this.chatbotToggle.addEventListener('click', () => this.toggleChatbot());
    this.closeChatbot.addEventListener('click', () => this.closeChatbotWindow());
    this.chatbotInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        this.handleUserInput();
      }
    });

    // åˆå§‹æ¶ˆæ¯
    this.addBotMessage(translations[currentLang].chatbotGreeting);
    this.addBotMessage(translations[currentLang].chatbotHelp);
  }

  toggleChatbot() {
    this.chatbotWindow.classList.toggle('active');
    if (this.chatbotWindow.classList.contains('active')) {
      this.chatbotInput.focus();
    }
  }

  closeChatbotWindow() {
    this.chatbotWindow.classList.remove('active');
  }

  addBotMessage(text) {
    const messageDiv = document.createElement('div');
    messageDiv.className = 'chat-message bot-message';
    messageDiv.textContent = text;
    this.chatbotMessages.appendChild(messageDiv);
    this.scrollToBottom();
  }

  addUserMessage(text) {
    const messageDiv = document.createElement('div');
    messageDiv.className = 'chat-message user-message';
    messageDiv.textContent = text;
    this.chatbotMessages.appendChild(messageDiv);
    this.scrollToBottom();
  }

  scrollToBottom() {
    this.chatbotMessages.scrollTop = this.chatbotMessages.scrollHeight;
  }

  async handleUserInput() {
    const userInput = this.chatbotInput.value.trim();
    if (!userInput) return;

    this.addUserMessage(userInput);
    this.chatbotInput.value = '';

    // æ¨¡æ‹ŸAIå“åº”
    setTimeout(() => {
      const response = this.generateResponse(userInput);
      this.addBotMessage(response);
    }, 1000);
  }

  generateResponse(userInput) {
    const input = userInput.toLowerCase();
    const t = translations[currentLang];

    if (input.includes('ä»·æ ¼') || input.includes('price') || input.includes('cost')) {
      return 'æˆ‘ä»¬æä¾›Discord Nitroå’ŒRobuxå……å€¼æœåŠ¡ã€‚Discord Nitro Basicä»·æ ¼æ˜¯RM9ï¼Œå®Œæ•´ç‰ˆæ˜¯RM21ã€‚Robux 100ä¸ªä»·æ ¼æ˜¯RM2.40ï¼Œ1000ä¸ªæ˜¯RM24ã€‚';
    } else if (input.includes('ä»˜æ¬¾') || input.includes('payment') || input.includes('pay')) {
      return 'æˆ‘ä»¬æ”¯æŒTouch \'N Go eWallet, LitecoinåŠ å¯†è´§å¸å’ŒPayPalæ”¯ä»˜ã€‚ä»˜æ¬¾åè¯·ä¸Šä¼ ä»˜æ¬¾å‡­è¯æˆªå›¾ã€‚';
    } else if (input.includes('å‘è´§') || input.includes('delivery') || input.includes('ship')) {
      return 'æ•°å­—å•†å“é€šå¸¸5åˆ†é’Ÿå†…åˆ°è´¦ã€‚è´­ä¹°åè¯·æŸ¥çœ‹æ‚¨çš„é‚®ç®±æˆ–è”ç³»å®¢æœè·å–å•†å“ã€‚';
    } else if (input.includes('è”ç³»') || input.includes('contact') || input.includes('support')) {
      return 'æ‚¨å¯ä»¥é€šè¿‡WhatsApp +60 11-6243 0710æˆ–åŠ å…¥æˆ‘ä»¬çš„Discordç¤¾åŒºè”ç³»æˆ‘ä»¬ã€‚';
    } else if (input.includes('è®¢å•') || input.includes('order') || input.includes('track')) {
      return 'æ‚¨å¯ä»¥åœ¨ç½‘ç«™é¡¶éƒ¨çš„"è®¢å•è·Ÿè¸ª"æŒ‰é’®ä¸­æŸ¥è¯¢è®¢å•çŠ¶æ€ï¼Œéœ€è¦è®¢å•å·ã€‚';
    } else if (input.includes('é€€è´§') || input.includes('refund') || input.includes('return')) {
      return 'æ•°å­—å•†å“ä¸€èˆ¬ä¸æ¥å—é€€è´§ï¼Œä½†å¦‚æœé‡åˆ°é—®é¢˜è¯·è”ç³»å®¢æœï¼Œæˆ‘ä»¬ä¼šå°½åŠ›è§£å†³ã€‚';
    } else if (input.includes('æŠ˜æ‰£') || input.includes('discount') || input.includes('promo')) {
      return 'æˆ‘ä»¬ç½‘ç«™ä¸Šæœ‰ä¿ƒé”€å€’è®¡æ—¶ï¼Œç»å¸¸æœ‰é™æ—¶ä¼˜æƒ ã€‚è¯·å…³æ³¨ç½‘ç«™çš„ä¿ƒé”€æ´»åŠ¨ï¼';
    } else {
      return 'æ„Ÿè°¢æ‚¨çš„å’¨è¯¢ï¼å¦‚æœæ‚¨éœ€è¦æ›´å…·ä½“çš„å¸®åŠ©ï¼Œè¯·ç›´æ¥è”ç³»æˆ‘ä»¬çš„å®¢æœäººå‘˜ã€‚';
    }
  }
}

// åŠŸèƒ½9: å¤šæ­¥ç»“è´¦æµç¨‹
class CheckoutProcess {
  constructor() {
    this.checkoutModal = document.getElementById('checkout-process-modal');
    this.checkoutSteps = document.querySelectorAll('.checkout-step');
    this.stepContents = document.querySelectorAll('.checkout-step-content');
    this.nextStepBtn = document.getElementById('next-step');
    this.prevStepBtn = document.getElementById('prev-step');
    this.currentStep = 1;
    this.init();
  }

  init() {
    this.nextStepBtn.addEventListener('click', () => this.nextStep());
    this.prevStepBtn.addEventListener('click', () => this.prevStep());
    
    document.getElementById('close-checkout-modal').addEventListener('click', () => {
      this.checkoutModal.classList.add('hidden');
    });

    this.checkoutModal.addEventListener('click', (e) => {
      if (e.target === this.checkoutModal) {
        this.checkoutModal.classList.add('hidden');
      }
    });

    // æ”¯ä»˜é€‰é¡¹é€‰æ‹©
    document.querySelectorAll('#checkout-step-3 .payment-option').forEach(option => {
      option.addEventListener('click', function() {
        document.querySelectorAll('#checkout-step-3 .payment-option').forEach(opt => {
          opt.classList.remove('selected');
        });
        this.classList.add('selected');
      });
    });
  }

  openCheckoutModal() {
    this.currentStep = 1;
    this.updateSteps();
    this.renderCartItems();
    this.checkoutModal.classList.remove('hidden');
  }

  updateSteps() {
    this.checkoutSteps.forEach(step => {
      const stepNum = parseInt(step.dataset.step);
      step.classList.remove('active');
      if (stepNum === this.currentStep) {
        step.classList.add('active');
      }
    });

    this.stepContents.forEach(content => {
      content.classList.remove('active');
      if (content.id === `checkout-step-${this.currentStep}`) {
        content.classList.add('active');
      }
    });

    // æ›´æ–°æŒ‰é’®çŠ¶æ€
    this.prevStepBtn.disabled = this.currentStep === 1;
    this.nextStepBtn.textContent = this.currentStep === 4 ? 
      translations[currentLang].confirmOrder : translations[currentLang].nextStep;
  }

  nextStep() {
    if (this.currentStep < 4) {
      // éªŒè¯å½“å‰æ­¥éª¤
      if (!this.validateCurrentStep()) {
        return;
      }
      
      this.currentStep++;
      this.updateSteps();
    } else {
      // æœ€åä¸€æ­¥ï¼šç¡®è®¤è®¢å•
      this.completeOrder();
    }
  }

  prevStep() {
    if (this.currentStep > 1) {
      this.currentStep--;
      this.updateSteps();
    }
  }

  validateCurrentStep() {
    switch (this.currentStep) {
      case 1: // è´­ç‰©è½¦
        if (cart.length === 0) {
          alert('è´­ç‰©è½¦ä¸ºç©ºï¼Œè¯·å…ˆæ·»åŠ å•†å“');
          return false;
        }
        break;
      case 2: // é€è´§ä¿¡æ¯
        const inputs = document.querySelectorAll('#checkout-step-2 .form-input');
        for (let input of inputs) {
          if (!input.value.trim()) {
            alert('è¯·å¡«å†™å®Œæ•´çš„é€è´§ä¿¡æ¯');
            input.focus();
            return false;
          }
        }
        break;
      case 3: // æ”¯ä»˜æ–¹å¼
        const selectedPayment = document.querySelector('#checkout-step-3 .payment-option.selected');
        if (!selectedPayment) {
          alert('è¯·é€‰æ‹©æ”¯ä»˜æ–¹å¼');
          return false;
        }
        break;
    }
    return true;
  }

  renderCartItems() {
    const container = document.getElementById('checkout-cart-items');
    if (cart.length === 0) {
      container.innerHTML = '<p class="text-gray-400">è´­ç‰©è½¦ä¸ºç©º</p>';
      return;
    }

    let total = 0;
    container.innerHTML = cart.map(item => {
      const itemTotal = item.price * item.quantity;
      total += itemTotal;
      return `
        <div class="flex justify-between items-center p-3 bg-gray-800/30 rounded-lg">
          <div>
            <p class="font-bold text-white">${item.product}</p>
            <p class="text-sm text-gray-400">æ•°é‡: ${item.quantity}</p>
          </div>
          <p class="font-bold holographic-text">RM${itemTotal.toFixed(2)}</p>
        </div>
      `;
    }).join('');

    // æ·»åŠ æ€»è®¡
    container.innerHTML += `
      <div class="flex justify-between items-center p-3 bg-gray-800/50 rounded-lg mt-4">
        <p class="font-bold text-white">æ€»è®¡</p>
        <p class="text-2xl font-bold holographic-text">RM${total.toFixed(2)}</p>
      </div>
    `;
  }

  completeOrder() {
    // æ”¶é›†è®¢å•ä¿¡æ¯
    const shippingInfo = {
      name: document.querySelector('#checkout-step-2 input[placeholder*="å§“å"]').value,
      email: document.querySelector('#checkout-step-2 input[placeholder*="é‚®ç®±"]').value,
      phone: document.querySelector('#checkout-step-2 input[placeholder*="æ‰‹æœº"]').value,
      address: document.querySelector('#checkout-step-2 textarea').value
    };

    const paymentMethod = document.querySelector('#checkout-step-3 .payment-option.selected').dataset.method;
    
    let orderTotal = 0;
    cart.forEach(item => {
      orderTotal += item.price * item.quantity;
    });

    // ç”Ÿæˆè®¢å•å·
    const orderId = 'NS-' + Date.now().toString().slice(-8);

    // ä¿å­˜è®¢å•ä¿¡æ¯
    const order = {
      id: orderId,
      date: new Date().toISOString(),
      items: [...cart],
      shippingInfo,
      paymentMethod,
      total: orderTotal,
      status: 'pending'
    };

    // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
    const orders = JSON.parse(localStorage.getItem('orders') || '[]');
    orders.push(order);
    localStorage.setItem('orders', JSON.stringify(orders));

    // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
    alert(`è®¢å•åˆ›å»ºæˆåŠŸï¼\nè®¢å•å·: ${orderId}\næ€»é‡‘é¢: RM${orderTotal.toFixed(2)}\nè¯·ç»§ç»­å®Œæˆä»˜æ¬¾ã€‚`);

    // å…³é—­æ¨¡æ€æ¡†å¹¶æ¸…ç©ºè´­ç‰©è½¦
    this.checkoutModal.classList.add('hidden');
    cart = [];
    updateCartCount();

    // å‘é€Telegramé€šçŸ¥
    this.sendOrderNotification(order);
  }

  async sendOrderNotification(order) {
    const orderDetails = order.items.map(item => 
      `${item.product} Ã— ${item.quantity} = RM${(item.price * item.quantity).toFixed(2)}`
    ).join('\n');

    const message = `
ğŸ›’ <b>æ–°è®¢å•åˆ›å»º</b>

ğŸ“¦ <b>è®¢å•å·:</b> ${order.id}
ğŸ’° <b>æ€»é‡‘é¢:</b> RM${order.total.toFixed(2)}
ğŸ’³ <b>æ”¯ä»˜æ–¹å¼:</b> ${order.paymentMethod}
ğŸ“§ <b>å®¢æˆ·é‚®ç®±:</b> ${order.shippingInfo.email}
ğŸ“ <b>å®¢æˆ·ç”µè¯:</b> ${order.shippingInfo.phone}
â° <b>ä¸‹å•æ—¶é—´:</b> ${new Date(order.date).toLocaleString('zh-CN')}

ğŸ›ï¸ <b>è®¢å•è¯¦æƒ…:</b>
${orderDetails}

âœ… <b>çŠ¶æ€:</b> å¾…ä»˜æ¬¾
    `;

    try {
      await sendToTelegram(message);
      console.log('âœ… è®¢å•é€šçŸ¥å‘é€æˆåŠŸ');
    } catch (error) {
      console.error('âŒ è®¢å•é€šçŸ¥å‘é€å¤±è´¥:', error);
    }
  }
}

// åŠŸèƒ½10: äº§å“æ¨èå¼•æ“ï¼ˆåŸºäºæµè§ˆå†å²ï¼‰
class RecommendationEngine {
  constructor() {
    this.viewHistory = JSON.parse(localStorage.getItem('viewHistory') || '[]');
    this.init();
  }

  init() {
    // è·Ÿè¸ªäº§å“æŸ¥çœ‹
    document.querySelectorAll('.product-card').forEach(card => {
      card.addEventListener('mouseenter', () => {
        const productName = card.querySelector('.product-name').textContent.trim();
        this.trackView(productName);
      });
    });

    // æ˜¾ç¤ºæ¨è
    this.showRecommendations();
  }

  trackView(productName) {
    const existingIndex = this.viewHistory.findIndex(item => item.name === productName);
    
    if (existingIndex > -1) {
      this.viewHistory[existingIndex].count++;
      this.viewHistory[existingIndex].lastViewed = new Date().toISOString();
    } else {
      this.viewHistory.push({
        name: productName,
        count: 1,
        firstViewed: new Date().toISOString(),
        lastViewed: new Date().toISOString()
      });
    }

    // åªä¿ç•™æœ€è¿‘20ä¸ªè®°å½•
    if (this.viewHistory.length > 20) {
      this.viewHistory = this.viewHistory.slice(-20);
    }

    localStorage.setItem('viewHistory', JSON.stringify(this.viewHistory));
  }

  showRecommendations() {
    if (this.viewHistory.length === 0) return;

    // è·å–æœ€å¸¸æŸ¥çœ‹çš„äº§å“
    const mostViewed = [...this.viewHistory]
      .sort((a, b) => b.count - a.count)
      .slice(0, 3);

    if (mostViewed.length > 0) {
      const recommendationsSection = this.createRecommendationsSection(mostViewed);
      const main = document.querySelector('main');
      if (main) {
        main.insertBefore(recommendationsSection, main.firstChild);
      }
    }
  }

  createRecommendationsSection(recommendations) {
    const section = document.createElement('div');
    section.className = 'mb-12 sm:mb-24';
    section.innerHTML = `
      <div class="text-center mb-8">
        <h2 class="text-2xl sm:text-4xl font-bold neon-text luxury-title">ä¸ºæ‚¨æ¨è</h2>
        <p class="text-gray-300 text-sm sm:text-lg mt-2">åŸºäºæ‚¨çš„æµè§ˆå†å²</p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        ${recommendations.map(rec => {
          const product = products.find(p => p.name === rec.name);
          if (!product) return '';
          
          return `
            <div class="product-card rounded-2xl overflow-hidden">
              <div class="p-6 relative" style="background: linear-gradient(135deg, #8a2be2 0%, #00bfff 100%);">
                <h3 class="text-xl font-bold text-white text-center luxury-title">${product.name}</h3>
                <p class="text-white text-center mt-2 font-light text-sm">${product.description}</p>
              </div>
              <div class="p-6">
                <ul class="space-y-2 mb-4">
                  ${product.features.slice(0, 2).map(feature => `
                    <li class="flex items-center text-gray-300">
                      <i class="fas fa-check-circle text-green-400 mr-2"></i>
                      <span class="text-sm">${feature}</span>
                    </li>
                  `).join('')}
                </ul>
                <div class="flex justify-between items-center">
                  <span class="text-2xl font-bold holographic-text">RM${product.price}</span>
                  <button class="px-4 py-2 luxury-button rounded-lg text-sm hover:scale-105 transition-all add-to-cart-rec"
                          data-product="${product.name}" data-price="${product.price}">
                    æŸ¥çœ‹è¯¦æƒ…
                  </button>
                </div>
              </div>
            </div>
          `;
        }).join('')}
      </div>
    `;

    // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
    section.querySelectorAll('.add-to-cart-rec').forEach(button => {
      button.addEventListener('click', (e) => {
        const productName = e.target.dataset.product;
        // æ»šåŠ¨åˆ°å¯¹åº”äº§å“
        const productCard = document.querySelector(`.product-name:contains("${productName}")`)?.closest('.product-card');
        if (productCard) {
          productCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
          productCard.classList.add('highlight');
          setTimeout(() => productCard.classList.remove('highlight'), 2000);
        }
      });
    });

    return section;
  }
}

// åŠŸèƒ½3ï¼ˆé¢å¤–ï¼‰ï¼šäº§å“æ¯”è¾ƒåŠŸèƒ½
class ProductComparison {
  constructor() {
    this.comparisonSection = document.getElementById('product-comparison-section');
    this.comparisonTable = document.getElementById('comparison-table-container');
    this.clearComparisonBtn = document.getElementById('clear-comparison');
    this.compareCheckboxes = document.querySelectorAll('.compare-checkbox');
    this.init();
  }

  init() {
    this.clearComparisonBtn.addEventListener('click', () => this.clearComparison());
    
    this.compareCheckboxes.forEach(checkbox => {
      checkbox.addEventListener('change', (e) => this.toggleComparison(e.target));
    });

    // åŠ è½½ä¿å­˜çš„æ¯”è¾ƒ
    this.loadComparison();
  }

  toggleComparison(checkbox) {
    const productId = checkbox.dataset.productId;
    const productName = checkbox.dataset.productName;
    const product = products.find(p => p.id === productId);

    if (checkbox.checked) {
      if (comparingProducts.length >= 3) {
        alert('æœ€å¤šå¯ä»¥æ¯”è¾ƒ3ä¸ªäº§å“');
        checkbox.checked = false;
        return;
      }
      comparingProducts.push({
        id: productId,
        name: productName,
        features: product.features,
        price: product.price,
        category: product.category
      });
    } else {
      const index = comparingProducts.findIndex(p => p.id === productId);
      if (index > -1) {
        comparingProducts.splice(index, 1);
      }
    }

    this.updateComparisonDisplay();
    this.saveComparison();
  }

  updateComparisonDisplay() {
    if (comparingProducts.length === 0) {
      this.comparisonSection.classList.add('hidden');
      return;
    }

    this.comparisonSection.classList.remove('hidden');
    
    // åˆ›å»ºæ¯”è¾ƒè¡¨æ ¼
    let tableHTML = `
      <table class="comparison-table">
        <thead>
          <tr>
            <th>åŠŸèƒ½</th>
            ${comparingProducts.map(p => `<th>${p.name}</th>`).join('')}
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>ä»·æ ¼</td>
            ${comparingProducts.map(p => `<td class="holographic-text font-bold">RM${p.price}</td>`).join('')}
          </tr>
          <tr>
            <td>ç±»åˆ«</td>
            ${comparingProducts.map(p => `<td>${p.category === 'discord' ? 'Discord' : 'Robux'}</td>`).join('')}
          </tr>
    `;

    // æ·»åŠ æ‰€æœ‰åŠŸèƒ½è¡Œï¼ˆåˆå¹¶æ‰€æœ‰äº§å“çš„åŠŸèƒ½ï¼‰
    const allFeatures = [...new Set(comparingProducts.flatMap(p => p.features))];
    allFeatures.forEach(feature => {
      tableHTML += `
        <tr>
          <td>${feature}</td>
          ${comparingProducts.map(p => `
            <td>${p.features.includes(feature) ? 'âœ“' : 'âœ—'}</td>
          `).join('')}
        </tr>
      `;
    });

    tableHTML += `
        </tbody>
      </table>
    `;

    this.comparisonTable.innerHTML = tableHTML;
  }

  clearComparison() {
    comparingProducts = [];
    this.compareCheckboxes.forEach(checkbox => {
      checkbox.checked = false;
    });
    this.updateComparisonDisplay();
    this.saveComparison();
  }

  saveComparison() {
    localStorage.setItem('comparingProducts', JSON.stringify(comparingProducts));
  }

  loadComparison() {
    const saved = localStorage.getItem('comparingProducts');
    if (saved) {
      comparingProducts = JSON.parse(saved);
      comparingProducts.forEach(product => {
        const checkbox = document.querySelector(`.compare-checkbox[data-product-id="${product.id}"]`);
        if (checkbox) {
          checkbox.checked = true;
        }
      });
      this.updateComparisonDisplay();
    }
  }
}

// ä¿ƒé”€å€’è®¡æ—¶
class CountdownTimer {
  constructor() {
    this.daysElement = document.getElementById('countdown-days');
    this.hoursElement = document.getElementById('countdown-hours');
    this.minutesElement = document.getElementById('countdown-minutes');
    this.secondsElement = document.getElementById('countdown-seconds');
    this.endTime = new Date();
    this.endTime.setDate(this.endTime.getDate() + 3); // 3å¤©åç»“æŸ
    this.init();
  }

  init() {
    this.updateCountdown();
    setInterval(() => this.updateCountdown(), 1000);
  }

  updateCountdown() {
    const now = new Date().getTime();
    const distance = this.endTime - now;

    if (distance < 0) {
      this.daysElement.textContent = '00';
      this.hoursElement.textContent = '00';
      this.minutesElement.textContent = '00';
      this.secondsElement.textContent = '00';
      return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    this.daysElement.textContent = days.toString().padStart(2, '0');
    this.hoursElement.textContent = hours.toString().padStart(2, '0');
    this.minutesElement.textContent = minutes.toString().padStart(2, '0');
    this.secondsElement.textContent = seconds.toString().padStart(2, '0');
  }
}

// åˆå§‹åŒ–æ‰€æœ‰åŠŸèƒ½
document.addEventListener('DOMContentLoaded', () => {
  // åˆ›å»ºæ˜Ÿæ˜ŸèƒŒæ™¯
  createStars();
  
  // åˆå§‹åŒ–å„ä¸ªåŠŸèƒ½
  const search = new ProductSearch();
  const orderTracking = new OrderTracking();
  const userAuth = new UserAuth();
  const stockDisplay = new StockDisplay();
  const wishlistManager = new WishlistManager();
  const chatbot = new Chatbot();
  const checkoutProcess = new CheckoutProcess();
  const recommendationEngine = new RecommendationEngine();
  const productComparison = new ProductComparison();
  const countdownTimer = new CountdownTimer();
  
  // è®¾ç½®è¯­è¨€åˆ‡æ¢
  switchLanguage('zh');
  
  console.log('ğŸ® Nyaaastore æ‰€æœ‰åŠŸèƒ½åˆå§‹åŒ–å®Œæˆ');
});

// åˆ›å»ºæ˜Ÿæ˜ŸèƒŒæ™¯å‡½æ•°
function createStars() {
  const starsContainer = document.getElementById('stars');
  const starCount = 150;
  
  for (let i = 0; i < starCount; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    star.style.left = `${Math.random() * 100}%`;
    star.style.top = `${Math.random() * 100}%`;
    star.style.animationDelay = `${Math.random() * 3}s`;
    starsContainer.appendChild(star);
  }
}

// ä¿æŒåŸæœ‰çš„è´­ç‰©è½¦ã€æ”¯ä»˜ç­‰åŠŸèƒ½...
// è¿™äº›å‡½æ•°å·²ç»åœ¨ä¸Šé¢çš„ä»£ç ä¸­æ•´åˆ

// ç®€åŒ–çš„åŸæœ‰å‡½æ•°ï¼ˆä¿æŒæ ¸å¿ƒåŠŸèƒ½ï¼‰
function updateCartCount() {
  const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
  const countBadge = document.getElementById('cart-count');
  countBadge.textContent = totalItems;
}

function showSuccessMessage(message = 'å·²æ·»åŠ åˆ°è´­ç‰©è½¦ï¼') {
  const msgElement = document.getElementById('success-msg-text');
  msgElement.textContent = message;
  
  const messageDiv = document.getElementById('success-message');
  messageDiv.classList.remove('hidden');
  messageDiv.classList.add('flex');
  
  setTimeout(() => {
    messageDiv.classList.add('hidden');
    messageDiv.classList.remove('flex');
  }, 3000);
}

// å…¶ä»–åŸæœ‰å‡½æ•°...
// ç”±äºä»£ç é•¿åº¦é™åˆ¶ï¼Œè¿™é‡Œåªå±•ç¤ºæ ¸å¿ƒçš„æ–°å¢åŠŸèƒ½
// åŸæœ‰çš„è´­ç‰©è½¦ã€æ”¯ä»˜ç­‰åŠŸèƒ½ä¿æŒåŸæ ·è¿è¡Œ
</script>
<script>
// åŸæœ‰çš„æ ¸å¿ƒå‡½æ•°ï¼ˆè¡¥å……å®Œæ•´ï¼‰

// è¯­è¨€åˆ‡æ¢å‡½æ•°
function switchLanguage(lang) {
  currentLang = lang;
  const t = translations[lang];
  
  // æ›´æ–°æ–‡æœ¬
  document.querySelectorAll('[data-zh]').forEach(element => {
    const zh = element.dataset.zh;
    const en = element.dataset.en;
    if (zh && en) {
      element.textContent = lang === 'zh' ? zh : en;
    }
  });
  
  // æ›´æ–°æŒ‰é’®æ–‡æœ¬
  document.getElementById('lang-text').textContent = lang === 'zh' ? 'EN' : 'ä¸­æ–‡';
  document.getElementById('cart-button-text').textContent = t.cartButton;
  document.getElementById('user-auth-text').textContent = t.login;
  document.querySelector('.chatbot-title').textContent = t.chatbotTitle;
  
  // æ›´æ–°æœç´¢æ¡†å ä½ç¬¦
  const searchInputs = document.querySelectorAll('.search-input');
  searchInputs.forEach(input => {
    input.placeholder = t.searchPlaceholder;
  });
}

// è´§å¸åˆ‡æ¢
document.getElementById('currency-toggle').addEventListener('click', function() {
  const currencies = ['MYR', 'TWD'];
  const currentIndex = currencies.indexOf(currentCurrency);
  const nextIndex = (currentIndex + 1) % currencies.length;
  currentCurrency = currencies[nextIndex];
  document.getElementById('currency-text').textContent = `ğŸ’° ${currentCurrency}`;
});

// è¯­è¨€åˆ‡æ¢
document.getElementById('lang-toggle').addEventListener('click', function() {
  switchLanguage(currentLang === 'zh' ? 'en' : 'zh');
});

// Telegramå‘é€å‡½æ•°
async function sendToTelegram(message) {
  try {
    const response = await fetch(TELEGRAM_API_URL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        chat_id: TELEGRAM_CHAT_ID,
        text: message,
        parse_mode: 'HTML'
      })
    });
    return await response.json();
  } catch (error) {
    console.error('å‘é€åˆ°Telegramå¤±è´¥:', error);
    throw error;
  }
}

// åˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', () => {
  console.log('ğŸš€ Nyaaastore å¯åŠ¨æˆåŠŸï¼');
  console.log('âœ¨ å·²é›†æˆ7ä¸ªæ–°åŠŸèƒ½ï¼š');
  console.log('   1. äº§å“æœç´¢åŠŸèƒ½');
  console.log('   2. è®¢å•è·Ÿè¸ªç³»ç»Ÿ');
  console.log('   3. ç”¨æˆ·ç™»å½•/æ³¨å†Œç³»ç»Ÿ');
  console.log('   6. å®æ—¶åº“å­˜æ˜¾ç¤º');
  console.log('   7. å¿ƒæ„¿å•åŠŸèƒ½');
  console.log('   8. å®¢æœèŠå¤©æœºå™¨äºº');
  console.log('   9. å¤šæ­¥ç»“è´¦æµç¨‹');
  console.log('   10. äº§å“æ¨èå¼•æ“');
  console.log('   é¢å¤–: äº§å“æ¯”è¾ƒåŠŸèƒ½');
  console.log('   é¢å¤–: ä¿ƒé”€å€’è®¡æ—¶');
});

// æ·»åŠ CSSåŠ¨ç”»
const style = document.createElement('style');
style.textContent = `
  .product-card.highlight {
    animation: highlightPulse 2s ease;
  }
  
  @keyframes highlightPulse {
    0% { box-shadow: 0 20px 60px rgba(138, 43, 226, 0.4); }
    50% { box-shadow: 0 20px 60px rgba(138, 43, 226, 0.8); transform: scale(1.02); }
    100% { box-shadow: 0 20px 60px rgba(138, 43, 226, 0.4); }
  }
`;
document.head.appendChild(style);
</script>

</body>
</html>