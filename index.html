<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>虚拟商店</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 全局样式 - 移动端优化 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'PingFang SC', 'Microsoft YaHei', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --accent: #4cc9f0;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #4ade80;
            --warning: #f59e0b;
            --danger: #ef4444;
            --gray: #6c757d;
            --gray-light: #e2e8f0;
            --gray-dark: #495057;
            --border-radius: 16px;
            --border-radius-sm: 12px;
            --border-radius-xs: 8px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.12);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--dark);
            min-height: 100vh;
            line-height: 1.5;
            padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
        }

        /* 移动端安全区域 */
        .safe-area {
            max-width: 100%;
            overflow-x: hidden;
        }

        /* 状态栏模拟 */
        .status-bar {
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 12px 16px 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
            font-size: 14px;
            font-weight: 600;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            height: 44px;
        }

        .status-time {
            font-weight: 700;
        }

        .status-icons {
            display: flex;
            gap: 6px;
            align-items: center;
        }

        /* 主容器 */
        .main-container {
            margin-top: 44px;
            min-height: calc(100vh - 44px - 60px);
            padding-bottom: 20px;
        }

        /* 页面容器 */
        .page-container {
            display: none;
            padding: 16px;
            animation: fadeIn 0.4s ease;
        }

        .page-container.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 卡片样式 */
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* 标题样式 */
        .page-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-subtitle {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 24px;
            line-height: 1.4;
        }

        /* 分割线 */
        .divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(67, 97, 238, 0.3), transparent);
            margin: 24px 0;
        }
    </style>
</head>
<body>
    <!-- 状态栏 -->
    <div class="status-bar">
        <div class="status-time">12:08</div>
        <div class="status-icons">
            <i class="fas fa-signal"></i>
            <i class="fas fa-wifi"></i>
            <i class="fas fa-battery-three-quarters"></i>
        </div>
    </div>

    <!-- 主容器 -->
    <div class="main-container safe-area">
        <!-- 首页 -->
        <div class="page-container active" id="home-page">
            <div class="glass-card" style="text-align: center; padding: 40px 20px;">
                <div style="width: 80px; height: 80px; background: linear-gradient(135deg, var(--primary), var(--accent)); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 24px;">
                    <i class="fas fa-shopping-bag" style="font-size: 36px; color: white;"></i>
                </div>
                <h1 class="page-title" style="margin-bottom: 12px;">虚拟商店</h1>
                <p class="page-subtitle" style="margin-bottom: 32px; max-width: 300px; margin-left: auto; margin-right: auto;">
                    购买Discord Nitro、Robux、Spotify Premium和Canva Pro
                </p>
                <button class="btn-primary" onclick="showPage('products')" style="width: 100%; max-width: 200px; margin: 0 auto;">
                    <i class="fas fa-store"></i>
                    开始购物
                </button>
            </div>

            <div class="glass-card">
                <h3 style="margin-bottom: 16px; color: var(--dark); font-size: 18px;">特色服务</h3>
                <div class="features-grid">
                    <div class="feature-item">
                        <div class="feature-icon" style="background: linear-gradient(135deg, var(--primary), var(--accent));">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div>
                            <h4>快速发货</h4>
                            <p>5分钟内自动发货</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon" style="background: linear-gradient(135deg, var(--primary), var(--accent));">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div>
                            <h4>安全可靠</h4>
                            <p>100%安全交易</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
/* 按钮样式 */
.btn {
    padding: 14px 20px;
    border-radius: var(--border-radius-sm);
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    width: 100%;
    -webkit-tap-highlight-color: transparent;
}

.btn-primary {
    background: linear-gradient(135deg, var(--primary), var(--accent));
    color: white;
    box-shadow: 0 4px 15px rgba(67, 97, 238, 0.4);
}

.btn-primary:active {
    transform: scale(0.98);
    box-shadow: 0 2px 8px rgba(67, 97, 238, 0.3);
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.9);
    color: var(--primary);
    border: 1px solid rgba(67, 97, 238, 0.2);
}

.btn-secondary:active {
    background: rgba(67, 97, 238, 0.1);
}

.btn-small {
    padding: 10px 16px;
    font-size: 14px;
    border-radius: var(--border-radius-xs);
}

/* 商品页面 */
#products-page .products-grid {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.product-card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-radius: var(--border-radius);
    padding: 20px;
    box-shadow: var(--shadow);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: var(--transition);
}

.product-card:active {
    transform: translateY(-2px);
    box-shadow: var(--shadow-hover);
}

.product-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 16px;
    padding-bottom: 16px;
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

.product-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, var(--primary), var(--accent));
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 24px;
}

.product-info {
    flex: 1;
}

.product-name {
    font-size: 18px;
    font-weight: 700;
    margin-bottom: 4px;
    color: var(--dark);
}

.product-desc {
    font-size: 13px;
    color: var(--gray);
    line-height: 1.4;
}

.product-options {
    margin-bottom: 16px;
}

.option-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    margin-bottom: 8px;
    background: rgba(248, 249, 250, 0.8);
    border-radius: var(--border-radius-xs);
    border: 1px solid transparent;
    transition: var(--transition);
}

.option-item:active {
    border-color: var(--primary);
    background: rgba(67, 97, 238, 0.05);
}

.option-name {
    font-weight: 500;
    color: var(--dark);
    font-size: 15px;
}

.option-price {
    font-weight: 700;
    font-size: 16px;
    color: var(--primary);
}

.option-action {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    background: linear-gradient(135deg, var(--primary), var(--accent));
    color: white;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: var(--transition);
    margin-left: 12px;
}

.option-action:active {
    transform: scale(0.95);
}

.product-action {
    margin-top: 8px;
}

/* 特色服务 */
.features-grid {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.feature-item {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px;
    background: rgba(248, 249, 250, 0.8);
    border-radius: var(--border-radius-sm);
}

.feature-icon {
    width: 50px;
    height: 50px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 20px;
}

.feature-item h4 {
    font-size: 16px;
    margin-bottom: 4px;
    color: var(--dark);
}

.feature-item p {
    font-size: 13px;
    color: var(--gray);
}

<!-- 商品页面 -->
<div class="page-container" id="products-page">
    <div class="glass-card">
        <h1 class="page-title">精选商品</h1>
        <p class="page-subtitle">选择您需要的商品添加到购物车</p>
        
        <div class="divider"></div>
        
        <div class="products-grid" id="products-container">
            <!-- 商品将通过JavaScript动态生成 -->
        </div>
    </div>
</div>
<!-- 购物车页面 -->
<div class="page-container" id="cart-page">
    <div class="glass-card">
        <h1 class="page-title">购物车</h1>
        <p class="page-subtitle">查看并管理您的购物车</p>
        
        <div class="divider"></div>
        
        <div id="cart-items-container">
            <!-- 购物车项目将通过JavaScript动态生成 -->
            <div id="empty-cart" style="text-align: center; padding: 40px 20px; color: var(--gray);">
                <div style="width: 80px; height: 80px; background: rgba(0, 0, 0, 0.05); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px;">
                    <i class="fas fa-shopping-cart" style="font-size: 36px; color: var(--gray);"></i>
                </div>
                <h3 style="margin-bottom: 8px; color: var(--dark); font-size: 18px;">购物车是空的</h3>
                <p style="margin-bottom: 24px; font-size: 14px;">去商品页面添加一些商品吧！</p>
                <button class="btn-primary btn-small" onclick="showPage('products')" style="max-width: 200px; margin: 0 auto;">
                    <i class="fas fa-store"></i>
                    浏览商品
                </button>
            </div>
        </div>
        
        <div id="cart-summary-section" style="display: none;">
            <div class="divider"></div>
            
            <div style="margin-bottom: 20px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                    <span style="color: var(--gray); font-size: 14px;">小计</span>
                    <span id="cart-subtotal" style="font-weight: 600; font-size: 16px;">$0.00</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 16px;">
                    <span style="color: var(--gray); font-size: 14px;">手续费</span>
                    <span id="cart-fee" style="font-weight: 600; font-size: 16px;">$0.00</span>
                </div>
                <div style="display: flex; justify-content: space-between; padding-top: 16px; border-top: 2px solid rgba(0, 0, 0, 0.05);">
                    <span style="font-weight: 700; font-size: 18px; color: var(--dark);">总计</span>
                    <span id="cart-total" style="font-weight: 700; font-size: 20px; color: var(--primary);">$0.00</span>
                </div>
            </div>
            
            <button class="btn-primary" id="proceed-checkout" onclick="showPage('checkout')">
                <i class="fas fa-credit-card"></i>
                前往付款
            </button>
        </div>
    </div>
</div>

/* 购物车项目样式 */
.cart-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px;
    margin-bottom: 12px;
    background: rgba(248, 249, 250, 0.8);
    border-radius: var(--border-radius-sm);
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.cart-item-info {
    flex: 1;
}

.cart-item-name {
    font-weight: 600;
    margin-bottom: 4px;
    color: var(--dark);
    font-size: 16px;
}

.cart-item-option {
    font-size: 13px;
    color: var(--gray);
}

.cart-item-price {
    font-weight: 700;
    color: var(--primary);
    margin-left: 16px;
    font-size: 16px;
    min-width: 60px;
    text-align: right;
}

.cart-item-actions {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-left: 16px;
}

.quantity-control {
    display: flex;
    align-items: center;
    gap: 8px;
    background: white;
    border-radius: 20px;
    padding: 4px;
    border: 1px solid rgba(0, 0, 0, 0.1);
}

.quantity-btn {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    color: var(--gray);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    transition: var(--transition);
}

.quantity-btn:active {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
}

.quantity {
    min-width: 28px;
    text-align: center;
    font-weight: 600;
    color: var(--dark);
}

.remove-btn {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    background: rgba(239, 68, 68, 0.1);
    color: var(--danger);
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: var(--transition);
}

.remove-btn:active {
    background: var(--danger);
    color: white;
}
<!-- 付款页面 -->
<div class="page-container" id="checkout-page">
    <div class="glass-card">
        <h1 class="page-title">付款</h1>
        <p class="page-subtitle">选择付款方式完成购买</p>
        
        <div class="divider"></div>
        
        <div style="margin-bottom: 24px;">
            <h3 style="margin-bottom: 16px; color: var(--dark); font-size: 18px;">订单详情</h3>
            <div id="checkout-items">
                <!-- 订单项目将通过JavaScript动态生成 -->
            </div>
            <div style="display: flex; justify-content: space-between; padding-top: 16px; border-top: 2px solid rgba(0, 0, 0, 0.05); margin-top: 16px;">
                <span style="font-weight: 700; font-size: 18px; color: var(--dark);">总计</span>
                <span id="checkout-total" style="font-weight: 700; font-size: 20px; color: var(--primary);">$0.00</span>
            </div>
        </div>
        
        <div class="divider"></div>
        
        <div style="margin-bottom: 24px;">
            <h3 style="margin-bottom: 16px; color: var(--dark); font-size: 18px;">选择付款方式</h3>
            <div class="payment-methods">
                <div class="payment-method active" onclick="selectPaymentMethod('tng')">
                    <div class="payment-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <div class="payment-info">
                        <h4>TNG eWallet</h4>
                        <p>使用Touch 'n Go电子钱包付款</p>
                    </div>
                    <i class="fas fa-check-circle"></i>
                </div>
                
                <div class="payment-method" onclick="selectPaymentMethod('ltc')">
                    <div class="payment-icon">
                        <i class="fab fa-bitcoin"></i>
                    </div>
                    <div class="payment-info">
                        <h4>Litecoin (LTC)</h4>
                        <p>使用加密货币付款</p>
                    </div>
                    <i class="fas fa-check-circle"></i>
                </div>
            </div>
        </div>
        
        <div id="tng-details">
            <h3 style="margin-bottom: 16px; color: var(--dark); font-size: 18px;">TNG付款说明</h3>
            <div class="payment-steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>打开TNG应用</h4>
                        <p>在手机上打开Touch 'n Go电子钱包应用</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>扫描QR码</h4>
                        <p>扫描下面的QR码或使用手机号码付款</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>确认付款</h4>
                        <p>付款后点击"确认付款"按钮</p>
                    </div>
                </div>
            </div>
            
            <div class="qr-section">
                <div class="qr-container">
                    <img src="https://i.ibb.co/mFC45kFx/IMG-20251215-184553-1.jpg" alt="TNG QR Code">
                </div>
                <div class="payment-info">
                    <p><i class="fas fa-phone"></i> <strong>手机号码:</strong> +60 11-6243 0710</p>
                    <p><i class="fab fa-whatsapp"></i> <strong>WhatsApp:</strong> +60 11-6243 0710</p>
                </div>
            </div>
        </div>
        
        <div id="ltc-details" style="display: none;">
            <h3 style="margin-bottom: 16px; color: var(--dark); font-size: 18px;">LTC付款说明</h3>
            <div class="payment-steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>打开钱包</h4>
                        <p>打开您的加密货币钱包应用</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>发送LTC</h4>
                        <p>发送LTC到以下地址或扫描QR码</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>确认付款</h4>
                        <p>付款后点击"确认付款"按钮</p>
                    </div>
                </div>
            </div>
            
            <div class="qr-section">
                <div class="qr-container">
                    <img src="https://i.ibb.co/JjqdbnSn/IMG-20260102-WA0000.jpg" alt="LTC QR Code">
                </div>
                <div class="payment-info">
                    <p><i class="fas fa-wallet"></i> <strong>LTC地址:</strong></p>
                    <div class="address-box">ltc1qq7ra3uhka9sf38tq4m5elp0mawn99ytxkk0xvw</div>
                    <p><i class="fab fa-whatsapp"></i> <strong>付款后请WhatsApp截图确认</strong></p>
                </div>
            </div>
        </div>
        
        <div class="payment-actions">
            <button class="btn-secondary" onclick="showPage('cart')">
                <i class="fas fa-arrow-left"></i>
                返回购物车
            </button>
            <button class="btn-primary" onclick="completePayment()">
                <i class="fas fa-check-circle"></i>
                确认付款
            </button>
        </div>
    </div>
</div>

/* 付款方式样式 */
.payment-methods {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 24px;
}

.payment-method {
    display: flex;
    align-items: center;
    padding: 16px;
    background: rgba(248, 249, 250, 0.8);
    border-radius: var(--border-radius-sm);
    border: 2px solid transparent;
    cursor: pointer;
    transition: var(--transition);
}

.payment-method:active {
    transform: scale(0.98);
}

.payment-method.active {
    border-color: var(--primary);
    background: rgba(67, 97, 238, 0.05);
}

.payment-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, var(--primary), var(--accent));
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 24px;
    margin-right: 16px;
}

.payment-info {
    flex: 1;
}

.payment-info h4 {
    font-size: 16px;
    margin-bottom: 4px;
    color: var(--dark);
}

.payment-info p {
    font-size: 13px;
    color: var(--gray);
}

.payment-method .fa-check-circle {
    color: var(--primary);
    font-size: 20px;
    display: none;
}

.payment-method.active .fa-check-circle {
    display: block;
}

/* 付款步骤 */
.payment-steps {
    margin-bottom: 24px;
}

.step {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    margin-bottom: 16px;
}

.step-number {
    width: 32px;
    height: 32px;
    background: linear-gradient(135deg, var(--primary), var(--accent));
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 14px;
    flex-shrink: 0;
}

.step-content h4 {
    font-size: 15px;
    margin-bottom: 4px;
    color: var(--dark);
}

.step-content p {
    font-size: 13px;
    color: var(--gray);
    line-height: 1.4;
}

/* QR码区域 */
.qr-section {
    text-align: center;
    margin-bottom: 24px;
}

.qr-container {
    width: 200px;
    height: 200px;
    margin: 0 auto 16px;
    background: white;
    border-radius: var(--border-radius-sm);
    padding: 12px;
    box-shadow: var(--shadow);
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.qr-container img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 8px;
}

.payment-info p {
    margin-bottom: 8px;
    font-size: 14px;
    color: var(--dark);
}

.address-box {
    background: rgba(248, 249, 250, 0.8);
    padding: 12px;
    border-radius: var(--border-radius-xs);
    font-family: monospace;
    font-size: 13px;
    word-break: break-all;
    margin: 8px 0 16px;
    border: 1px solid rgba(0, 0, 0, 0.05);
}

/* 付款操作按钮 */
.payment-actions {
    display: flex;
    gap: 12px;
    margin-top: 24px;
}

.payment-actions .btn {
    flex: 1;
}
    <!-- 完成页面 -->
    <div class="page-container" id="complete-page">
        <div class="glass-card" style="text-align: center; padding: 40px 20px;">
            <div class="success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h1 class="page-title" style="margin-bottom: 12px;">付款成功！</h1>
            <p class="page-subtitle" style="margin-bottom: 32px;">
                感谢您的购买！您的订单已确认，商品将很快发送到您的电子邮件。
            </p>
            
            <div class="contact-section">
                <h3 style="margin-bottom: 16px; color: var(--dark); font-size: 18px;">重要提醒</h3>
                <p style="margin-bottom: 20px; color: var(--gray); font-size: 14px;">
                    付款后请务必通过以下方式联系我们确认付款：
                </p>
                
                <div class="contact-options">
                    <div class="contact-option" onclick="openWhatsApp()">
                        <div class="contact-icon" style="background: #25D366;">
                            <i class="fab fa-whatsapp"></i>
                        </div>
                        <div class="contact-info">
                            <h4>WhatsApp</h4>
                            <p>+60 11-6243 0710</p>
                        </div>
                    </div>
                    
                    <div class="contact-option" onclick="openDiscord()">
                        <div class="contact-icon" style="background: #5865F2;">
                            <i class="fab fa-discord"></i>
                        </div>
                        <div class="contact-info">
                            <h4>Discord</h4>
                            <p>https://discord.gg/3BRcSV5Jvf</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="complete-actions">
                <button class="btn-secondary" onclick="showPage('home')">
                    <i class="fas fa-home"></i>
                    返回首页
                </button>
                <button class="btn-primary" onclick="showPage('products')">
                    <i class="fas fa-shopping-cart"></i>
                    继续购物
                </button>
            </div>
        </div>
    </div>
</div>

<!-- 底部导航栏 -->
<div class="bottom-nav">
    <div class="nav-item active" onclick="showPage('home')">
        <i class="fas fa-home"></i>
        <span>首页</span>
    </div>
    <div class="nav-item" onclick="showPage('products')">
        <i class="fas fa-store"></i>
        <span>商品</span>
    </div>
    <div class="nav-item" onclick="showPage('cart')">
        <i class="fas fa-shopping-cart"></i>
        <span>购物车</span>
        <span class="cart-badge" id="cart-badge">0</span>
    </div>
    <div class="nav-item" onclick="showPage('checkout')">
        <i class="fas fa-credit-card"></i>
        <span>付款</span>
    </div>
</div>

<!-- 音乐播放器 -->
<div class="music-player">
    <div class="music-info">
        <div class="now-playing">Now Playing: YouTube Music</div>
    </div>
    <div class="music-controls">
        <button class="music-btn" onclick="prevSong()">
            <i class="fas fa-step-backward"></i>
        </button>
        <button class="music-btn" onclick="togglePlayPause()">
            <i class="fas fa-play" id="play-icon"></i>
        </button>
        <button class="music-btn" onclick="nextSong()">
            <i class="fas fa-step-forward"></i>
        </button>
    </div>
</div>

<!-- YouTube音乐iframe -->
<div id="youtube-player" style="display: none;">
    <iframe width="0" height="0" src="https://www.youtube.com/embed/J4ANQfaf_gc?autoplay=1&controls=0&enablejsapi=1" 
            frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen></iframe>
</div>

<style>
    /* 完成页面样式 */
    .success-icon {
        font-size: 64px;
        color: var(--success);
        margin-bottom: 24px;
        animation: bounce 1s ease infinite alternate;
    }

    @keyframes bounce {
        from {
            transform: translateY(0);
        }
        to {
            transform: translateY(-10px);
        }
    }

    .contact-section {
        background: rgba(248, 249, 250, 0.8);
        border-radius: var(--border-radius-sm);
        padding: 20px;
        margin-bottom: 32px;
    }

    .contact-options {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .contact-option {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 16px;
        background: white;
        border-radius: var(--border-radius-xs);
        border: 1px solid rgba(0, 0, 0, 0.05);
        cursor: pointer;
        transition: var(--transition);
    }

    .contact-option:active {
        transform: scale(0.98);
        border-color: var(--primary);
    }

    .contact-icon {
        width: 44px;
        height: 44px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 20px;
    }

    .contact-info h4 {
        font-size: 15px;
        margin-bottom: 2px;
        color: var(--dark);
    }

    .contact-info p {
        font-size: 13px;
        color: var(--gray);
    }

    .complete-actions {
        display: flex;
        gap: 12px;
    }

    .complete-actions .btn {
        flex: 1;
    }

    /* 底部导航栏 */
    .bottom-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        display: flex;
        justify-content: space-around;
        padding: 12px 16px;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
        z-index: 1000;
    }

    .nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
        color: var(--gray);
        font-size: 12px;
        cursor: pointer;
        transition: var(--transition);
        position: relative;
        padding: 8px 12px;
        border-radius: var(--border-radius-xs);
    }

    .nav-item:active {
        background: rgba(67, 97, 238, 0.1);
    }

    .nav-item.active {
        color: var(--primary);
    }

    .nav-item i {
        font-size: 20px;
    }

    .cart-badge {
        position: absolute;
        top: -2px;
        right: 0;
        background: var(--danger);
        color: white;
        font-size: 10px;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
    }

    /* 音乐播放器 */
    .music-player {
        position: fixed;
        bottom: 70px;
        right: 16px;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border-radius: 25px;
        padding: 10px 16px;
        display: flex;
        align-items: center;
        gap: 16px;
        box-shadow: var(--shadow);
        border: 1px solid rgba(255, 255, 255, 0.2);
        z-index: 999;
        transform: translateY(0);
        transition: var(--transition);
    }

    .music-player.hidden {
        transform: translateY(100px);
    }

    .music-info {
        font-size: 12px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 120px;
    }

    .now-playing {
        font-weight: 600;
        color: var(--primary);
    }

    .music-controls {
        display: flex;
        gap: 8px;
    }

    .music-btn {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary), var(--accent));
        color: white;
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: var(--transition);
    }

    .music-btn:active {
        transform: scale(0.95);
    }

    /* 响应式调整 */
    @media (max-width: 360px) {
        .page-title {
            font-size: 22px;
        }
        
        .product-icon {
            width: 44px;
            height: 44px;
            font-size: 20px;
        }
        
        .product-name {
            font-size: 16px;
        }
        
        .btn {
            padding: 12px 16px;
            font-size: 15px;
        }
        
        .qr-container {
            width: 180px;
            height: 180px;
        }
        
        .music-player {
            bottom: 60px;
            right: 12px;
            padding: 8px 12px;
        }
    }

    /* 通知 */
    .notification {
        position: fixed;
        top: 60px;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(135deg, var(--primary), var(--accent));
        color: white;
        padding: 12px 24px;
        border-radius: 25px;
        box-shadow: var(--shadow);
        z-index: 2000;
        display: flex;
        align-items: center;
        gap: 12px;
        animation: slideDown 0.3s ease, slideUp 0.3s ease 2.7s forwards;
        max-width: 90%;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translate(-50%, -20px);
        }
        to {
            opacity: 1;
            transform: translate(-50%, 0);
        }
    }

    @keyframes slideUp {
        from {
            opacity: 1;
            transform: translate(-50%, 0);
        }
        to {
            opacity: 0;
            transform: translate(-50%, -20px);
        }
    }
</style>
<script>
    // 数据
    let currentLanguage = 'zh';
    let cart = [];
    let currentPaymentMethod = 'tng';
    let isPlaying = false;
    let youtubePlayer = null;
    
    // 翻译数据
    const translations = {
        zh: {
            homeTitle: "虚拟商店",
            homeSubtitle: "购买Discord Nitro、Robux、Spotify Premium和Canva Pro",
            startShopping: "开始购物",
            productsTitle: "精选商品",
            productsSubtitle: "选择您需要的商品添加到购物车",
            cartTitle: "购物车",
            cartSubtitle: "查看并管理您的购物车",
            checkoutTitle: "付款",
            checkoutSubtitle: "选择付款方式完成购买",
            emptyCart: "购物车是空的",
            browseProducts: "浏览商品",
            subtotal: "小计",
            fee: "手续费",
            total: "总计",
            proceedCheckout: "前往付款",
            nitroName: "Discord Nitro",
            nitroDesc: "增强您的Discord体验",
            nitroLinkOption: "链接激活",
            nitroLoginOption: "账号登入",
            robuxName: "Robux",
            robuxDesc: "Roblox游戏货币",
            robuxTaxOption: "包税 (500 Robux)",
            robuxNoTaxOption: "不包税 (450 Robux)",
            robuxGiftOption: "代送服务",
            spotifyName: "Spotify Premium",
            spotifyDesc: "无广告音乐体验",
            spotify4Option: "4个月",
            spotify8Option: "8个月",
            spotify12Option: "12个月",
            canvaName: "Canva Pro",
            canvaDesc: "专业设计工具",
            canvaOption: "1年订阅",
            addToCart: "加入购物车",
            paymentSuccess: "付款成功！",
            paymentMessage: "感谢您的购买！您的订单已确认，商品将很快发送到您的电子邮件。",
            importantReminder: "重要提醒",
            contactNote: "付款后请务必通过以下方式联系我们确认付款：",
            returnHome: "返回首页",
            continueShopping: "继续购物"
        },
        en: {
            homeTitle: "Virtual Store",
            homeSubtitle: "Purchase Discord Nitro, Robux, Spotify Premium and Canva Pro",
            startShopping: "Start Shopping",
            productsTitle: "Products",
            productsSubtitle: "Select products and add to cart",
            cartTitle: "Shopping Cart",
            cartSubtitle: "View and manage your cart",
            checkoutTitle: "Checkout",
            checkoutSubtitle: "Select payment method",
            emptyCart: "Your cart is empty",
            browseProducts: "Browse Products",
            subtotal: "Subtotal",
            fee: "Service Fee",
            total: "Total",
            proceedCheckout: "Proceed to Checkout",
            nitroName: "Discord Nitro",
            nitroDesc: "Enhance your Discord experience",
            nitroLinkOption: "Link Activation",
            nitroLoginOption: "Account Login",
            robuxName: "Robux",
            robuxDesc: "Roblox game currency",
            robuxTaxOption: "With Tax (500 Robux)",
            robuxNoTaxOption: "No Tax (450 Robux)",
            robuxGiftOption: "Gifting Service",
            spotifyName: "Spotify Premium",
            spotifyDesc: "Ad-free music experience",
            spotify4Option: "4 Months",
            spotify8Option: "8 Months",
            spotify12Option: "12 Months",
            canvaName: "Canva Pro",
            canvaDesc: "Professional design tool",
            canvaOption: "1 Year Subscription",
            addToCart: "Add to Cart",
            paymentSuccess: "Payment Successful!",
            paymentMessage: "Thank you for your purchase! Your order has been confirmed.",
            importantReminder: "Important Reminder",
            contactNote: "Please contact us after payment to confirm:",
            returnHome: "Return Home",
            continueShopping: "Continue Shopping"
        }
    };

    // 商品数据
    const products = [
        {
            id: 1,
            nameKey: "nitroName",
            descKey: "nitroDesc",
            icon: "fas fa-gamepad",
            options: [
                { nameKey: "nitroLinkOption", priceUSD: 9.99 },
                { nameKey: "nitroLoginOption", priceUSD: 8.99 }
            ]
        },
        {
            id: 2,
            nameKey: "robuxName",
            descKey: "robuxDesc",
            icon: "fas fa-gem",
            options: [
                { nameKey: "robuxTaxOption", priceUSD: 5.99 },
                { nameKey: "robuxNoTaxOption", priceUSD: 5.49 },
                { nameKey: "robuxGiftOption", priceUSD: 6.49 }
            ]
        },
        {
            id: 3,
            nameKey: "spotifyName",
            descKey: "spotifyDesc",
            icon: "fab fa-spotify",
            options: [
                { nameKey: "spotify4Option", priceUSD: 15.99 },
                { nameKey: "spotify8Option", priceUSD: 29.99 },
                { nameKey: "spotify12Option", priceUSD: 39.99 }
            ]
        },
        {
            id: 4,
            nameKey: "canvaName",
            descKey: "canvaDesc",
            icon: "fas fa-palette",
            options: [
                { nameKey: "canvaOption", priceUSD: 119.99 }
            ]
        }
    ];

    // 页面初始化
    document.addEventListener('DOMContentLoaded', function() {
        updateLanguage();
        renderProducts();
        updateCartDisplay();
        
        // 初始化YouTube播放器
        initYouTubePlayer();
        
        // 添加音乐播放器点击事件
        document.querySelector('.music-player').addEventListener('click', function(e) {
            if (!e.target.closest('.music-btn')) {
                toggleMusicPlayer();
            }
        });
    });

    // 初始化YouTube播放器
    function initYouTubePlayer() {
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    }

    // YouTube API准备就绪
    function onYouTubeIframeAPIReady() {
        youtubePlayer = new YT.Player('youtube-player', {
            events: {
                'onReady': onPlayerReady,
                'onStateChange': onPlayerStateChange
            }
        });
    }

    function onPlayerReady(event) {
        // 播放器准备就绪
        console.log('YouTube播放器准备就绪');
    }

    function onPlayerStateChange(event) {
        // 播放状态变化
        if (event.data === YT.PlayerState.PLAYING) {
            document.getElementById('play-icon').className = 'fas fa-pause';
            document.querySelector('.now-playing').textContent = 
                currentLanguage === 'zh' ? '正在播放: YouTube音乐' : 'Now Playing: YouTube Music';
        } else if (event.data === YT.PlayerState.PAUSED) {
            document.getElementById('play-icon').className = 'fas fa-play';
            document.querySelector('.now-playing').textContent = 
                currentLanguage === 'zh' ? '已暂停' : 'Paused';
        }
    }

    // 切换页面
    function showPage(pageId) {
        // 隐藏所有页面
        document.querySelectorAll('.page-container').forEach(page => {
            page.classList.remove('active');
        });
        
        // 显示目标页面
        document.getElementById(`${pageId}-page`).classList.add('active');
        
        // 更新底部导航活动状态
        document.querySelectorAll('.nav-item').forEach(item => {
            item.classList.remove('active');
        });
        
        const activeItem = document.querySelector(`.nav-item[onclick*="${pageId}"]`);
        if (activeItem) {
            activeItem.classList.add('active');
        }
        
        // 如果是商品页面，确保已渲染
        if (pageId === 'products') {
            renderProducts();
        }
        // 如果是购物车页面，更新显示
        else if (pageId === 'cart') {
            updateCartDisplay();
        }
    }

    // 设置语言
    function setLanguage(lang) {
        currentLanguage = lang;
        updateLanguage();
        renderProducts();
        updateCartDisplay();
    }
// 更新语言
function updateLanguage() {
    // 更新页面标题和副标题
    const pages = ['home', 'products', 'cart', 'checkout', 'complete'];
    pages.forEach(page => {
        const pageEl = document.getElementById(`${page}-page`);
        if (pageEl) {
            const title = pageEl.querySelector('.page-title');
            const subtitle = pageEl.querySelector('.page-subtitle');
            
            if (title && translations[currentLanguage][`${page}Title`]) {
                title.textContent = translations[currentLanguage][`${page}Title`];
            }
            if (subtitle && translations[currentLanguage][`${page}Subtitle`]) {
                subtitle.textContent = translations[currentLanguage][`${page}Subtitle`];
            }
        }
    });
    
    // 更新完成页面内容
    const completePage = document.getElementById('complete-page');
    if (completePage) {
        const message = completePage.querySelector('.page-subtitle');
        if (message) {
            message.textContent = translations[currentLanguage].paymentMessage;
        }
        
        const reminderTitle = completePage.querySelector('h3');
        if (reminderTitle) {
            reminderTitle.textContent = translations[currentLanguage].importantReminder;
        }
        
        const contactNote = completePage.querySelector('p');
        if (contactNote && contactNote.textContent.includes('付款后')) {
            contactNote.textContent = translations[currentLanguage].contactNote;
        }
        
        const buttons = completePage.querySelectorAll('.btn');
        if (buttons[0]) {
            buttons[0].innerHTML = `<i class="fas fa-home"></i> ${translations[currentLanguage].returnHome}`;
        }
        if (buttons[1]) {
            buttons[1].innerHTML = `<i class="fas fa-shopping-cart"></i> ${translations[currentLanguage].continueShopping}`;
        }
    }
    
    // 更新按钮文本
    document.querySelectorAll('.btn-primary').forEach(btn => {
        if (btn.textContent.includes('开始购物')) {
            btn.innerHTML = `<i class="fas fa-store"></i> ${translations[currentLanguage].startShopping}`;
        } else if (btn.textContent.includes('浏览商品')) {
            btn.innerHTML = `<i class="fas fa-store"></i> ${translations[currentLanguage].browseProducts}`;
        } else if (btn.textContent.includes('前往付款')) {
            btn.innerHTML = `<i class="fas fa-credit-card"></i> ${translations[currentLanguage].proceedCheckout}`;
        }
    });
}

// 渲染商品
function renderProducts() {
    const container = document.getElementById('products-container');
    if (!container) return;
    
    container.innerHTML = '';
    
    products.forEach(product => {
        const productCard = document.createElement('div');
        productCard.className = 'product-card';
        
        let optionsHTML = '';
        product.options.forEach((option, index) => {
            optionsHTML += `
                <div class="option-item">
                    <div class="option-name">${translations[currentLanguage][option.nameKey]}</div>
                    <div class="option-price">$${option.priceUSD}</div>
                    <button class="option-action" onclick="addToCart(${product.id}, ${index})">
                        <i class="fas fa-cart-plus"></i>
                    </button>
                </div>
            `;
        });
        
        productCard.innerHTML = `
            <div class="product-header">
                <div class="product-icon">
                    <i class="${product.icon}"></i>
                </div>
                <div class="product-info">
                    <div class="product-name">${translations[currentLanguage][product.nameKey]}</div>
                    <div class="product-desc">${translations[currentLanguage][product.descKey]}</div>
                </div>
            </div>
            <div class="product-options">
                ${optionsHTML}
            </div>
            <div class="product-action">
                <button class="btn-primary btn-small" onclick="addToCart(${product.id}, 0)">
                    <i class="fas fa-cart-plus"></i>
                    ${translations[currentLanguage].addToCart}
                </button>
            </div>
        `;
        
        container.appendChild(productCard);
    });
}

// 添加到购物车
function addToCart(productId, optionIndex) {
    const product = products.find(p => p.id === productId);
    const option = product.options[optionIndex];
    
    // 检查是否已存在相同商品和选项
    const existingItemIndex = cart.findIndex(item => 
        item.productId === productId && item.optionIndex === optionIndex
    );
    
    if (existingItemIndex > -1) {
        // 增加数量
        cart[existingItemIndex].quantity += 1;
    } else {
        // 添加新项目
        cart.push({
            id: Date.now(),
            productId: productId,
            optionIndex: optionIndex,
            name: translations[currentLanguage][product.nameKey],
            optionName: translations[currentLanguage][option.nameKey],
            priceUSD: option.priceUSD,
            quantity: 1
        });
    }
    
    updateCartDisplay();
    showNotification(
        currentLanguage === 'zh' 
            ? `${translations[currentLanguage][product.nameKey]} 已添加到购物车`
            : `${translations[currentLanguage][product.nameKey]} added to cart`
    );
}

// 更新购物车显示
function updateCartDisplay() {
    // 更新购物车徽章
    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
    document.getElementById('cart-badge').textContent = totalItems;
    
    // 更新购物车页面
    updateCartPage();
}

// 更新购物车页面
function updateCartPage() {
    const container = document.getElementById('cart-items-container');
    const summarySection = document.getElementById('cart-summary-section');
    
    if (!container) return;
    
    if (cart.length === 0) {
        container.innerHTML = `
            <div id="empty-cart" style="text-align: center; padding: 40px 20px; color: var(--gray);">
                <div style="width: 80px; height: 80px; background: rgba(0, 0, 0, 0.05); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px;">
                    <i class="fas fa-shopping-cart" style="font-size: 36px; color: var(--gray);"></i>
                </div>
                <h3 style="margin-bottom: 8px; color: var(--dark); font-size: 18px;">${translations[currentLanguage].emptyCart}</h3>
                <p style="margin-bottom: 24px; font-size: 14px;">${currentLanguage === 'zh' ? '去商品页面添加一些商品吧！' : 'Go to products page to add some items!'}</p>
                <button class="btn-primary btn-small" onclick="showPage('products')" style="max-width: 200px; margin: 0 auto;">
                    <i class="fas fa-store"></i>
                    ${translations[currentLanguage].browseProducts}
                </button>
            </div>
        `;
        
        summarySection.style.display = 'none';
        return;
    }
    
    // 计算总价
    let subtotalUSD = 0;
    
    // 生成购物车项目HTML
    let itemsHTML = '';
    cart.forEach((item, index) => {
        const itemTotalUSD = item.priceUSD * item.quantity;
        subtotalUSD += itemTotalUSD;
        
        itemsHTML += `
            <div class="cart-item">
                <div class="cart-item-info">
                    <div class="cart-item-name">${item.name}</div>
                    <div class="cart-item-option">${item.optionName}</div>
                </div>
                <div class="cart-item-price">$${itemTotalUSD.toFixed(2)}</div>
                <div class="cart-item-actions">
                    <div class="quantity-control">
                        <button class="quantity-btn" onclick="updateQuantity(${index}, -1)">
                            <i class="fas fa-minus"></i>
                        </button>
                        <span class="quantity">${item.quantity}</span>
                        <button class="quantity-btn" onclick="updateQuantity(${index}, 1)">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    <button class="remove-btn" onclick="removeFromCart(${index})">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
        `;
    });
    
    const feeUSD = subtotalUSD * 0.02; // 2%手续费
    const totalUSD = subtotalUSD + feeUSD;
    
    container.innerHTML = itemsHTML;
    summarySection.style.display = 'block';
    
    // 更新价格
    document.getElementById('cart-subtotal').textContent = `$${subtotalUSD.toFixed(2)}`;
    document.getElementById('cart-fee').textContent = `$${feeUSD.toFixed(2)}`;
    document.getElementById('cart-total').textContent = `$${totalUSD.toFixed(2)}`;
    
    // 更新付款页面订单
    updateCheckoutOrder();
}
        // 更新商品数量
        function updateQuantity(index, change) {
            const newQuantity = cart[index].quantity + change;
            
            if (newQuantity < 1) {
                removeFromCart(index);
                return;
            }
            
            cart[index].quantity = newQuantity;
            updateCartDisplay();
        }

        // 从购物车移除
        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartDisplay();
            showNotification(
                currentLanguage === 'zh' 
                    ? '商品已从购物车移除'
                    : 'Item removed from cart'
            );
        }

        // 更新付款页面订单
        function updateCheckoutOrder() {
            const container = document.getElementById('checkout-items');
            if (!container) return;
            
            if (cart.length === 0) {
                container.innerHTML = '<p style="color: var(--gray); text-align: center; padding: 20px;">购物车是空的</p>';
                document.getElementById('checkout-total').textContent = '$0.00';
                return;
            }
            
            let itemsHTML = '';
            let totalUSD = 0;
            
            cart.forEach(item => {
                const itemTotalUSD = item.priceUSD * item.quantity;
                totalUSD += itemTotalUSD;
                
                itemsHTML += `
                    <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                        <div>
                            <div style="font-weight: 500; color: var(--dark);">${item.name} × ${item.quantity}</div>
                            <div style="font-size: 12px; color: var(--gray);">${item.optionName}</div>
                        </div>
                        <div style="font-weight: 600; color: var(--primary);">$${itemTotalUSD.toFixed(2)}</div>
                    </div>
                `;
            });
            
            const feeUSD = totalUSD * 0.02;
            const grandTotalUSD = totalUSD + feeUSD;
            
            container.innerHTML = itemsHTML;
            document.getElementById('checkout-total').textContent = `$${grandTotalUSD.toFixed(2)}`;
        }

        // 选择付款方式
        function selectPaymentMethod(method) {
            currentPaymentMethod = method;
            
            // 更新UI
            document.querySelectorAll('.payment-method').forEach(option => {
                option.classList.remove('active');
            });
            
            if (method === 'tng') {
                document.querySelectorAll('.payment-method')[0].classList.add('active');
                document.getElementById('tng-details').style.display = 'block';
                document.getElementById('ltc-details').style.display = 'none';
            } else {
                document.querySelectorAll('.payment-method')[1].classList.add('active');
                document.getElementById('tng-details').style.display = 'none';
                document.getElementById('ltc-details').style.display = 'block';
            }
        }

        // 完成付款
        function completePayment() {
            if (cart.length === 0) {
                showNotification(
                    currentLanguage === 'zh' 
                        ? '购物车是空的'
                        : 'Your cart is empty'
                );
                return;
            }
            
            // 清空购物车
            cart = [];
            updateCartDisplay();
            
            // 显示完成页面
            showPage('complete');
            
            // 显示成功通知
            showNotification(
                currentLanguage === 'zh' 
                    ? '付款成功！请通过WhatsApp联系我们确认'
                    : 'Payment successful! Please contact us via WhatsApp to confirm'
            );
        }

        // 打开WhatsApp
        function openWhatsApp() {
            const phone = '+601162430710';
            const message = currentLanguage === 'zh' 
                ? '你好，我已经完成付款，订单详情如下：' 
                : 'Hello, I have completed the payment. Order details:';
            window.open(`https://wa.me/${phone}?text=${encodeURIComponent(message)}`, '_blank');
        }

        // 打开Discord
        function openDiscord() {
            window.open('https://discord.gg/3BRcSV5Jvf', '_blank');
        }

        // 显示通知
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.innerHTML = `
                <i class="fas fa-check-circle"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // 音乐控制
        function togglePlayPause() {
            if (youtubePlayer) {
                if (isPlaying) {
                    youtubePlayer.pauseVideo();
                } else {
                    youtubePlayer.playVideo();
                }
                isPlaying = !isPlaying;
            }
        }

        function prevSong() {
            showNotification(
                currentLanguage === 'zh' 
                    ? '上一首歌曲'
                    : 'Previous Song'
            );
        }

        function nextSong() {
            showNotification(
                currentLanguage === 'zh' 
                    ? '下一首歌曲'
                    : 'Next Song'
            );
        }

        // 切换音乐播放器显示
        function toggleMusicPlayer() {
            const player = document.querySelector('.music-player');
            player.classList.toggle('hidden');
        }

        // 确保YouTube API函数全局可用
        window.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady;
    </script>
</body>
</html>
